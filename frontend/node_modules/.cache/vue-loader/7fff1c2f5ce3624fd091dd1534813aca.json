{"remainingRequest":"/Users/supachaingaongam/DRcomp/site/msa-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/supachaingaongam/DRcomp/site/msa-frontend/src/views/import/ImportStatment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/supachaingaongam/DRcomp/site/msa-frontend/src/views/import/ImportStatment.vue","mtime":1638417229205},{"path":"/Users/supachaingaongam/DRcomp/site/msa-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1636423873000},{"path":"/Users/supachaingaongam/DRcomp/site/msa-frontend/node_modules/babel-loader/lib/index.js","mtime":1636423873000},{"path":"/Users/supachaingaongam/DRcomp/site/msa-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1636423873000},{"path":"/Users/supachaingaongam/DRcomp/site/msa-frontend/node_modules/vue-loader/lib/index.js","mtime":1636423878000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCQ2FyZENvZGUgZnJvbSAiQGNvcmUvY29tcG9uZW50cy9iLWNhcmQtY29kZSI7CmltcG9ydCB7IEJGb3JtRmlsZSwgQkNhcmRUZXh0LCBCQnV0dG9uIH0gZnJvbSAiYm9vdHN0cmFwLXZ1ZSI7CmltcG9ydCB7IFhsc3hSZWFkLCBYbHN4SnNvbiB9IGZyb20gInZ1ZS14bHN4L2Rpc3QvdnVlLXhsc3guZXMuanMiCgoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJDYXJkQ29kZSwKICAgIEJDYXJkVGV4dCwKICAgIEJGb3JtRmlsZSwKICAgIEJCdXR0b24sCiAgICBYbHN4UmVhZCwKICAgIFhsc3hKc29uLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGU6IG51bGwsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0RmlsZSgpIHsKICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCB0aGlzLmZpbGUpOwogICAgICB0aGlzLiRodHRwCiAgICAgICAgLnBvc3QoIi9pbXBvcnQvc3RhdG1lbnQtZXhjZWwiLCBmb3JtRGF0YSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCAocmVzKT0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKT0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICAgCiAgICB9LAogICAgaGFuZGxlRmlsZVVwbG9hZChldmVudCkgewogICAgICB0aGlzLmZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ImportStatment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ImportStatment.vue","sourceRoot":"src/views/import","sourcesContent":["<template>\n  <b-card-code title=\"เลือกไฟล์ Excel STATMENT จาก สปสช. ที่ต้องการนำเข้า\">\n    <b-card-text>\n      ไฟล์ Excel รูปแบบไฟล์ต้องเป็นแบบเดียวกันกับ สปสช. ทุกประการ\n    </b-card-text>\n    <div>\n      <!-- Styled -->\n      <b-form-file\n        v-model=\"file\"\n        type=\"file\"\n        ref=\"file\"\n        @change=\"handleFileUpload($event)\"\n        placeholder=\"Choose a file or drop it here...\"\n        drop-placeholder=\"Drop file here...\"\n      />\n\n      <b-card-text class=\"my-1\">\n        ไฟล์ที่เลือก : <strong>{{ file ? file.name : \"\" }}</strong>\n      </b-card-text>\n      <b-button variant=\"primary\" v-on:click=\"submitFile()\"> อัพโหลด </b-button>\n    </div>\n  </b-card-code>\n</template>\n\n<script>\nimport BCardCode from \"@core/components/b-card-code\";\nimport { BFormFile, BCardText, BButton } from \"bootstrap-vue\";\nimport { XlsxRead, XlsxJson } from \"vue-xlsx/dist/vue-xlsx.es.js\"\n\n\nexport default {\n  components: {\n    BCardCode,\n    BCardText,\n    BFormFile,\n    BButton,\n    XlsxRead,\n    XlsxJson,\n  },\n  data() {\n    return {\n      file: null,\n    };\n  },\n  methods: {\n    submitFile() {\n      let formData = new FormData();\n\n      formData.append(\"file\", this.file);\n      this.$http\n        .post(\"/import/statment-excel\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then( (res)=> {\n          console.log(res.data);\n        })\n        .catch((err)=> {\n          console.log(err);\n        });\n     \n    },\n    handleFileUpload(event) {\n      this.file = event.target.files[0];\n    },\n  },\n};\n</script>\n"]}]}