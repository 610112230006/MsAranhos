{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/mixins/form-options.js","webpack:///./src/@core/components/toastification/ToastificationContent.vue?ecb9","webpack:///src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/@core/components/toastification/ToastificationContent.vue?270b","webpack:///./src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/assets/images/avatars/1-small.png","webpack:///./node_modules/bootstrap-vue/esm/components/form-radio/form-radio.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check-group.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox-group.js","webpack:///./node_modules/@fullcalendar/daygrid/main.js","webpack:///./node_modules/@fullcalendar/timegrid/main.js","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./src/@core/comp-functions/forms/form-validation.js","webpack:///./node_modules/vue-select/dist/vue-select.js","webpack:///./node_modules/flatpickr/dist/esm/types/options.js","webpack:///./node_modules/flatpickr/dist/esm/l10n/default.js","webpack:///./node_modules/flatpickr/dist/esm/utils/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dom.js","webpack:///./node_modules/flatpickr/dist/esm/utils/formatting.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dates.js","webpack:///./node_modules/flatpickr/dist/esm/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack:///./src/assets/images/pages/calendar-illustration.png","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/bootstrap-vue/esm/directives/visible/visible.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-textarea/form-textarea.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/@fullcalendar/interaction/main.js","webpack:///./src/assets/images/avatars/3-small.png","webpack:///./src/assets/images/avatars/7-small.png","webpack:///./src/@core/components/toastification/ToastificationContent.vue?2b89","webpack:///./src/assets/images/avatars/11-small.png","webpack:///./node_modules/bootstrap-vue/esm/components/sidebar/sidebar.js","webpack:///./node_modules/vue-flatpickr-component/dist/vue-flatpickr.min.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox.js","webpack:///./node_modules/bootstrap-vue/esm/utils/loose-index-of.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check.js","webpack:///./node_modules/@fullcalendar/common/vdom.js","webpack:///./node_modules/@fullcalendar/common/main.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/assets/images/avatars/5-small.png","webpack:///./node_modules/vue-ripple-directive/src/ripple.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/@fullcalendar/list/main.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/preact/compat/dist/compat.module.js","webpack:///./node_modules/@fullcalendar/core/vdom.js","webpack:///./node_modules/@fullcalendar/core/main.js","webpack:///./node_modules/@fullcalendar/vue/dist/options.js","webpack:///./node_modules/@fullcalendar/vue/dist/utils.js","webpack:///./node_modules/@fullcalendar/vue/dist/custom-content-type.js","webpack:///./node_modules/@fullcalendar/vue/dist/FullCalendar.js","webpack:///./node_modules/@fullcalendar/vue/dist/main.js","webpack:///./src/assets/images/avatars/9-small.png"],"names":["OPTIONS_OBJECT_DEPRECATED_MSG","props","disabledField","htmlField","options","textField","valueField","formOptionsMixin","extend","computed","formOptions","this","normalizeOptions","methods","normalizeOption","option","key","arguments","length","undefined","value","text","String","html","disabled","Boolean","_this","map","$options","name","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","variant","icon","class","domProps","_s","title","_e","on","$event","$emit","hideClose","staticRenderFns","components","BAvatar","type","default","component","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","_watch","id","BFormRadio","mixins","inject","bvGroup","from","watch","computedLocalChecked","newValue","oldValue","_objectSpread2","PASS_DOWN_ATTRS","_makeModelMixin","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","event","ariaInvalid","buttonVariant","buttons","stacked","validated","formRadioCheckGroupMixin","inheritAttrs","data","localChecked","inline","groupName","safeId","groupClasses","size","classes","concat","h","isRadioGroup","$attrs","optionComponent","$inputs","index","computedAriaInvalid","required","role","tabindex","normalizeSlot","BFormCheckboxGroup","provide","bvCheckGroup","TableView","_super","headerElRef","prototype","renderSimpleLayout","headerRowContent","bodyContent","_a","context","sections","stickyHeaderDates","isSticky","chunk","elRef","tableClassName","rowContent","liquid","content","viewSpec","rootElRef","classNames","ref","className","join","isHeightAuto","forPrint","collapsibleWidth","cols","renderHScrollLayout","colCnt","dayMinWidth","ScrollGrid","pluginHooks","scrollGridImpl","Error","stickyFooterScrollbar","chunks","colGroups","span","minWidth","splitSegsByRow","segs","rowCnt","byRow","_i","segs_1","seg","row","splitSegsByFirstCol","byCol","segs_2","firstCol","splitInteractionByRow","ui","affectedInstances","isEvent","TableCellTop","navLinkAttrs","date","dateProfile","todayRange","showDayNumber","extraHookProps","defaultContent","renderTopInner","innerElRef","innerContent","forceDayTop","dayNumberId","dayNumberText","DEFAULT_TABLE_EVENT_TIME_FORMAT","hour","minute","omitZeroMinute","meridiem","hasListItemDisplay","display","eventRange","def","allDay","lastCol","isStart","isEnd","TableBlockEvent","extraClassNames","defaultTimeFormat","defaultDisplayEventEnd","disableResizing","TableListItemEvent","timeFormat","eventTimeFormat","timeText","renderInnerContent","isDragging","isResizing","isDateSelecting","isSelected","isPast","isFuture","isToday","innerProps","style","borderColor","backgroundColor","TableCellMoreLink","compileSegs","singlePlacements","allSegs","invisibleSegs","allDayDate","moreCnt","hiddenSegs","alignmentElRef","alignGridTop","extraDateSpan","popoverContent","isForcedInvisible","eventDrag","eventResize","instanceId","instance","visibility","eventSelection","handleClick","isExpanded","popoverId","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","week","TableCell","state","handleRootEl","el","dayElRef","dayClassNames","rootDataAttrs","isDisabled","extraDataAttrs","showWeekNumber","defaultFormat","weekElRef","weekClassNames","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","dayMaxEvents","dayMaxEventRows","strictOrder","eventInstanceHeights","maxContentHeight","cells","hierarchy","DayGridSegHierarchy","allowReslicing","maxCoord","hiddenConsumes","maxStackCnt","segInputs","unknownHeightSegs","eventHeight","thickness","start","end","hiddenEntries","addSegs","segRects","toRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","isAbsolute","absoluteTop","col","resliceSeg","_b","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","rects","currentHeight","currentMarginTop","rects_1","rect","levelCoord","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","origRange","range","slicedRange","durationEditable","valueOf","forceHidden","call","entriesByLevel","excludeHidden","entry","level","handleInvalidInsertion","insertion","touchingEntry","touchingLevel","touchingLateral","touchingEntryId","placeholderEntry","placeholderEntryId","splitEntry","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","businessHourSegs","bgEventSegsByCol","bgEventSegs","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","fgEventSegs","eventOrder","eventOrderStrict","renderIntro","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","createRef","showDayNumbers","showWeekNumbers","renderFillSegs","componentDidMount","updateSizing","componentDidUpdate","prevProps","prevState","currentProps","dateSelectionSegs","segPlacements","isMirror","nodes","segPlacements_1","left","right","isRtl","lefts","rights","top","fillType","leftRightCss","isExternalSizingChange","clientWidth","frameEls","currentMap","originEl","current","setState","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","height","Math","round","getBoundingClientRect","split","max","firstKey","cellEl","fcContainerEl","bottom","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","addStateEquality","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","rootEl","registerInteractiveComponent","isHitComboAllowed","unregisterInteractiveComponent","expandRows","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","width","tableMinWidth","unit","nowDate","clientHeight","colGroupNode","toISOString","renderRowIntro","isSegAllDay","prepareHits","rowPositions","collect","rowObj","colPositions","queryHit","positionLeft","positionTop","leftToIndex","topToIndex","dateSpan","getCellRange","dayEl","getCellEl","tops","bottoms","layer","DayTableSlicer","forceDayIfListItem","sliceRange","dateRange","dayTableModel","DayTable","slicer","tableRef","sliceProps","nextDayThreshold","headerAlignElRef","DayTableView","buildDayTableModel","headerRef","dateProfileGenerator","headerContent","dayHeaders","dates","headerDates","datesRepDistinctDays","contentArg","businessHours","dateSelection","eventStore","eventUiBases","tableColGroupNode","weekNumbers","daySeries","renderRange","test","currentRangeUnit","TableDateProfileGenerator","buildRenderRange","currentRange","isRangeAllDay","endOfWeek","dateEnv","startOfWeek","monthMode","fixedWeekCount","ceil","main","initialView","views","dayGrid","dateProfileGeneratorClass","dayGridDay","duration","days","dayGridWeek","weeks","dayGridMonth","months","AllDaySplitter","getKeyInfo","timed","getKeysForDateSpan","getKeysForEventDef","eventDef","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","Consumer","isoTimeStr","viewApi","labelFormat","slotLabelFormat","Array","isArray","hookProps","time","toDate","view","format","slotLabelClassNames","slotLabelContent","didMount","slotLabelDidMount","willUnmount","slotLabelWillUnmount","customClassNames","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","scrollerElRef","slatCoords","handleScrollTopRequest","scrollTop","scrollerEl","renderHeadAxis","rowKey","frameHeight","dayCnt","renderTableRowAxis","rowHeight","allDayText","allDayClassNames","allDayContent","renderAllDayInner","allDayDidMount","allDayWillUnmount","handleSlatCoords","timeContent","outerContent","theme","getClass","syncRowHeights","arg","rowSyncHeights","colSpan","isNowIndicator","nowIndicator","nowIndicatorTop","safeComputeTop","isAxis","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","slotDuration","startOfDayDate","timeMs","slotMinTime","slotMaxTime","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","len","els","slatCoverage","milliseconds","min","floor","getHeight","TimeColsSlatsBody","slatElRefs","axis","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","TimeColsSlats","minHeight","componentWillUnmount","onCoords","offsetHeight","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderMoreLinkInner","renderPlainFgSegs","onClick","shortText","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","lateral","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","sort","cmpDescPressures","extractNode","a","b","subjectLevel","subjectLateral","levelCoords","subjectEntry","afterSubject","levelCnt","entries","searchIndex","topLevelNodes","totalThickness","stretchNode","node","startCoord","prevThickness","endCoord","allThickness","thicknessFraction","newChildren","nextLevelNodes_1","childNode","res","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","args","computeSegVCoords","colDate","eventMinHeight","vcoords","computeFgSegPlacements","segVCoords","eventMaxStack","dumbSegs","segRects_1","segRect","dumbSegs_1","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeColMisc","TimeCol","sortEventSegs","isSelectMirror","selectMirror","interactionAffectedInstances","sortedFgSegs","dataAttrs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","eventShortHeight","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","children","segHCoords","shouldOverlap","slotEventOverlap","nearCoord","farCoord","zIndex","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","handleScrollRequest","request","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","createScrollResponder","update","detach","snapDuration","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","add","snapDurationOverride","DayTimeColsSlicer","dayRanges","segRange","DayTimeCols","buildDayRanges","timeColsRef","sliceNowDate","ranges","STOCK_SUB_DURATIONS","hours","minutes","seconds","buildSlatMetas","explicitLabelInterval","dayStart","Date","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","splitProps","slotLabelInterval","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","OPTION_REFINERS","optionRefiners","timeGrid","usesMinMaxTime","timeGridDay","timeGridWeek","$","global","userAgent","slice","MSIE","wrap","scheduler","handler","timeout","boundArgs","Function","bind","forced","setTimeout","setInterval","formValidation","resetFormData","clearFormData","refFormObserver","resetObserver","reset","getValidationState","dirty","fieldRequired","changed","valid","result","resetForm","nextTick","clearForm","t","e","self","n","o","l","m","c","d","get","r","Symbol","toStringTag","__esModule","create","hasOwnProperty","p","s","iterator","constructor","toString","TypeError","autoscroll","typeAheadPointer","maybeAdjustScroll","$refs","dropdownMenu","getDropdownViewport","offsetTop","u","filteredOptions","selectable","typeAheadUp","typeAheadDown","typeAheadSelect","select","loading","mutableLoading","search","toggleLoading","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","shadowRoot","_injectStyles","beforeCreate","Deselect","xmlns","OpenIndicator","f","inserted","appendToBody","toggle","window","scrollX","pageXOffset","scrollY","pageYOffset","unbindPosition","calculatePosition","document","body","appendChild","unbind","parentNode","removeChild","y","JSON","stringify","g","v","_","directives","clearable","searchable","multiple","placeholder","transition","clearSearchOnSelect","closeOnSelect","label","autocomplete","reduce","getOptionLabel","console","warn","getOptionKey","onTab","selectOnTab","isComposing","taggable","Number","pushTags","filterable","filterBy","toLowerCase","indexOf","createOption","optionList","resetOnOptionsChange","validator","includes","clearSearchOnBlur","noDrop","inputId","dir","selectOnKeyCodes","searchInputQuerySelector","mapKeydown","uid","open","pushedTags","_value","selectedValue","clearSelection","isTrackingValues","setInternalValueFromOptions","created","$on","pushTag","$data","findOptionFromReducedValue","isOptionSelected","optionExists","updateValue","onAfterSelect","deselect","optionComparator","searchEl","blur","toggleDropdown","preventDefault","deselectButtons","clearButton","some","contains","focus","find","closeSearchOptions","maybeDeleteValue","normalizeOptionForSlot","onEscape","onSearchBlur","mousedown","searching","onSearchFocus","onMousedown","onMouseUp","onSearchKeyDown","8","9","27","38","40","keyCode","propsData","$scopedSlots","selectedOptions","querySelector","scope","attributes","searchPlaceholder","readonly","dropdownOpen","events","compositionstart","compositionend","keydown","input","spinner","noOptions","openIndicator","listHeader","listFooter","header","footer","childComponents","stateClasses","isValueEmpty","unshift","showClearButton","O","_t","_v","_l","refInFor","click","tag","_g","rawName","expression","mouseup","mouseover","stopPropagation","staticStyle","w","ajax","pointer","pointerScroll","HOOKS","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","navigator","ariaDateFormat","autoFillDefaultTime","clickOpens","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","getWeek","givenDate","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","hourIncrement","ignoredFocusElements","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","english","weekdays","shorthand","longhand","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","bool","debounce","fn","wait","clearTimeout","arrayify","toggleClass","elem","classList","remove","createElement","textContent","clearNode","firstChild","findParent","condition","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","getEventTarget","composedPath","path","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","parseFloat","H","J","day","K","getHours","RegExp","M","shortMonth","S","setSeconds","U","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","setMinutes","j","month","unixMillSeconds","tokenRegex","getMonth","getSeconds","getMinutes","substring","createDateFormatter","config","l10n","isMobile","frmt","overrideLocale","formatDate","arr","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","exec","val","isNaN","compareDates","date1","date2","isBetween","ts","ts1","ts2","DAY","getDefaultHours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","assign","flatpickr","defaultConfig","setupHelperFunctions","utils","currentMonth","yr","currentYear","init","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","setHoursFromDate","latestSelectedDateObj","setCalendarWidth","isSafari","positionCalendar","triggerEvent","bindToInstance","requestAnimationFrame","calendarContainer","daysContainer","daysWidth","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","defaults","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","onYearInput","eventTarget","delta","changeYear","ev","addEventListener","_handlers","removeEventListener","triggerChange","evt","querySelectorAll","setupMobile","debouncedResize","onResize","onMouseOver","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","timeIncrement","onBlur","jumpToDate","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","redraw","incrementNumInput","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","abs","changeMonth","focusOnDay","offset","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","getDaysInMonth","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","getAttribute","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","clear","triggerChangeEvent","toInitial","mobileInput","_initialDate","close","destroy","lastChild","_type","removeAttribute","k","isCalendarElem","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","to","allowKeydown","allowInlineKeydown","isTimeObj","focusAndClose","ctrlKey","elems","pluginElements","x","shiftKey","charAt","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","_positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","parse","dataset","formats","_enable","set","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","l10ns","customPositionElement","calendarHeight","acc","child","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","innerHeight","showOnTop","isCenter","isRight","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","single","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","_createElement","CALLBACKS","setSelectedDate","inputDate","rule","preloadedDate","nodeName","inputType","mobileFormatStr","defaultValue","step","hooks","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","isHourElem","isMinuteElem","_flatpickr","nodeList","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr","extendStatics","setPrototypeOf","__proto__","__extends","__","__assign","__spreadArray","pack","ar","_classCallCheck","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","OBSERVER_PROP_NAME","VisibilityObserver","vnode","callback","margin","once","observer","visible","doneOnce","createObserver","stop","IntersectionObserver","root","rootMargin","threshold","_unused","$nextTick","observe","isIntersecting","intersectionRatio","disconnect","_ref","modifiers","mod","_prevModifiers","_ref2","VBVisible","componentUpdated","maxRows","noAutoShrink","noResize","rows","BFormTextarea","listeners","heightInPx","computedStyle","styles","resize","computedRows","overflowY","computedMinRows","math","computedMaxRows","computedAttrs","form","plaintext","computedListeners","bvListeners","onInput","change","localValue","setHeight","mounted","visibleCallback","computeHeight","$isServer","$el","lineHeight","border","borderTopWidth","borderBottomWidth","padding","paddingTop","paddingBottom","oldHeight","scrollHeight","contentRows","computedClass","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","proto","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","pev","createEventFromMouse","emitter","trigger","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","origEvent","isTouch","deltaX","origPageX","deltaY","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","button","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","getMirrorEl","cloneNode","boxSizing","ScrollGeomCache","scrollController","doesListening","getScrollTop","scrollLeft","getScrollLeft","handleScrollChange","origScrollTop","origScrollLeft","scrollWidth","getScrollWidth","getScrollHeight","getClientWidth","getClientHeight","clientRect","computeClientRect","setScrollTop","getMaxScrollTop","setScrollLeft","getMaxScrollLeft","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","sign","bestSide","leftDist","rightDist","topDist","bottomDist","canScrollUp","canScrollDown","canScrollLeft","canScrollRight","queryScrollEls","query","FeaturefulElementDragging","delay","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","point","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","bestHit","offsetTracker","originLeft","originTop","activeRange","componentId","hit0","hit1","buildDatePointApiWithContext","datePointTransforms","transform","buildDatePointApi","dateStr","formatIso","omitTime","DateClicking","settings","isValidDateDownEl","hitDragging","jsEvent","calendarApi","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","unselect","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSelectionTransformers","dispatch","selection","selectMinDistance","dragScroll","selectLongPressDelay","longPressDelay","dateSpan0","dateSpan1","ms","dateSelectionTransformers_1","transformer","EventDragging","subjectSeg","relevantEvents","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","eventInstanceId","getCurrentData","eventDragMinDistance","getComponentTouchDelay","fixedMirrorParent","dragRevertDuration","isValid","isValidSegDownEl","mutation","interaction","affectedEvents","mutatedEvents","receivingOptions","editable","droppable","computeEventMutation","eventDragMutationMassagers","displayDrag","initialContext_1","receivingContext_1","eventInstance","eventApi","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","defs","defId","eventChangeArg","oldEvent","relatedEvents","revert","transformed","eventDropTransformers","datesDelta","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","useEventCenter","nextContext","prevContext","initialCalendar","massagers","date0","standardProps","hasEnd","allDayMaintainDuration","largeUnit","massagers_1","massager","eventLongPressDelay","EventResizing","draggingSegEl","draggingSeg","segEl","querySegEl","computeMutation","startDelta","endDelta","isFromStart","instanceRange","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","unselectCancel","onDocumentPointerUp","documentPointer","calendarState","unselectAuto","off","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","dropAccept","defProps","leftoverProps","externalDefTransforms","refined","extra","sourceId","forceEventDuration","startTime","str","getEmbeddedElData","prefix","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","componentInteractions","calendarInteractions","elementDraggingImpl","listenerRefiners","CLASS_NAME","ROOT_ACTION_EVENT_NAME_REQUEST_STATE","ROOT_ACTION_EVENT_NAME_TOGGLE","ROOT_EVENT_NAME_STATE","ROOT_EVENT_NAME_SYNC_STATE","ariaLabel","ariaLabelledby","backdrop","backdropVariant","bgVariant","bodyClass","closeLabel","footerClass","headerClass","lazy","noCloseOnBackdrop","noCloseOnEsc","noCloseOnRouteChange","noEnforceFocus","noHeader","noHeaderClose","noSlide","shadow","sidebarClass","textVariant","renderHeaderTitle","ctx","slotScope","renderHeaderClose","hide","renderHeader","$content","$title","$close","renderBody","renderFooter","$footer","renderContent","$header","renderBackdrop","localShow","onBackdropClick","BSidebar","transitionProps","css","enterClass","enterActiveClass","enterToClass","leaveClass","leaveActiveClass","leaveToClass","hasTitle","$slots","hasNormalizedSlot","titleId","bvAttrs","emitState","fullPath","$_returnFocusEl","listenOnRoot","handleToggle","handleSync","activated","emitSync","beforeDestroy","emitOnRoot","_this2","onKeydown","onTopTrapFocus","tabables","enforceFocus","reverse","onBottomTrapFocus","onBeforeEnter","onAfterEnter","onAfterLeave","$sidebar","beforeEnter","afterEnter","afterLeave","$backdrop","noFade","$tabTrapTop","$tabTrapBottom","replace","fp","getElem","fpInput","$watch","watchDisabled","immediate","deep","install","MODEL_PROP_NAME_INDETERMINATE","MODEL_EVENT_NAME_INDETERMINATE","BFormCheckbox","isChecked","checked","isRadio","setIndeterminate","computedLocalCheckedWatcher","$input","indeterminate","handleChange","_ref$target","uncheckedValue","isGroup","_methods","formRadioCheckMixin","hasFocus","isBtnMode","isPlain","plain","isCustom","isSwitch","switches","switch","isInline","isRequired","computedName","computedForm","computedSize","computedState","computedButtonVariant","buttonClasses","stateClass","handleFocus","$button","$label","for","FullCalendarVDom","Component","Fragment","createContext","createPortal","flushToDom","unmountComponentAtNode","EventSourceApi","internalEventSource","refetch","sourceIds","isRefetch","publicId","meta","url","removeElement","elementClosest","closest","documentElement","elementMatches","parentElement","method","matches","matchesSelector","msMatchesSelector","findElements","containers","allMatches","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","getEventTargetViaRoot","getElRoot","getRootNode","guid$1","getUniqueDomId","buildDelegationHandler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","createAriaClickAttrs","createAriaKeyboardAttrs","guidNumber","guid","disableCursor","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","field","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","substr","formatWithOrdinals","formatter","fallbackText","compareNumbers","isInt","computeSmallestCellWidth","allWidthEl","contentWidthEl","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","fwd","fwdlw","getUTCDay","dateToLocalArray","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","createEventInstance","forcedStartTzo","forcedEndTzo","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","name_2","filterHash","hash","filtered","mapHash","newHash","arrayToHash","a_1","item","hashValuesToArray","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","parseRecurring","defaultAllDay","recurringTypes","allDayGuess","typeData","typeId","expandRecurring","framingRange","recurringDef","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","parseString","parseObject","second","millisecond","specifiedWeeks","durationsEqual","d0","d1","addDurations","subtractDurations","multiplyDuration","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","mins","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","parts","simpleNumberFormat","direction","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","scrollTime","scrollTimeReset","dayPopoverFormat","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","aspectRatio","weekends","weekNumberCalculation","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","viewClassNames","viewDidMount","viewWillUnmount","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","handleWindowResize","windowResizeDelay","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","eventDataTransform","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","slotMinWidth","navLinks","rerenderDelay","moreLinkText","moreLinkHint","eventMinWidth","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","initialEvents","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","buttonTextKey","mergeRawOptions","optionSets","refineProps","refiners","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","constraint","overlap","allow","color","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","eventDefMemberAdders","memberAdder","freeze","startMeta","endMeta","startMarker","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","constraintRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","normalRange","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","fcSeg","getElSeg","eventDefs","compileEventUi","eventOrderSpecs","objs","buildSegCompareObj","_seg","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","defaultDisplayEventTime","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","getEventClassNames","isDraggable","isStartResizable","isEndResizable","buildEventRangeKey","getSegAnchorAttrs","href","hasHandlers","STANDARD_PROPS","parseDateSpan","defaultDuration","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","startStr","endStr","fabricateEventRange","triggerDateSelect","buildDateSpanApiWithContext","triggerDateUnselect","dateSpanTransforms","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","ViewApi","viewTitle","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","rawObj","buildEventSourceRefiners","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","dateOrObj","endDate","selectionInput","addEvent","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","EventApi","_context","setProp","mutate","setExtendedProp","setStart","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","canVGrowWithinCell","DEF_DEFAULTS","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","pointInsideRect","intersectRects","rect1","rect2","constrainPoint","getRectCenter","diffPoints","point1","point2","getCanVGrowWithinCell","computeCanVGrowWithinCell","div","possible","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","_splitInteraction","eventUiBuilders","keyInfos","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","info","buildEventUiForKey","keyInfo","buildEventUi","dateSpans","keys_1","splitStores","splitHashes","splitStates","affectedStores_1","mutatedKeysByDefId","mutatedStores_1","populate","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isOther","getDayClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","zonedDate","handleInteraction","customAction","_scrollbarWidths","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","overflow","innerEl","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","computeEdges","getPadding","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderBottom","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","parents","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","PositionCache","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","originClientTop","leftPosition","topPosition","getWidth","leftIndex","topIndex","ScrollController","canScrollVertically","canScrollHorizontally","ElementScrollController","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","iconOverridePrefix","getIconClass","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","queuedRequest","drain","fireInitialScroll","isDatesNew","ViewContextType","buildViewContext","viewOptions","addResizeHandler","removeResizeHandler","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","contextType","BaseComponent","setRef","DateComponent","elWidth","elHeight","createPlugin","deps","reducers","isLoadingFuncs","contextInit","viewPropsTransformers","isPropsValid","viewContainerAppends","themeClasses","namedTimeZonedImpl","optionChangeHandlers","contentTypeHandlers","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","overrideConfig","queryProp","theComponent","superType","superDef","rawOptions","overrides","tableCellShaded","buttonGroup","buttonActive","RenderHook","ContentHook","backupElRef","normalizeClassNames","CustomContentRenderContext","renderId","ContentHookInner","updateCustomContent","customContentInfo","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","MountHook","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","buildNext","nextDate","currentInfo","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","hint","textFallback","prevOrNext","navUnit","eventSourceDef$2","arrayEventSourcePlugin","eventSourceDef$1","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","setRequestHeader","onload","status","responseText","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","buildHtmlRenderer","domNodes","buildDomNodeRenderer","currentEl","currentHtml","currentDomNodes","newDomNodes","newDomNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","isPaused","tryDrain","pause","resume","force","depth","drained","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","newOptionOverrides","NamedTimeZoneImpl","SegHierarchy","stackCnts","insertEntry","findInsertion","isInsertionValid","insertEntryAt","stackCnt","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","insertAt","buildEntryKey","newEntry","candidateCoord","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","parseInteractionSettings","interactionSettingsToStore","interactionSettingsStore","ElementDragging","DRAG_META_REFINERS","parseDragMeta","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","groupClassName","Toolbar","startContent","endContent","model","extraClassName","forceLtr","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","labeledById","EventClicking","handleSegClick","hasUrlContainer","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","renderInner$1","TableDateCell","dayMeta","WEEKDAY_FORMAT","TableDowCell","dateMeta","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","explicitFormat","dateCnt","DaySeriesModel","indices","cnt","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","dayOffset","DayTableModel","breakOnWeeks","daysPerRow","buildCells","buildHeaderDates","buildCell","seriesSeg","nextIndex","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","extraArgs","eventSegs","computeActiveRange","rangeRes","sliceEventRanges","eventRanges","eventRanges_1","sliceEventRange","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","depths","callbackMap","handleValue","removed","added","refCallback","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","isColPropsEqual","cols0","cols1","renderMicroColGroup","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","microColGroupNode","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","renderChunkTd","isLiquid","sectionKey","reportRowHeightChange","section","getSectionByKey","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","disableDragging","standardClassNames","StandardEvent","renderInnerContent$1","NowIndicatorRoot","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","extraProps","DayCellRoot","refineHookProps","renderFill","BgEvent","WeekNumberRoot","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","extraAttrs","parentEl","alignmentEl","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","MoreLinkRoot","linkElRef","isPopoverOpen","computeRange","buildPublicSeg","handlePopoverClose","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn","Ripple","binding","setProps","rippler","targetBorder","dx","clientX","dy","clientY","maxX","maxY","radius","sqrt","ripple","rippleContainer","borderRadius","pointerEvents","storedTargetPosition","clearRipple","clearPosition","childNodes","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","DESCRIPTORS","has","isObject","copyConstructorProperties","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","symbol","string","desc","ListViewHeaderRow","textId","cellId","listDayFormat","sideText","listDaySideFormat","sideNavLinkAttrs","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","renderEventInnerContent","buildTimeContent","headers","interactiveAttrs","doAllDay","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","defaultProps","__k","__b","__e","__d","__c","__h","__v","base","__r","debounceRendering","__P","__n","ownerSVGElement","z","A","P","N","C","setProperty","cssText","T","I","__E","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","__html","unmount","getDerivedStateFromError","componentDidCatch","forceUpdate","Promise","resolve","__H","cancelAnimationFrame","E","isPureReactComponent","__f","__u","__R","__O","pop","delete","revealOrder","Map","V","isReactComponent","cancelBubble","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","$$typeof","Q","globalObj","globalThis","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs_1","_props","old","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","wasRendering","pauseRendering","resumeRendering","classNames_1","OPTION_IS_COMPLEX","resources","shallowCopy","output","wrapVDomGenerator","vDomGenerator","vue","createVueContentTypePlugin","buildVDomHandler","vDomContent","$destroy","initVue","$mount","initialContent","FullCalendar","initData","internal","scopedSlotOptions","calendar","buildOptions","getApi","beforeUpdate","buildWatchers","suppliedOptions","watchers","_loop_1","complexOptionName","GlobalVue","installed","Vue","use"],"mappings":"kHAAA,wKASIA,EAAgC,mFAEzBC,EAAQ,eAAsB,CACvCC,cAAe,eAAS,OAAkB,YAC1CC,UAAW,eAAS,OAAkB,QACtCC,QAAS,eAAS,OAAwB,IAC1CC,UAAW,eAAS,OAAkB,QACtCC,WAAY,eAAS,OAAkB,UACtC,sBAGQC,EAAmB,aAAIC,OAAO,CACvCP,MAAOA,EACPQ,SAAU,CACRC,YAAa,WACX,OAAOC,KAAKC,iBAAiBD,KAAKP,WAGtCS,QAAS,CACPC,gBAAiB,SAAyBC,GACxC,IAAIC,EAAMC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,KAG9E,GAAI,eAAcF,GAAS,CACzB,IAAIK,EAAQ,eAAIL,EAAQJ,KAAKL,YACzBe,EAAO,eAAIN,EAAQJ,KAAKN,WAC5B,MAAO,CACLe,MAAO,eAAYA,GAASJ,GAAOK,EAAOD,EAC1CC,KAAM,eAAUC,OAAO,eAAYD,GAAQL,EAAMK,IACjDE,KAAM,eAAIR,EAAQJ,KAAKR,WACvBqB,SAAUC,QAAQ,eAAIV,EAAQJ,KAAKT,iBAKvC,MAAO,CACLkB,MAAOJ,GAAOD,EACdM,KAAM,eAAUC,OAAOP,IACvBS,UAAU,IAGdZ,iBAAkB,SAA0BR,GAC1C,IAAIsB,EAAQf,KAGZ,OAAI,eAAQP,GACHA,EAAQuB,KAAI,SAAUZ,GAC3B,OAAOW,EAAMZ,gBAAgBC,MAEtB,eAAcX,IAEvB,eAAKJ,EAA+BW,KAAKiB,SAASC,MAE3C,eAAKzB,GAASuB,KAAI,SAAUX,GACjC,OAAOU,EAAMZ,gBAAgBV,EAAQY,IAAQ,GAAIA,OAO9C,Q,oFCtEb,IAAIc,EAAS,WAAa,IAAIC,EAAIpB,KAASqB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,WAAW,CAACE,YAAY,sBAAsBC,MAAM,CAAC,QAAUN,EAAIO,QAAQ,KAAO,WAAW,CAACJ,EAAG,eAAe,CAACG,MAAM,CAAC,KAAON,EAAIQ,KAAK,KAAO,SAAS,GAAGL,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAAEH,EAAS,MAAEG,EAAG,KAAK,CAACE,YAAY,+CAA+CI,MAAO,QAAUT,EAAIO,QAASG,SAAS,CAAC,YAAcV,EAAIW,GAAGX,EAAIY,UAAUZ,EAAIa,KAAMb,EAAQ,KAAEG,EAAG,QAAQ,CAACE,YAAY,2BAA2BK,SAAS,CAAC,YAAcV,EAAIW,GAAGX,EAAIV,SAASU,EAAIa,OAAOV,EAAG,OAAO,CAACE,YAAY,oDAAoDS,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,MAAM,kBAAkB,CAAGhB,EAAIiB,UAA+EjB,EAAIa,KAAxEV,EAAG,eAAe,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,YAAqB,MAAM,MACv5BY,EAAkB,G,YC4CtB,GACEC,WAAY,CACVC,QAAJ,QAEElD,MAAO,CACLqC,QAAS,CACPc,KAAM9B,OACN+B,QAAN,WAEId,KAAM,CACJa,KAAM9B,OACN+B,QAAN,MAEIV,MAAO,CACLS,KAAM9B,OACN+B,QAAN,MAEIhC,KAAM,CACJ+B,KAAM9B,OACN+B,QAAN,MAEIL,UAAW,CACTI,KAAM3B,QACN4B,SAAN,KCpE6X,I,wBCQzXC,EAAY,eACd,EACAxB,EACAmB,GACA,EACA,KACA,WACA,MAIa,OAAAK,E,gCCnBfC,EAAOC,QAAU,IAA0B,4B,8PCA3C,SAASC,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAASU,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIvD,UAAUC,OAAQsD,IAAK,CAAE,IAAIC,EAAyB,MAAhBxD,UAAUuD,GAAavD,UAAUuD,GAAK,GAAQA,EAAI,EAAKf,EAAQI,OAAOY,IAAS,GAAMC,SAAQ,SAAU1D,GAAO2D,EAAgBJ,EAAQvD,EAAKyD,EAAOzD,OAAsB6C,OAAOe,0BAA6Bf,OAAOgB,iBAAiBN,EAAQV,OAAOe,0BAA0BH,IAAmBhB,EAAQI,OAAOY,IAASC,SAAQ,SAAU1D,GAAO6C,OAAOiB,eAAeP,EAAQvD,EAAK6C,OAAOK,yBAAyBO,EAAQzD,OAAe,OAAOuD,EAE7gB,SAASI,EAAgBI,EAAK/D,EAAKI,GAAiK,OAApJJ,KAAO+D,EAAOlB,OAAOiB,eAAeC,EAAK/D,EAAK,CAAEI,MAAOA,EAAO+C,YAAY,EAAMa,cAAc,EAAMC,UAAU,IAAkBF,EAAI/D,GAAOI,EAAgB2D,EAapM,ICjBHG,EDiBO,EAAQ,eAAsB,eAASZ,EAAcA,EAAcA,EAAcA,EAAcA,EAAc,GAAIa,EAAA,MAAU,QAAmB,QAAsB,QAAgB,SAAkB,QAGtMC,EAA0B,aAAI5E,OAAO,CAC9CqB,KAAM,OACNwD,OAAQ,CAACF,EAAA,KAAS,OAClB,OAAkB,OAAe,QACjCG,OAAQ,CACNC,QAAS,CACPC,KAAM,eACNnC,SAAS,IAGbpD,MAAO,EACPwF,MAAO,CACLC,qBAAsB,SAA8BC,EAAUC,GACvD,eAAWD,EAAUC,IACxBjF,KAAKoC,MAAM,OAAkB4C,O,oCChCrC,SAAS,EAAQjC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAAS,EAAcW,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIvD,UAAUC,OAAQsD,IAAK,CAAE,IAAIC,EAAyB,MAAhBxD,UAAUuD,GAAavD,UAAUuD,GAAK,GAAQA,EAAI,EAAK,EAAQX,OAAOY,IAAS,GAAMC,SAAQ,SAAU1D,GAAO,EAAgBuD,EAAQvD,EAAKyD,EAAOzD,OAAsB6C,OAAOe,0BAA6Bf,OAAOgB,iBAAiBN,EAAQV,OAAOe,0BAA0BH,IAAmB,EAAQZ,OAAOY,IAASC,SAAQ,SAAU1D,GAAO6C,OAAOiB,eAAeP,EAAQvD,EAAK6C,OAAOK,yBAAyBO,EAAQzD,OAAe,OAAOuD,EAE7gB,SAAS,EAAgBQ,EAAK/D,EAAKI,GAAiK,OAApJJ,KAAO+D,EAAOlB,OAAOiB,eAAeC,EAAK/D,EAAK,CAAEI,MAAOA,EAAO+C,YAAY,EAAMa,cAAc,EAAMC,UAAU,IAAkBF,EAAI/D,GAAOI,EAAgB2D,EAqB3M,IC3BIc,ED2BAC,EAAkB,CAAC,mBAAoB,mBAEvCC,EAAkB,eAAe,WACjCC,EAAaD,EAAgBE,MAC7BC,EAAaH,EAAgB9F,MAC7BkG,EAAkBJ,EAAgBK,KAClCC,EAAmBN,EAAgBO,MAI5B,EAAQ,eAAsB,eAAS,EAAc,EAAc,EAAc,EAAc,EAAc,EAAc,EAAc,EAAc,GAAInB,EAAA,MAAUe,GAAa,QAAmB,QAAmB,QAAgB,QAAiB,QAAkB,GAAI,CACxRK,YAAa,eAAS,QAA0B,GAEhDC,cAAe,eAAS,QAExBC,QAAS,eAAS,QAAmB,GACrCC,QAAS,eAAS,QAAmB,GACrCC,UAAW,eAAS,QAAmB,MACpC,wBAGMC,EAA2B,aAAIpG,OAAO,CAC/C6E,OAAQ,CAACF,EAAA,KAASa,EAAY,OAAoB,OAAkB,OAAkB,OAAe,OAAgB,QACrHa,cAAc,EACd5G,MAAO,EACP6G,KAAM,WACJ,MAAO,CACLC,aAAcpG,KAAKwF,KAGvB1F,SAAU,CACRuG,OAAQ,WACN,OAAQrG,KAAK+F,SAEfO,UAAW,WAGT,OAAOtG,KAAKkB,MAAQlB,KAAKuG,UAE3BC,aAAc,WACZ,IAAIH,EAASrG,KAAKqG,OACdI,EAAOzG,KAAKyG,KACZT,EAAYhG,KAAKgG,UACjBU,EAAU,CACZ,gBAAiBV,GAUnB,OAPIhG,KAAK8F,UACPY,EAAU,CAACA,EAAS,mBAAoB,EAAgB,CACtD,YAAaL,EACb,sBAAuBA,GACtB,aAAaM,OAAOF,GAAOA,KAGzBC,IAGX5B,OAAQP,EAAS,GAAI,EAAgBA,EAAQiB,GAAiB,SAAUR,GACjE,eAAWA,EAAUhF,KAAKoG,gBAC7BpG,KAAKoG,aAAepB,MAEpB,EAAgBT,EAAQ,gBAAgB,SAAsBS,EAAUC,GACrE,eAAWD,EAAUC,IACxBjF,KAAKoC,MAAMsD,EAAkBV,MAE7BT,GACJpD,OAAQ,SAAgByF,GACtB,IAAI7F,EAAQf,KAER6G,EAAe7G,KAAK6G,aACpBnF,EAAQ,eAAK1B,KAAK8G,OAAQ3B,GAC1B4B,EAAkBF,EAAepC,EAAa,OAC9CuC,EAAUhH,KAAKD,YAAYiB,KAAI,SAAUZ,EAAQ6G,GACnD,IAAI5G,EAAM,aAAasG,OAAOM,GAC9B,OAAOL,EAAEG,EAAiB,CACxBzH,MAAO,CAELuB,SAAUT,EAAOS,WAAY,EAC7B2D,GAAIzD,EAAMwF,OAAOlG,GACjBI,MAAOL,EAAOK,OAMhBiB,MAAOA,EACPrB,IAAKA,GACJ,CAACuG,EAAE,OAAQ,CACZ9E,SAAU,OAAAlB,EAAA,MAAWR,EAAOQ,KAAMR,EAAOM,aAG7C,OAAOkG,EAAE,MAAO,CACd/E,MAAO,CAAC7B,KAAKwG,aAAc,oBAC3B9E,MAAO,EAAc,EAAc,GAAI,eAAK1B,KAAK8G,OAAQ3B,IAAmB,GAAI,CAC9E,eAAgBnF,KAAKkH,oBACrB,gBAAiBlH,KAAKmH,SAAW,OAAS,KAC1C3C,GAAIxE,KAAKuG,SACTa,KAAMP,EAAe,aAAe,QAEpCQ,SAAU,QAEX,CAACrH,KAAKsH,cAAc,QAAkBN,EAAShH,KAAKsH,qBC9H3D,SAAS,EAAQvE,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAAS,EAAcW,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIvD,UAAUC,OAAQsD,IAAK,CAAE,IAAIC,EAAyB,MAAhBxD,UAAUuD,GAAavD,UAAUuD,GAAK,GAAQA,EAAI,EAAK,EAAQX,OAAOY,IAAS,GAAMC,SAAQ,SAAU1D,GAAO,EAAgBuD,EAAQvD,EAAKyD,EAAOzD,OAAsB6C,OAAOe,0BAA6Bf,OAAOgB,iBAAiBN,EAAQV,OAAOe,0BAA0BH,IAAmB,EAAQZ,OAAOY,IAASC,SAAQ,SAAU1D,GAAO6C,OAAOiB,eAAeP,EAAQvD,EAAK6C,OAAOK,yBAAyBO,EAAQzD,OAAe,OAAOuD,EAE7gB,SAAS,EAAgBQ,EAAK/D,EAAKI,GAAiK,OAApJJ,KAAO+D,EAAOlB,OAAOiB,eAAeC,EAAK/D,EAAK,CAAEI,MAAOA,EAAO+C,YAAY,EAAMa,cAAc,EAAMC,UAAU,IAAkBF,EAAI/D,GAAOI,EAAgB2D,EASpM,IAAI,EAAQ,eAAsB,eAAS,EAAc,EAAc,GAAI,GAA2B,IAAKc,EAAiB,GAAI,EAAgBA,EAAgBM,EAAiB,eAAS,OAAiB,KAAM,EAAgBN,EAAgB,WAAY,eAAS,QAAmB,IAASA,KAAmB,QAGjTqC,EAAkC,aAAI1H,OAAO,CACtDqB,KAAM,OAENwD,OAAQ,CAACuB,GACTuB,QAAS,WACP,MAAO,CACLC,aAAczH,OAGlBV,MAAO,EACPQ,SAAU,CACR+G,aAAc,WACZ,OAAO,O,oCC9Bb,wEAcIa,EAA2B,SAAUC,GAErC,SAASD,IACL,IAAI3G,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAEhE,OADAe,EAAM6G,YAAc,kBACb7G,EAwEX,OA5EA,eAAU2G,EAAWC,GAMrBD,EAAUG,UAAUC,mBAAqB,SAAUC,EAAkBC,GACjE,IAAIC,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC1CC,EAAW,GACXC,EAAoB,gBAAqBF,EAAQzI,SAmBrD,OAlBIsI,GACAI,EAAS1E,KAAK,CACVhB,KAAM,SACNpC,IAAK,SACLgI,SAAUD,EACVE,MAAO,CACHC,MAAOvI,KAAK4H,YACZY,eAAgB,gBAChBC,WAAYV,KAIxBI,EAAS1E,KAAK,CACVhB,KAAM,OACNpC,IAAK,OACLqI,QAAQ,EACRJ,MAAO,CAAEK,QAASX,KAEd,eAAD,CAAe,OAAU,CAAEY,SAAUV,EAAQU,WAAY,SAAUC,EAAWC,GAAc,OAAQ,eAAD,CAAe,MAAO,CAAEC,IAAKF,EAAWG,UAAW,CAAC,cAAcrC,OAAOmC,GAAYG,KAAK,MAChM,gBAAc,OAAkB,CAAEP,QAASpJ,EAAM4J,eAAiB5J,EAAM6J,SAAUC,iBAAkB9J,EAAM6J,SAAUE,KAAM,GAA+BlB,SAAUA,SAE3KT,EAAUG,UAAUyB,oBAAsB,SAAUvB,EAAkBC,EAAauB,EAAQC,GACvF,IAAIC,EAAazJ,KAAKkI,QAAQwB,YAAYC,eAC1C,IAAKF,EACD,MAAM,IAAIG,MAAM,gCAEpB,IAAI3B,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC1CE,GAAqB9I,EAAM6J,UAAY,gBAAqBjB,EAAQzI,SACpEoK,GAAyBvK,EAAM6J,UAAY,gBAAyBjB,EAAQzI,SAC5E0I,EAAW,GAkCf,OAjCIJ,GACAI,EAAS1E,KAAK,CACVhB,KAAM,SACNpC,IAAK,SACLgI,SAAUD,EACV0B,OAAQ,CAAC,CACDzJ,IAAK,OACLkI,MAAOvI,KAAK4H,YACZY,eAAgB,gBAChBC,WAAYV,MAI5BI,EAAS1E,KAAK,CACVhB,KAAM,OACNpC,IAAK,OACLqI,QAAQ,EACRoB,OAAQ,CAAC,CACDzJ,IAAK,OACLsI,QAASX,MAGjB6B,GACA1B,EAAS1E,KAAK,CACVhB,KAAM,SACNpC,IAAK,SACLgI,UAAU,EACVyB,OAAQ,CAAC,CACDzJ,IAAK,OACLsI,QAAS,YAIjB,eAAD,CAAe,OAAU,CAAEC,SAAUV,EAAQU,WAAY,SAAUC,EAAWC,GAAc,OAAQ,eAAD,CAAe,MAAO,CAAEC,IAAKF,EAAWG,UAAW,CAAC,cAAcrC,OAAOmC,GAAYG,KAAK,MAChM,gBAAcQ,EAAY,CAAEf,QAASpJ,EAAM4J,eAAiB5J,EAAM6J,SAAUC,iBAAkB9J,EAAM6J,SAAUY,UAAW,CAAC,CAAEV,KAAM,CAAC,CAAEW,KAAMT,EAAQU,SAAUT,MAAmBrB,SAAUA,SAE3LT,EA7EmB,CA8E5B,QAEF,SAASwC,EAAeC,EAAMC,GAE1B,IADA,IAAIC,EAAQ,GACHxG,EAAI,EAAGA,EAAIuG,EAAQvG,GAAK,EAC7BwG,EAAMxG,GAAK,GAEf,IAAK,IAAIyG,EAAK,EAAGC,EAASJ,EAAMG,EAAKC,EAAOhK,OAAQ+J,IAAM,CACtD,IAAIE,EAAMD,EAAOD,GACjBD,EAAMG,EAAIC,KAAKhH,KAAK+G,GAExB,OAAOH,EAEX,SAASK,EAAoBP,EAAMZ,GAE/B,IADA,IAAIoB,EAAQ,GACH9G,EAAI,EAAGA,EAAI0F,EAAQ1F,GAAK,EAC7B8G,EAAM9G,GAAK,GAEf,IAAK,IAAIyG,EAAK,EAAGM,EAAST,EAAMG,EAAKM,EAAOrK,OAAQ+J,IAAM,CACtD,IAAIE,EAAMI,EAAON,GACjBK,EAAMH,EAAIK,UAAUpH,KAAK+G,GAE7B,OAAOG,EAEX,SAASG,EAAsBC,EAAIX,GAC/B,IAAIC,EAAQ,GACZ,GAAKU,EAKA,CACD,IAASlH,EAAI,EAAGA,EAAIuG,EAAQvG,GAAK,EAC7BwG,EAAMxG,GAAK,CACPmH,kBAAmBD,EAAGC,kBACtBC,QAASF,EAAGE,QACZd,KAAM,IAGd,IAAK,IAAIG,EAAK,EAAGrC,EAAK8C,EAAGZ,KAAMG,EAAKrC,EAAG1H,OAAQ+J,IAAM,CACjD,IAAIE,EAAMvC,EAAGqC,GACbD,EAAMG,EAAIC,KAAKN,KAAK1G,KAAK+G,SAd7B,IAAK,IAAI3G,EAAI,EAAGA,EAAIuG,EAAQvG,GAAK,EAC7BwG,EAAMxG,GAAK,KAgBnB,OAAOwG,EAGX,IAAIa,EAA8B,SAAUvD,GAExC,SAASuD,IACL,OAAkB,OAAXvD,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAQ/D,OAVA,eAAUkL,EAAcvD,GAIxBuD,EAAarD,UAAU1G,OAAS,WAC5B,IAAI7B,EAAQU,KAAKV,MACb6L,EAAe,gBAAkBnL,KAAKkI,QAAS5I,EAAM8L,MACzD,OAAQ,eAAD,CAAe,OAAgB,CAAEA,KAAM9L,EAAM8L,KAAMC,YAAa/L,EAAM+L,YAAaC,WAAYhM,EAAMgM,WAAYC,cAAejM,EAAMiM,cAAeC,eAAgBlM,EAAMkM,eAAgBC,eAAgBC,IAAkB,SAAUC,EAAYC,GAAgB,OAASA,GAAgBtM,EAAMuM,cAAiB,eAAD,CAAe,MAAO,CAAE7C,UAAW,qBAAsBD,IAAK4C,GACnX,gBAAc,IAAK,eAAS,CAAEnH,GAAIlF,EAAMwM,YAAa9C,UAAW,yBAA2BmC,GAAeS,GAAgB,gBAAc,OAAU,KAAM,WAEzJV,EAXsB,CAY/B,QACF,SAASQ,EAAepM,GACpB,OAAOA,EAAMyM,cAGjB,IAAIC,EAAkC,gBAAgB,CAClDC,KAAM,UACNC,OAAQ,UACRC,gBAAgB,EAChBC,SAAU,WAEd,SAASC,EAAmB7B,GACxB,IAAI8B,EAAU9B,EAAI+B,WAAWxB,GAAGuB,QAChC,MAAmB,cAAZA,GAAwC,SAAZA,IAC9B9B,EAAI+B,WAAWC,IAAIC,QACpBjC,EAAIK,WAAaL,EAAIkC,SACrBlC,EAAImC,SACJnC,EAAIoC,MAIZ,IAAIC,EAAiC,SAAUlF,GAE3C,SAASkF,IACL,OAAkB,OAAXlF,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAM/D,OARA,eAAU6M,EAAiBlF,GAI3BkF,EAAgBhF,UAAU1G,OAAS,WAC/B,IAAI7B,EAAQU,KAAKV,MACjB,OAAQ,eAAD,CAAe,OAAe,eAAS,GAAIA,EAAO,CAAEwN,gBAAiB,CAAC,mBAAoB,yBAA0B,cAAeC,kBAAmBf,EAAiCgB,uBAAwB1N,EAAM0N,uBAAwBC,iBAAkB3N,EAAMkL,IAAI+B,WAAWC,IAAIC,WAE5RI,EATyB,CAUlC,QAEEK,EAAoC,SAAUvF,GAE9C,SAASuF,IACL,OAAkB,OAAXvF,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAS/D,OAXA,eAAUkN,EAAoBvF,GAI9BuF,EAAmBrF,UAAU1G,OAAS,WAClC,IAAI8G,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC1CiF,EAAajF,EAAQzI,QAAQ2N,iBAAmBpB,EAChDqB,EAAW,gBAAiB/N,EAAMkL,IAAK2C,EAAYjF,GAAS,EAAM5I,EAAM0N,wBAC5E,OAAQ,eAAD,CAAe,OAAW,CAAExC,IAAKlL,EAAMkL,IAAK6C,SAAUA,EAAU5B,eAAgB6B,EAAoBC,WAAYjO,EAAMiO,WAAYC,YAAY,EAAOC,iBAAiB,EAAOC,WAAYpO,EAAMoO,WAAYC,OAAQrO,EAAMqO,OAAQC,SAAUtO,EAAMsO,SAAUC,QAASvO,EAAMuO,UAAW,SAAUhF,EAAWC,EAAY6C,EAAYC,GAAgB,OACzV,eADgW,CAClV,IAAK,eAAS,CAAE5C,UAAW,CAAC,mBAAoB,wBAAwBrC,OAAOmC,GAAYG,KAAK,KAAMF,IAAKF,GAAa,gBAAkBvJ,EAAMkL,IAAKtC,IAAW0D,OAE3KsB,EAZ4B,CAarC,QACF,SAASI,EAAmBQ,GACxB,OAAQ,eAAD,CAAe,OAAU,KAC5B,gBAAc,MAAO,CAAE9E,UAAW,uBAAwB+E,MAAO,CAAEC,YAAaF,EAAWE,aAAeF,EAAWG,mBACrHH,EAAWT,UAAa,eAAD,CAAe,MAAO,CAAErE,UAAW,iBAAmB8E,EAAWT,UACxF,gBAAc,MAAO,CAAErE,UAAW,kBAAoB8E,EAAWnI,MAAM3D,OAAS,gBAAc,OAAU,KAAM,OAGtH,IAAIkM,EAAmC,SAAUvG,GAE7C,SAASuG,IACL,IAAInN,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAEhE,OADAe,EAAMoN,YAAc,gBAAQA,GACrBpN,EAiBX,OArBA,eAAUmN,EAAmBvG,GAM7BuG,EAAkBrG,UAAU1G,OAAS,WACjC,IAAI7B,EAAQU,KAAKV,MACb2I,EAAKjI,KAAKmO,YAAY7O,EAAM8O,kBAAmBC,EAAUpG,EAAGoG,QAASC,EAAgBrG,EAAGqG,cAC5F,OAAQ,eAAD,CAAe,OAAc,CAAEjD,YAAa/L,EAAM+L,YAAaC,WAAYhM,EAAMgM,WAAYiD,WAAYjP,EAAMiP,WAAYC,QAASlP,EAAMkP,QAASH,QAASA,EAASI,WAAYH,EAAeI,eAAgBpP,EAAMoP,eAAgBC,aAAcrP,EAAMqP,aAAcC,cAAetP,EAAMsP,cAAeC,eAAgB,WAC3T,IAAIC,GAAqBxP,EAAMyP,UAAYzP,EAAMyP,UAAU/D,kBAAoB,QAC1E1L,EAAM0P,YAAc1P,EAAM0P,YAAYhE,kBAAoB,OAC3D,GACJ,OAAQ,eAAD,CAAe,OAAU,KAAMqD,EAAQrN,KAAI,SAAUwJ,GACxD,IAAIyE,EAAazE,EAAI+B,WAAW2C,SAASD,WACzC,OAAQ,eAAD,CAAe,MAAO,CAAEjG,UAAW,2BAA4B3I,IAAK4O,EAAYlB,MAAO,CACtFoB,WAAYL,EAAkBG,GAAc,SAAW,KACtD5C,EAAmB7B,GAAQ,eAAD,CAAe0C,EAAoB,eAAS,CAAE1C,IAAKA,EAAK+C,YAAY,EAAOG,WAAYuB,IAAe3P,EAAM8P,eAAgBpC,wBAAwB,GAAS,gBAAWxC,EAAKlL,EAAMgM,cAAkB,eAAD,CAAeuB,EAAiB,eAAS,CAAErC,IAAKA,EAAK+C,YAAY,EAAOC,YAAY,EAAOC,iBAAiB,EAAOC,WAAYuB,IAAe3P,EAAM8P,eAAgBpC,wBAAwB,GAAS,gBAAWxC,EAAKlL,EAAMgM,sBAErc,SAAUzC,EAAWC,EAAY6C,EAAYC,EAAcyD,EAAarN,EAAOsN,EAAYC,GAAa,OAAQ,eAAD,CAAe,IAAK,eAAS,CAAExG,IAAKF,EAAWG,UAAW,CAAC,wBAAwBrC,OAAOmC,GAAYG,KAAK,KAAMjH,MAAOA,EAAO,gBAAiBsN,EAAY,gBAAiBC,GAAa,gBAAqBF,IAAezD,OAEnVsC,EAtB2B,CAuBpC,QACF,SAASC,EAAYC,GAGjB,IAFA,IAAIC,EAAU,GACVC,EAAgB,GACXhE,EAAK,EAAGkF,EAAqBpB,EAAkB9D,EAAKkF,EAAmBjP,OAAQ+J,IAAM,CAC1F,IAAImF,EAAYD,EAAmBlF,GACnC+D,EAAQ5K,KAAKgM,EAAUjF,KAClBiF,EAAUC,WACXpB,EAAc7K,KAAKgM,EAAUjF,KAGrC,MAAO,CAAE6D,QAASA,EAASC,cAAeA,GAG9C,IAAIqB,EAA0B,gBAAgB,CAAEC,KAAM,WAClDC,EAA2B,SAAUlI,GAErC,SAASkI,IACL,IAAI9O,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAShE,OARAe,EAAM8H,UAAY,kBAClB9H,EAAM+O,MAAQ,CACVhE,YAAa,mBAEjB/K,EAAMgP,aAAe,SAAUC,GAC3B,gBAAOjP,EAAM8H,UAAWmH,GACxB,gBAAOjP,EAAMzB,MAAMiJ,MAAOyH,IAEvBjP,EAgBX,OA3BA,eAAU8O,EAAWlI,GAarBkI,EAAUhI,UAAU1G,OAAS,WACzB,IAAI8G,EAAKjI,KAAMkI,EAAUD,EAAGC,QAAS5I,EAAQ2I,EAAG3I,MAAOwQ,EAAQ7H,EAAG6H,MAAOjH,EAAYZ,EAAGY,UACpFuC,EAAO9L,EAAM8L,KAAMC,EAAc/L,EAAM+L,YACvCF,EAAe,gBAAkBjD,EAASkD,EAAM,QACpD,OAAQ,eAAD,CAAe,OAAa,CAAEA,KAAMA,EAAMC,YAAaA,EAAaC,WAAYhM,EAAMgM,WAAYC,cAAejM,EAAMiM,cAAeC,eAAgBlM,EAAMkM,eAAgBjD,MAAOvI,KAAK+P,eAAgB,SAAUE,EAAUC,EAAeC,EAAeC,GAAc,OAAQ,eAAD,CAAe,KAAM,eAAS,CAAErH,IAAKkH,EAAU7I,KAAM,WAAY4B,UAAW,CAAC,kBAAkBrC,OAAOuJ,EAAe5Q,EAAMwN,iBAAmB,IAAI7D,KAAK,MAAQkH,EAAe7Q,EAAM+Q,eAAiB/Q,EAAMiM,cAAgB,CAAE,kBAAmBuE,EAAMhE,aAAgB,IACxhB,gBAAc,MAAO,CAAE9C,UAAW,gDAAiDD,IAAKzJ,EAAMqM,YAC1FrM,EAAMgR,gBAAmB,eAAD,CAAe,OAAgB,CAAElF,KAAMA,EAAMmF,cAAeZ,IAA2B,SAAUa,EAAWC,EAAgB9E,EAAYC,GAAgB,OAAQ,eAAD,CAAe,IAAK,eAAS,CAAE7C,IAAKyH,EAAWxH,UAAW,CAAC,0BAA0BrC,OAAO8J,GAAgBxH,KAAK,MAAQkC,GAAeS,OAC9TwE,GAAe,eAAD,CAAelF,EAAc,CAAEE,KAAMA,EAAMC,YAAaA,EAAaE,cAAejM,EAAMiM,cAAeO,YAAagE,EAAMhE,YAAaD,YAAavM,EAAMuM,YAAaP,WAAYhM,EAAMgM,WAAYE,eAAgBlM,EAAMkM,iBAC5O,gBAAc,MAAO,CAAExC,UAAW,wBAAyBD,IAAKzJ,EAAMoR,gBAClEpR,EAAMqR,UACN,gBAAc,MAAO,CAAE3H,UAAW,wBAAyB+E,MAAO,CAAE6C,UAAWtR,EAAMuR,gBACjF,gBAAc3C,EAAmB,CAAEK,WAAYnD,EAAMgD,iBAAkB9O,EAAM8O,iBAAkBI,QAASlP,EAAMkP,QAASE,eAAgB7F,EAAW8F,cAAerP,EAAMiM,cAAeqD,cAAetP,EAAMsP,cAAevD,YAAa/L,EAAM+L,YAAa+D,eAAgB9P,EAAM8P,eAAgBL,UAAWzP,EAAMyP,UAAWC,YAAa1P,EAAM0P,YAAa1D,WAAYhM,EAAMgM,eACtX,gBAAc,MAAO,CAAEtC,UAAW,qBAAuB1J,EAAMwR,iBAEpEjB,EA5BmB,CA6B5B,QAEF,SAASkB,EAAsB5G,EAC/B6G,EAAcC,EAAiBC,EAAaC,EAAsBC,EAAkBC,GAChF,IAAIC,EAAY,IAAIC,EACpBD,EAAUE,gBAAiB,EAC3BF,EAAUJ,YAAcA,GACH,IAAjBF,IAA6C,IAApBC,GACzBK,EAAUG,SAAWL,EACrBE,EAAUI,gBAAiB,GAEE,kBAAjBV,EACZM,EAAUK,YAAcX,EAEQ,kBAApBC,IACZK,EAAUK,YAAcV,EACxBK,EAAUI,gBAAiB,GAK/B,IAFA,IAAIE,EAAY,GACZC,EAAoB,GACfhO,EAAI,EAAGA,EAAIsG,EAAK5J,OAAQsD,GAAK,EAAG,CACrC,IAAI2G,EAAML,EAAKtG,GACXoL,EAAazE,EAAI+B,WAAW2C,SAASD,WACrC6C,EAAcX,EAAqBlC,GACpB,MAAf6C,EACAF,EAAUnO,KAAK,CACXwD,MAAOpD,EACPkO,UAAWD,EACX9H,KAAM,CACFgI,MAAOxH,EAAIK,SACXoH,IAAKzH,EAAIkC,QAAU,KAK3BmF,EAAkBpO,KAAK+G,GAS/B,IANA,IAAI0H,EAAgBZ,EAAUa,QAAQP,GAClCQ,EAAWd,EAAUe,UACrBpK,EAAKqK,EAAWF,EAAUjI,EAAMkH,GAAQkB,EAAsBtK,EAAGsK,oBAAqBC,EAAqBvK,EAAGuK,mBAAoBC,EAAkBxK,EAAGwK,gBACvJC,EAAW,GACXC,EAAiB,GAEZrI,EAAK,EAAGsI,EAAsBf,EAAmBvH,EAAKsI,EAAoBrS,OAAQ+J,IAAM,CACzFE,EAAMoI,EAAoBtI,GAC9BkI,EAAmBhI,EAAIK,UAAUpH,KAAK,CAClC+G,IAAKA,EACLkF,WAAW,EACXmD,YAAY,EACZC,YAAa,EACblC,UAAW,IAEf,IAAK,IAAImC,EAAMvI,EAAIK,SAAUkI,GAAOvI,EAAIkC,QAASqG,GAAO,EACpDR,EAAoBQ,GAAKtP,KAAK,CAC1B+G,IAAKwI,EAAWxI,EAAKuI,EAAKA,EAAM,EAAG1B,GACnC3B,WAAW,EACXmD,YAAY,EACZC,YAAa,EACblC,UAAW,IAKvB,IAASmC,EAAM,EAAGA,EAAM1B,EAAM9Q,OAAQwS,GAAO,EACzCL,EAASjP,KAAK,GAElB,IAAK,IAAIwP,EAAK,EAAGC,EAAkBhB,EAAee,EAAKC,EAAgB3S,OAAQ0S,IAAM,CACjF,IAAIE,EAAcD,EAAgBD,GAE9BG,GADA5I,EAAML,EAAKgJ,EAAYlM,OACVkM,EAAYnJ,MAC7BwI,EAAmBY,EAAWpB,OAAOvO,KAAK,CACtC+G,IAAKwI,EAAWxI,EAAK4I,EAAWpB,MAAOoB,EAAWnB,IAAKZ,GACvD3B,WAAW,EACXmD,YAAY,EACZC,YAAa,EACblC,UAAW,IAEf,IAASmC,EAAMK,EAAWpB,MAAOe,EAAMK,EAAWnB,IAAKc,GAAO,EAC1DL,EAASK,IAAQ,EACjBR,EAAoBQ,GAAKtP,KAAK,CAC1B+G,IAAKwI,EAAWxI,EAAKuI,EAAKA,EAAM,EAAG1B,GACnC3B,WAAW,EACXmD,YAAY,EACZC,YAAa,EACblC,UAAW,IAKvB,IAASmC,EAAM,EAAGA,EAAM1B,EAAM9Q,OAAQwS,GAAO,EACzCJ,EAAelP,KAAKgP,EAAgBM,IAExC,MAAO,CAAER,oBAAqBA,EAAqBC,mBAAoBA,EAAoBE,SAAUA,EAAUC,eAAgBA,GAGnI,SAASL,EAAWe,EAAUlJ,EAAMkH,GAKhC,IAJA,IAAIiC,EAAiBC,EAAoBF,EAAUhC,EAAM9Q,QACrDgS,EAAsB,GACtBC,EAAqB,GACrBC,EAAkB,GACbM,EAAM,EAAGA,EAAM1B,EAAM9Q,OAAQwS,GAAO,EAAG,CAM5C,IALA,IAAIS,EAAQF,EAAeP,GAEvB3E,EAAmB,GACnBqF,EAAgB,EAChBC,EAAmB,EACdpJ,EAAK,EAAGqJ,EAAUH,EAAOlJ,EAAKqJ,EAAQpT,OAAQ+J,IAAM,CACzD,IAAIsJ,EAAOD,EAAQrJ,GACfE,EAAML,EAAKyJ,EAAK3M,OACpBmH,EAAiB3K,KAAK,CAClB+G,IAAKwI,EAAWxI,EAAKuI,EAAKA,EAAM,EAAG1B,GACnC3B,WAAW,EACXmD,YAAY,EACZC,YAAac,EAAKC,WAClBjD,UAAWgD,EAAKC,WAAaJ,IAEjCA,EAAgBG,EAAKC,WAAaD,EAAK7B,UAG3C,IAAI+B,EAAkB,GACtBL,EAAgB,EAChBC,EAAmB,EACnB,IAAK,IAAIzL,EAAK,EAAG8L,EAAUP,EAAOvL,EAAK8L,EAAQxT,OAAQ0H,IAAM,CACrD2L,EAAOG,EAAQ9L,GACfuC,EAAML,EAAKyJ,EAAK3M,OADpB,IAEI4L,EAAae,EAAK5J,KAAKiI,IAAM2B,EAAK5J,KAAKgI,MAAQ,EAC/CgC,EAAaJ,EAAK5J,KAAKgI,QAAUe,EACrCW,GAAoBE,EAAKC,WAAaJ,EACtCA,EAAgBG,EAAKC,WAAaD,EAAK7B,UACnCc,GACAa,GAAoBE,EAAK7B,UACrBiC,GACAF,EAAgBrQ,KAAK,CACjB+G,IAAKwI,EAAWxI,EAAKoJ,EAAK5J,KAAKgI,MAAO4B,EAAK5J,KAAKiI,IAAKZ,GACrD3B,WAAW,EACXmD,YAAY,EACZC,YAAac,EAAKC,WAClBjD,UAAW,KAIdoD,IACLF,EAAgBrQ,KAAK,CACjB+G,IAAKwI,EAAWxI,EAAKoJ,EAAK5J,KAAKgI,MAAO4B,EAAK5J,KAAKiI,IAAKZ,GACrD3B,WAAW,EACXmD,YAAY,EACZC,YAAac,EAAKC,WAClBjD,UAAW8C,IAEfA,EAAmB,GAG3BnB,EAAoB9O,KAAK2K,GACzBoE,EAAmB/O,KAAKqQ,GACxBrB,EAAgBhP,KAAKiQ,GAEzB,MAAO,CAAEnB,oBAAqBA,EAAqBC,mBAAoBA,EAAoBC,gBAAiBA,GAEhH,SAASc,EAAoBC,EAAOjK,GAEhC,IADA,IAAI+J,EAAiB,GACZP,EAAM,EAAGA,EAAMxJ,EAAQwJ,GAAO,EACnCO,EAAe7P,KAAK,IAExB,IAAK,IAAI6G,EAAK,EAAG2J,EAAUT,EAAOlJ,EAAK2J,EAAQ1T,OAAQ+J,IACnD,KAAIsJ,EAAOK,EAAQ3J,GACnB,IAASyI,EAAMa,EAAK5J,KAAKgI,MAAOe,EAAMa,EAAK5J,KAAKiI,IAAKc,GAAO,EACxDO,EAAeP,GAAKtP,KAAKmQ,GAGjC,OAAON,EAEX,SAASN,EAAWxI,EAAK0J,EAAWC,EAAS9C,GACzC,GAAI7G,EAAIK,WAAaqJ,GAAa1J,EAAIkC,UAAYyH,EAAU,EACxD,OAAO3J,EAEX,IAAI+B,EAAa/B,EAAI+B,WACjB6H,EAAY7H,EAAW8H,MACvBC,EAAc,gBAAgBF,EAAW,CACzCpC,MAAOX,EAAM6C,GAAW9I,KACxB6G,IAAK,eAAQZ,EAAM8C,EAAU,GAAG/I,KAAM,KAE1C,OAAO,eAAS,eAAS,GAAIZ,GAAM,CAAEK,SAAUqJ,EAAWxH,QAASyH,EAAU,EAAG5H,WAAY,CACpFC,IAAKD,EAAWC,IAChBzB,GAAI,eAAS,eAAS,GAAIwB,EAAWxB,IAAK,CAAEwJ,kBAAkB,IAC9DrF,SAAU3C,EAAW2C,SACrBmF,MAAOC,GACR3H,QAASnC,EAAImC,SAAW2H,EAAYtC,MAAMwC,YAAcJ,EAAUpC,MAAMwC,UAAW5H,MAAOpC,EAAIoC,OAAS0H,EAAYrC,IAAIuC,YAAcJ,EAAUnC,IAAIuC,YAE9J,IAAIjD,EAAqC,SAAU5J,GAE/C,SAAS4J,IACL,IAAIxQ,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAKhE,OAHAe,EAAM2Q,gBAAiB,EAEvB3Q,EAAM0T,YAAc,GACb1T,EAmCX,OA1CA,eAAUwQ,EAAqB5J,GAS/B4J,EAAoB1J,UAAUsK,QAAU,SAAUP,GAM9C,IALA,IAAI7Q,EAAQf,KACRyO,EAAa9G,EAAOE,UAAUsK,QAAQuC,KAAK1U,KAAM4R,GACjD+C,EAAiB3U,KAAK2U,eACtBC,EAAgB,SAAUC,GAAS,OAAQ9T,EAAM0T,YAAY,eAAcI,KAEtEC,EAAQ,EAAGA,EAAQH,EAAepU,OAAQuU,GAAS,EACxDH,EAAeG,GAASH,EAAeG,GAAOzR,OAAOuR,GAEzD,OAAOnG,GAEX8C,EAAoB1J,UAAUkN,uBAAyB,SAAUC,EAAWH,EAAO3C,GAC/E,IAAIjK,EAAKjI,KAAM2U,EAAiB1M,EAAG0M,eAAgBF,EAAcxM,EAAGwM,YAChEQ,EAAgBD,EAAUC,cAAeC,EAAgBF,EAAUE,cAAeC,EAAkBH,EAAUG,gBAClH,GAAInV,KAAK0R,gBAAkBuD,EAAe,CACtC,IAAIG,EAAkB,eAAcH,GAEpC,IAAKR,EAAYW,GACb,GAAIpV,KAAKwR,eAAgB,CACrB,IAAI6D,EAAmB,eAAS,eAAS,GAAIJ,GAAgB,CAAEjL,KAAM,gBAAeiL,EAAcjL,KAAM6K,EAAM7K,QAC1GsL,EAAqB,eAAcD,GACvCZ,EAAYa,IAAsB,EAClCX,EAAeO,GAAeC,GAAmBE,EACjDrV,KAAKuV,WAAWN,EAAeJ,EAAO3C,QAGtCuC,EAAYW,IAAmB,EAC/BlD,EAAczO,KAAKwR,GAI/B,OAAOtN,EAAOE,UAAUkN,uBAAuBL,KAAK1U,KAAMgV,EAAWH,EAAO3C,IAEzEX,EA3C6B,CA4CtC,QAEEiE,EAA0B,SAAU7N,GAEpC,SAAS6N,IACL,IAAIzU,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAWhE,OAVAe,EAAM0U,WAAa,IAAI,OACvB1U,EAAM2U,YAAc,IAAI,OACxB3U,EAAM4U,SAAW,IAAI,OACrB5U,EAAM6U,eAAiB,IAAI,OAC3B7U,EAAM8H,UAAY,kBAClB9H,EAAM+O,MAAQ,CACV+F,eAAgB,KAChBzE,iBAAkB,KAClBD,qBAAsB,IAEnBpQ,EAuKX,OApLA,eAAUyU,EAAU7N,GAepB6N,EAAS3N,UAAU1G,OAAS,WACxB,IAAIJ,EAAQf,KACRiI,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAOwQ,EAAQ7H,EAAG6H,MAAO5H,EAAUD,EAAGC,QAC5DzI,EAAUyI,EAAQzI,QAClB8J,EAASjK,EAAM+R,MAAM9Q,OACrBuV,EAAqBpL,EAAoBpL,EAAMyW,iBAAkBxM,GACjEyM,EAAmBtL,EAAoBpL,EAAM2W,YAAa1M,GAC1D2M,EAAqBxL,EAAoB1K,KAAKmW,mBAAoB5M,GAClE6M,EAAkB1L,EAAoB1K,KAAKqW,gBAAiB9M,GAC5D0J,EAAKlC,EAAsB,gBAAczR,EAAMgX,YAAa7W,EAAQ8W,YAAajX,EAAM0R,aAAc1R,EAAM2R,gBAAiBxR,EAAQ+W,iBAAkB1G,EAAMqB,qBAAsBrB,EAAMsB,iBAAkB9R,EAAM+R,OAAQkB,EAAsBU,EAAGV,oBAAqBC,EAAqBS,EAAGT,mBAAoBE,EAAWO,EAAGP,SAAUC,EAAiBM,EAAGN,eAC9V7D,EACFxP,EAAMyP,WAAazP,EAAMyP,UAAU/D,mBAChC1L,EAAM0P,aAAe1P,EAAM0P,YAAYhE,mBACxC,GACJ,OAAQ,eAAD,CAAe,KAAM,CAAEjC,IAAK/I,KAAK6I,UAAWzB,KAAM,OACrD9H,EAAMmX,aAAenX,EAAMmX,cAC3BnX,EAAM+R,MAAMrQ,KAAI,SAAU0V,EAAM3D,GAC5B,IAAI4D,EAAgB5V,EAAM6V,aAAa7D,EAAKzT,EAAM6J,SAAWoJ,EAAoBQ,GAAOP,EAAmBO,GAAMzT,EAAMgM,WAAYwD,GAC/H+H,EAAgB9V,EAAM6V,aAAa7D,EAAK+D,EAAsBV,EAAgBrD,GAAMP,GAAqBlT,EAAMgM,WAAY,GAAIxK,QAAQxB,EAAMyP,WAAYjO,QAAQxB,EAAM0P,cAAc,GACzL,OAAQ,eAAD,CAAea,EAAW,CAAExP,IAAKqW,EAAKrW,IAAKkI,MAAOxH,EAAM0U,WAAWsB,UAAUL,EAAKrW,KAAMsL,WAAY5K,EAAM2U,YAAYqB,UAAUL,EAAKrW,KAA+EgL,YAAa/L,EAAM+L,YAAaD,KAAMsL,EAAKtL,KAAMG,cAAejM,EAAM0X,eAAgB1G,eAAgBhR,EAAM2X,iBAA2B,IAARlE,EAAWlH,YAAavM,EAAM2X,gBAA4E3L,WAAYhM,EAAMgM,WAAY8D,eAAgB9P,EAAM8P,eAAgBL,UAAWzP,EAAMyP,UAAWC,YAAa1P,EAAM0P,YAAaxD,eAAgBkL,EAAKlL,eAAgB6E,eAAgBqG,EAAKrG,eAAgBvD,gBAAiB4J,EAAK5J,gBAAiB8B,cAAe8H,EAAK9H,cAAeJ,QAASkE,EAASK,GAAMlC,cAAe8B,EAAeI,GAAM3E,iBAAkBmE,EAAoBQ,GAAMrC,eAAgB3P,EAAM4U,SAASoB,UAAUL,EAAKrW,KAAMsQ,UACh3B,eAD23B,CAC72B,OAAU,KACpB,gBAAc,OAAU,KAAMgG,GAC9B,gBAAc,OAAU,KAAME,IAAkB/F,UACpD,eAD+D,CACjD,OAAU,KACpB/P,EAAMmW,eAAehB,EAAmBnD,GAAM,aAC9ChS,EAAMmW,eAAepB,EAAmB/C,GAAM,gBAC9ChS,EAAMmW,eAAelB,EAAiBjD,GAAM,oBAGhEyC,EAAS3N,UAAUsP,kBAAoB,WACnCnX,KAAKoX,cAAa,IAEtB5B,EAAS3N,UAAUwP,mBAAqB,SAAUC,EAAWC,GACzD,IAAIC,EAAexX,KAAKV,MACxBU,KAAKoX,cAAc,gBAAaE,EAAWE,KAE/ChC,EAAS3N,UAAUsO,iBAAmB,WAClC,IAAI7W,EAAQU,KAAKV,MACjB,OAAIA,EAAMyP,WAAazP,EAAMyP,UAAU5E,KAAK5J,OACjCjB,EAAMyP,UAAU5E,KAEvB7K,EAAM0P,aAAe1P,EAAM0P,YAAY7E,KAAK5J,OACrCjB,EAAM0P,YAAY7E,KAEtB7K,EAAMmY,mBAEjBjC,EAAS3N,UAAUwO,cAAgB,WAC/B,IAAI/W,EAAQU,KAAKV,MACjB,OAAIA,EAAM0P,aAAe1P,EAAM0P,YAAY7E,KAAK5J,OACrCjB,EAAM0P,YAAY7E,KAEtB,IAEXqL,EAAS3N,UAAU+O,aAAe,SAAU7D,EAAK2E,EAAepM,EAAYwD,EAAmBvB,EAAYC,EAAYC,GACnH,IAAIvF,EAAUlI,KAAKkI,QACfkH,EAAiBpP,KAAKV,MAAM8P,eAC5ByG,EAAiB7V,KAAK8P,MAAM+F,eAC5B7I,EAAqD,IAA5BhN,KAAKV,MAAM+R,MAAM9Q,OAC1CoX,EAAWpK,GAAcC,GAAcC,EACvCmK,EAAQ,GACZ,GAAI/B,EACA,IAAK,IAAIvL,EAAK,EAAGuN,EAAkBH,EAAepN,EAAKuN,EAAgBtX,OAAQ+J,IAAM,CACjF,IAAImF,EAAYoI,EAAgBvN,GAC5BE,EAAMiF,EAAUjF,IAChByE,EAAazE,EAAI+B,WAAW2C,SAASD,WACrC5O,EAAM4O,EAAa,IAAM8D,EACzBrD,EAAYD,EAAUC,YAAcZ,EAAkBG,GACtD4D,EAAapD,EAAUoD,WACvBiF,EAAO,GACPC,EAAQ,GACRlF,IACI3K,EAAQ8P,OACRD,EAAQ,EACRD,EAAOjC,EAAeoC,MAAMzN,EAAIkC,SAAWmJ,EAAeoC,MAAMzN,EAAIK,YAGpEiN,EAAO,EACPC,EAAQlC,EAAeqC,OAAO1N,EAAIK,UAAYgL,EAAeqC,OAAO1N,EAAIkC,WAOhFkL,EAAMnU,KAAK,gBAAc,MAAO,CAAEuF,UAAW,4BAA8B6J,EAAa,gCAAkC,IAAKxS,IAAKA,EAAK0I,IAAK4O,EAAW,KAAO3X,KAAK4V,eAAemB,UAAU1W,GAAM0N,MAAO,CACnMoB,WAAYO,EAAY,GAAK,SAC7BkB,UAAWiC,EAAa,GAAKpD,EAAUmB,UACvCuH,IAAKtF,EAAapD,EAAUqD,YAAc,GAC1CgF,KAAMA,EACNC,MAAOA,IACN1L,EAAmB7B,GAAQ,eAAD,CAAe0C,EAAoB,eAAS,CAAE1C,IAAKA,EAAK+C,WAAYA,EAAYG,WAAYuB,IAAeG,EAAgBpC,uBAAwBA,GAA0B,gBAAWxC,EAAKc,KAAkB,eAAD,CAAeuB,EAAiB,eAAS,CAAErC,IAAKA,EAAK+C,WAAYA,EAAYC,WAAYA,EAAYC,gBAAiBA,EAAiBC,WAAYuB,IAAeG,EAAgBpC,uBAAwBA,GAA0B,gBAAWxC,EAAKc,OAG7e,OAAOsM,GAEXpC,EAAS3N,UAAUqP,eAAiB,SAAU/M,EAAMiO,GAChD,IAAIJ,EAAQhY,KAAKkI,QAAQ8P,MACrB1M,EAAatL,KAAKV,MAAMgM,WACxBuK,EAAiB7V,KAAK8P,MAAM+F,eAC5B+B,EAAQ,GACZ,GAAI/B,EACA,IAAK,IAAIvL,EAAK,EAAGC,EAASJ,EAAMG,EAAKC,EAAOhK,OAAQ+J,IAAM,CACtD,IAAIE,EAAMD,EAAOD,GACb+N,EAAeL,EAAQ,CACvBD,MAAO,EACPD,KAAMjC,EAAeoC,MAAMzN,EAAIkC,SAAWmJ,EAAeoC,MAAMzN,EAAIK,WACnE,CACAiN,KAAM,EACNC,MAAOlC,EAAeqC,OAAO1N,EAAIK,UAAYgL,EAAeqC,OAAO1N,EAAIkC,UAE3EkL,EAAMnU,KAAK,gBAAc,MAAO,CAAEpD,IAAK,gBAAmBmK,EAAI+B,YAAavD,UAAW,wBAAyB+E,MAAOsK,GAA6B,aAAbD,EAClI,gBAAc,OAAS,eAAS,CAAE5N,IAAKA,GAAO,gBAAWA,EAAKc,KAC9D,gBAAW8M,KAGvB,OAAO,QAAc1U,WAAM,EAAQ,eAAc,CAAC,OAAU,IAAKkU,KAErEpC,EAAS3N,UAAUuP,aAAe,SAAUkB,GACxC,IAAIrQ,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAOoW,EAAczN,EAAGyN,YAClD,IAAKpW,EAAM6J,UACe,OAAtB7J,EAAMiZ,YACR,CACE,GAAID,EAAwB,CACxB,IAAIE,EAAWlZ,EAAM+R,MAAMrQ,KAAI,SAAU0V,GAAQ,OAAOhB,EAAY+C,WAAW/B,EAAKrW,QACpF,GAAImY,EAASjY,OAAQ,CACjB,IAAImY,EAAW1Y,KAAK6I,UAAU8P,QAC9B3Y,KAAK4Y,SAAS,CACV/C,eAAgB,IAAI,OAAc6C,EAAUF,GAAU,GACtD,MAIZ,IAAIK,EAAqB7Y,KAAK8P,MAAMqB,qBAChC2H,EAAqB9Y,KAAK+Y,4BAC1BC,GAA8C,IAAvB1Z,EAAM0R,eAAmD,IAA1B1R,EAAM2R,gBAChEjR,KAAK4Y,SAAS,CAIVzH,qBAAsB,eAAS,eAAS,GAAI0H,GAAqBC,GACjE1H,iBAAkB4H,EAAuBhZ,KAAKiZ,0BAA4B,SAItFzD,EAAS3N,UAAUkR,0BAA4B,WAC3C,IAAIG,EAAWlZ,KAAK4V,eAAe6C,WAC/BtH,EAAuB,GAE3B,IAAK,IAAI9Q,KAAO6Y,EAAU,CACtB,IAAIC,EAASC,KAAKC,MAAMH,EAAS7Y,GAAKiZ,wBAAwBH,QAC1DlK,EAAa5O,EAAIkZ,MAAM,KAAK,GAChCpI,EAAqBlC,GAAcmK,KAAKI,IAAIrI,EAAqBlC,IAAe,EAAGkK,GAEvF,OAAOhI,GAEXqE,EAAS3N,UAAUoR,wBAA0B,WACzC,IAAIQ,EAAWzZ,KAAKV,MAAM+R,MAAM,GAAGhR,IAC/BqZ,EAAS1Z,KAAKyV,WAAWgD,WAAWgB,GACpCE,EAAgB3Z,KAAK2V,SAAS8C,WAAWgB,GAC7C,OAAOC,EAAOJ,wBAAwBM,OAASD,EAAcL,wBAAwBnB,KAEzF3C,EAAS3N,UAAUgS,WAAa,WAC5B,IAAIC,EAAQ9Z,KAAKyV,WAAWgD,WAC5B,OAAOzY,KAAKV,MAAM+R,MAAMrQ,KAAI,SAAU0V,GAAQ,OAAOoD,EAAMpD,EAAKrW,SAE7DmV,EArLkB,CAsL3B,QAIF,SAASsB,EAAsBiD,EAAYC,GACvC,IAAKD,EAAWxZ,OACZ,MAAO,GAEX,IAAI0Z,EAAmBC,EAAqBF,GAC5C,OAAOD,EAAW/Y,KAAI,SAAUwJ,GAAO,MAAO,CAC1CA,IAAKA,EACLkF,WAAW,EACXmD,YAAY,EACZC,YAAamH,EAAiBzP,EAAI+B,WAAW2C,SAASD,YACtD2B,UAAW,MAGnB,SAASsJ,EAAqBF,GAE1B,IADA,IAAIC,EAAmB,GACd3P,EAAK,EAAG6P,EAAkBH,EAAe1P,EAAK6P,EAAgB5Z,OAAQ+J,IAE3E,IADA,IAAI8P,EAAaD,EAAgB7P,GACxBrC,EAAK,EAAGoS,EAAeD,EAAYnS,EAAKoS,EAAa9Z,OAAQ0H,IAAM,CACxE,IAAIwH,EAAY4K,EAAapS,GAC7BgS,EAAiBxK,EAAUjF,IAAI+B,WAAW2C,SAASD,YAAcQ,EAAUqD,YAGnF,OAAOmH,EAzBXzE,EAAS8E,iBAAiB,CACtBnJ,qBAAsB,UA2B1B,IAAIoJ,EAAuB,SAAU5S,GAEjC,SAAS4S,IACL,IAAIxZ,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAoBhE,OAnBAe,EAAMyZ,sBAAwB,gBAAQtQ,GACtCnJ,EAAM0Z,iBAAmB,gBAAQvQ,GACjCnJ,EAAM2Z,iBAAmB,gBAAQxQ,GACjCnJ,EAAM4Z,uBAAyB,gBAAQzQ,GACvCnJ,EAAM6Z,eAAiB,gBAAQ9P,GAC/B/J,EAAM8Z,iBAAmB,gBAAQ/P,GACjC/J,EAAM+Z,QAAU,IAAI,OACpB/Z,EAAMgP,aAAe,SAAUgL,GAC3Bha,EAAMga,OAASA,EACXA,EACAha,EAAMmH,QAAQ8S,6BAA6Bja,EAAO,CAC9CiP,GAAI+K,EACJE,kBAAmBla,EAAMzB,MAAM2b,oBAInCla,EAAMmH,QAAQgT,+BAA+Bna,IAG9CA,EAkFX,OAxGA,eAAUwZ,EAAO5S,GAwBjB4S,EAAM1S,UAAU1G,OAAS,WACrB,IAAIJ,EAAQf,KACRV,EAAQU,KAAKV,MACb+L,EAAc/L,EAAM+L,YAAa4F,EAAkB3R,EAAM2R,gBAAiBD,EAAe1R,EAAM0R,aAAcmK,EAAa7b,EAAM6b,WAChI/Q,EAAS9K,EAAM+R,MAAM9Q,OACrB6a,EAAwBpb,KAAKwa,sBAAsBlb,EAAMyW,iBAAkB3L,GAC3EiR,EAAmBrb,KAAKya,iBAAiBnb,EAAM2W,YAAa7L,GAC5DkR,EAAmBtb,KAAK0a,iBAAiBpb,EAAMgX,YAAalM,GAC5DmR,EAAyBvb,KAAK2a,uBAAuBrb,EAAMmY,kBAAmBrN,GAC9EoR,EAAiBxb,KAAK4a,eAAetb,EAAMyP,UAAW3E,GACtDqR,EAAmBzb,KAAK6a,iBAAiBvb,EAAM0P,YAAa5E,GAC5DsR,GAAoC,IAAjB1K,IAA6C,IAApBC,EAG5CyK,IAAqBP,IACrBO,GAAmB,EACnBzK,EAAkB,KAClBD,EAAe,MAEnB,IAAIlI,EAAa,CACb,kBACA4S,EAAmB,2BAA6B,6BAChDP,EAAa,GAAK,2BAEtB,OAAQ,eAAD,CAAe,MAAO,CAAEnS,UAAWF,EAAWG,KAAK,KAAMF,IAAK/I,KAAK+P,aAAchC,MAAO,CAGvF4N,MAAOrc,EAAMiZ,YACbtO,SAAU3K,EAAMsc,gBAEpB,gBAAc,OAAU,CAAEC,KAAM,QAAS,SAAUC,EAASxQ,GAAc,OAAQ,eAAD,CAAe,OAAU,KACtG,gBAAc,QAAS,CAAElE,KAAM,eAAgB4B,UAAW,2BAA4B+E,MAAO,CACrF4N,MAAOrc,EAAMiZ,YACbtO,SAAU3K,EAAMsc,cAChBzC,OAAQgC,EAAa7b,EAAMyc,aAAe,KAE9Czc,EAAM0c,aACN,gBAAc,QAAS,CAAE5U,KAAM,gBAAkB9H,EAAM+R,MAAMrQ,KAAI,SAAUqQ,EAAO5G,GAAO,OAAQ,eAAD,CAAe+K,EAAU,CAAEzM,IAAKhI,EAAM+Z,QAAQ/D,UAAUtM,GAAMpK,IAAKgR,EAAM9Q,OAC/J8Q,EAAM,GAAGjG,KAAK6Q,cACdxR,EACJuM,eAAgB5M,EAAS,EAAG6M,gBAAiB3X,EAAM2X,gBAAiB3L,WAAYA,EAAYD,YAAaA,EAAagG,MAAOA,EAAOoF,YAAanX,EAAM4c,eAAgBnG,iBAAkBqF,EAAsB3Q,GAAM2E,eAAgB9P,EAAM8P,eAAgB6G,YAAaoF,EAAiB5Q,GAAKpH,OAAO8Y,GAAyB7F,YAAagF,EAAiB7Q,GAAMgN,kBAAmB8D,EAAuB9Q,GAAMsE,UAAWyM,EAAe/Q,GAAMuE,YAAayM,EAAiBhR,GAAMuG,aAAcA,EAAcC,gBAAiBA,EAAiBsH,YAAajZ,EAAMiZ,YAAawD,aAAczc,EAAMyc,aAAc5S,SAAU7J,EAAM6J,sBAI5nBoR,EAAM1S,UAAUuU,YAAc,WAC1Bpc,KAAKqc,aAAe,IAAI,OAAcrc,KAAK+a,OAAQ/a,KAAK8a,QAAQwB,UAAUtb,KAAI,SAAUub,GAAU,OAAOA,EAAO1C,aAAa,OAC7H,GAAO,GACP7Z,KAAKwc,aAAe,IAAI,OAAcxc,KAAK+a,OAAQ/a,KAAK8a,QAAQrC,WAAW,GAAGoB,cAC9E,GACA,IAEJU,EAAM1S,UAAU4U,SAAW,SAAUC,EAAcC,GAC/C,IAAI1U,EAAKjI,KAAMwc,EAAevU,EAAGuU,aAAcH,EAAepU,EAAGoU,aAC7DtJ,EAAMyJ,EAAaI,YAAYF,GAC/BjS,EAAM4R,EAAaQ,WAAWF,GAClC,GAAW,MAAPlS,GAAsB,MAAPsI,EAAa,CAC5B,IAAI2D,EAAO1W,KAAKV,MAAM+R,MAAM5G,GAAKsI,GACjC,MAAO,CACH1H,YAAarL,KAAKV,MAAM+L,YACxByR,SAAU,eAAS,CAAEzI,MAAOrU,KAAK+c,aAAatS,EAAKsI,GAAMtG,QAAQ,GAAQiK,EAAK9H,eAC9EoO,MAAOhd,KAAKid,UAAUxS,EAAKsI,GAC3Ba,KAAM,CACFkE,KAAM0E,EAAavE,MAAMlF,GACzBgF,MAAOyE,EAAatE,OAAOnF,GAC3BoF,IAAKkE,EAAaa,KAAKzS,GACvBmP,OAAQyC,EAAac,QAAQ1S,IAEjC2S,MAAO,GAGf,OAAO,MAEX7C,EAAM1S,UAAUoV,UAAY,SAAUxS,EAAKsI,GACvC,OAAO/S,KAAK8a,QAAQrC,WAAWhO,GAAKoP,aAAa9G,IAErDwH,EAAM1S,UAAUkV,aAAe,SAAUtS,EAAKsI,GAC1C,IAAIf,EAAQhS,KAAKV,MAAM+R,MAAM5G,GAAKsI,GAAK3H,KACnC6G,EAAM,eAAQD,EAAO,GACzB,MAAO,CAAEA,MAAOA,EAAOC,IAAKA,IAEzBsI,EAzGe,CA0GxB,QACF,SAAS4B,EAAY3R,GACjB,OAAOA,EAAI+B,WAAWC,IAAIC,OAG9B,IAAI4Q,EAAgC,SAAU1V,GAE1C,SAAS0V,IACL,IAAItc,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAEhE,OADAe,EAAMuc,oBAAqB,EACpBvc,EAKX,OATA,eAAUsc,EAAgB1V,GAM1B0V,EAAexV,UAAU0V,WAAa,SAAUC,EAAWC,GACvD,OAAOA,EAAcF,WAAWC,IAE7BH,EAVwB,CAWjC,QAEEK,EAA0B,SAAU/V,GAEpC,SAAS+V,IACL,IAAI3c,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAGhE,OAFAe,EAAM4c,OAAS,IAAIN,EACnBtc,EAAM6c,SAAW,kBACV7c,EAMX,OAXA,eAAU2c,EAAU/V,GAOpB+V,EAAS7V,UAAU1G,OAAS,WACxB,IAAI8G,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC9C,OAAQ,eAAD,CAAeqS,EAAO,eAAS,CAAExR,IAAK/I,KAAK4d,UAAY5d,KAAK2d,OAAOE,WAAWve,EAAOA,EAAM+L,YAAa/L,EAAMwe,iBAAkB5V,EAAS5I,EAAMme,eAAgB,CAAEpS,YAAa/L,EAAM+L,YAAagG,MAAO/R,EAAMme,cAAcpM,MAAO2K,aAAc1c,EAAM0c,aAAcJ,cAAetc,EAAMsc,cAAeM,eAAgB5c,EAAM4c,eAAgBlL,aAAc1R,EAAM0R,aAAcC,gBAAiB3R,EAAM2R,gBAAiBgG,gBAAiB3X,EAAM2X,gBAAiBkE,WAAY7b,EAAM6b,WAAY4C,iBAAkBze,EAAMye,iBAAkBxF,YAAajZ,EAAMiZ,YAAawD,aAAczc,EAAMyc,aAAc5S,SAAU7J,EAAM6J,aAE/lBuU,EAZkB,CAa3B,QAEEM,EAA8B,SAAUrW,GAExC,SAASqW,IACL,IAAIjd,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAIhE,OAHAe,EAAMkd,mBAAqB,gBAAQA,GACnCld,EAAMmd,UAAY,kBAClBnd,EAAM6c,SAAW,kBACV7c,EAaX,OAnBA,eAAUid,EAAcrW,GAQxBqW,EAAanW,UAAU1G,OAAS,WAC5B,IAAIJ,EAAQf,KACRiI,EAAKjI,KAAKkI,QAASzI,EAAUwI,EAAGxI,QAAS0e,EAAuBlW,EAAGkW,qBACnE7e,EAAQU,KAAKV,MACbme,EAAgBzd,KAAKie,mBAAmB3e,EAAM+L,YAAa8S,GAC3DC,EAAgB3e,EAAQ4e,YAAe,eAAD,CAAe,OAAW,CAAEtV,IAAK/I,KAAKke,UAAW7S,YAAa/L,EAAM+L,YAAaiT,MAAOb,EAAcc,YAAaC,qBAA+C,IAAzBf,EAAcrT,SAC7LpC,EAAc,SAAUyW,GAAc,OAAQ,eAAD,CAAef,EAAU,CAAE3U,IAAKhI,EAAM6c,SAAUvS,YAAa/L,EAAM+L,YAAaoS,cAAeA,EAAeiB,cAAepf,EAAMof,cAAeC,cAAerf,EAAMqf,cAAeC,WAAYtf,EAAMsf,WAAYC,aAAcvf,EAAMuf,aAAczP,eAAgB9P,EAAM8P,eAAgBL,UAAWzP,EAAMyP,UAAWC,YAAa1P,EAAM0P,YAAa8O,iBAAkBre,EAAQqe,iBAAkB9B,aAAcyC,EAAWK,kBAAmBlD,cAAe6C,EAAW7C,cAAe5K,aAAcvR,EAAQuR,aAAcC,gBAAiBxR,EAAQwR,gBAAiBgG,gBAAiBxX,EAAQsf,YAAa5D,YAAa7b,EAAM4J,aAAc6U,iBAAkBhd,EAAM6G,YAAa2Q,YAAakG,EAAWlG,YAAawD,aAAc0C,EAAW1C,aAAc5S,SAAU7J,EAAM6J,YAChyB,OAAO1J,EAAQ+J,YACTxJ,KAAKsJ,oBAAoB8U,EAAepW,EAAayV,EAAclU,OAAQ9J,EAAQ+J,aACnFxJ,KAAK8H,mBAAmBsW,EAAepW,IAE1CgW,EApBsB,CAqB/BtW,GACF,SAASuW,EAAmB5S,EAAa8S,GACrC,IAAIa,EAAY,IAAI,OAAe3T,EAAY4T,YAAad,GAC5D,OAAO,IAAI,OAAca,EAAW,kBAAkBE,KAAK7T,EAAY8T,mBAG3E,IAAIC,EAA2C,SAAUzX,GAErD,SAASyX,IACL,OAAkB,OAAXzX,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KA2B/D,OA7BA,eAAUof,EAA2BzX,GAKrCyX,EAA0BvX,UAAUwX,iBAAmB,SAAUC,EAAcH,EAAkBI,GAC7F,IAIIC,EAJAC,EAAUzf,KAAKV,MAAMmgB,QACrBR,EAActX,EAAOE,UAAUwX,iBAAiB3K,KAAK1U,KAAMsf,EAAcH,EAAkBI,GAC3FvN,EAAQiN,EAAYjN,MACpBC,EAAMgN,EAAYhN,IAYtB,GATI,iBAAiBiN,KAAKC,KACtBnN,EAAQyN,EAAQC,YAAY1N,GAE5BwN,EAAYC,EAAQC,YAAYzN,GAC5BuN,EAAUhL,YAAcvC,EAAIuC,YAC5BvC,EAAM,eAASuN,EAAW,KAI9Bxf,KAAKV,MAAMqgB,WACX3f,KAAKV,MAAMsgB,eAAgB,CAC3B,IAAIxV,EAASgP,KAAKyG,KAClB,gBAAU7N,EAAOC,IACjBA,EAAM,eAASA,EAAK,EAAI7H,GAE5B,MAAO,CAAE4H,MAAOA,EAAOC,IAAKA,IAEzBmN,EA9BmC,CA+B5C,QAEEU,EAAO,gBAAa,CACpBC,YAAa,eACbC,MAAO,CACHC,QAAS,CACLtd,UAAWqb,EACXkC,0BAA2Bd,GAE/Be,WAAY,CACR1d,KAAM,UACN2d,SAAU,CAAEC,KAAM,IAEtBC,YAAa,CACT7d,KAAM,UACN2d,SAAU,CAAEG,MAAO,IAEvBC,aAAc,CACV/d,KAAM,UACN2d,SAAU,CAAEK,OAAQ,GACpBd,WAAW,EACXC,gBAAgB,MAKb,U,oCC96Bf,kDAWIc,EAAgC,SAAU/Y,GAE1C,SAAS+Y,IACL,OAAkB,OAAX/Y,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAuB/D,OAzBA,eAAU0gB,EAAgB/Y,GAI1B+Y,EAAe7Y,UAAU8Y,WAAa,WAClC,MAAO,CACHlU,OAAQ,GACRmU,MAAO,KAGfF,EAAe7Y,UAAUgZ,mBAAqB,SAAU/D,GACpD,OAAIA,EAASrQ,OACF,CAAC,UAEL,CAAC,UAEZiU,EAAe7Y,UAAUiZ,mBAAqB,SAAUC,GACpD,OAAKA,EAAStU,OAGV,gBAAesU,GACR,CAAC,QAAS,UAEd,CAAC,UALG,CAAC,UAOTL,EA1BwB,CA2BjC,QAEEM,EAA4B,gBAAgB,CAC5C/U,KAAM,UACNC,OAAQ,UACRC,gBAAgB,EAChBC,SAAU,UAEd,SAAS6U,EAAiB3hB,GACtB,IAAIwJ,EAAa,CACb,mBACA,yBACAxJ,EAAM4hB,UAAY,uBAAyB,0BAE/C,OAAQ,eAAD,CAAe,OAAgBC,SAAU,MAAM,SAAUjZ,GAC5D,IAAK5I,EAAM4hB,UACP,OAAQ,eAAD,CAAe,KAAM,CAAElY,UAAWF,EAAWG,KAAK,KAAM,YAAa3J,EAAM8hB,aAEtF,IAAI3B,EAAUvX,EAAQuX,QAAShgB,EAAUyI,EAAQzI,QAAS4hB,EAAUnZ,EAAQmZ,QACxEC,EACwB,MAA3B7hB,EAAQ8hB,gBAA0BP,EAC/BQ,MAAMC,QAAQhiB,EAAQ8hB,iBAAmB,gBAAgB9hB,EAAQ8hB,gBAAgB,IAC7E,gBAAgB9hB,EAAQ8hB,iBAC5BG,EAAY,CACZ5M,MAAO,EACP6M,KAAMriB,EAAMqiB,KACZvW,KAAMqU,EAAQmC,OAAOtiB,EAAM8L,MAC3ByW,KAAMR,EACN3gB,KAAM+e,EAAQqC,OAAOxiB,EAAM8L,KAAMkW,IAErC,OAAQ,eAAD,CAAe,OAAY,CAAEI,UAAWA,EAAW5Y,WAAYrJ,EAAQsiB,oBAAqBpZ,QAASlJ,EAAQuiB,iBAAkBvW,eAAgB6B,EAAoB2U,SAAUxiB,EAAQyiB,kBAAmBC,YAAa1iB,EAAQ2iB,uBAAwB,SAAUvZ,EAAWwZ,EAAkB1W,EAAYC,GAAgB,OAAQ,eAAD,CAAe,KAAM,CAAE7C,IAAKF,EAAWG,UAAWF,EAAWnC,OAAO0b,GAAkBpZ,KAAK,KAAM,YAAa3J,EAAM8hB,YACtb,gBAAc,MAAO,CAAEpY,UAAW,2DAC9B,gBAAc,MAAO,CAAEA,UAAW,8DAA+DD,IAAK4C,GAAcC,WAGpI,SAAS0B,EAAmBhO,GACxB,OAAOA,EAAMoB,KAGjB,IAAI4hB,EAA8B,SAAU3a,GAExC,SAAS2a,IACL,OAAkB,OAAX3a,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAM/D,OARA,eAAUsiB,EAAc3a,GAIxB2a,EAAaza,UAAU1G,OAAS,WAC5B,OAAOnB,KAAKV,MAAMijB,UAAUvhB,KAAI,SAAUwhB,GAAY,OAAQ,eAAD,CAAe,KAAM,CAAEniB,IAAKmiB,EAASniB,KAC9F,gBAAc4gB,EAAkB,eAAS,GAAIuB,SAE9CF,EATsB,CAU/B,QAEE3S,EAA0B,gBAAgB,CAAEC,KAAM,UAClD6S,EAA8B,EAC9BC,EAA8B,SAAU/a,GAExC,SAAS+a,IACL,IAAI3hB,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KA0DhE,OAzDAe,EAAM4hB,eAAiB,IAAIjC,EAC3B3f,EAAM6G,YAAc,kBACpB7G,EAAM8H,UAAY,kBAClB9H,EAAM6hB,cAAgB,kBACtB7hB,EAAM+O,MAAQ,CACV+S,WAAY,MAEhB9hB,EAAM+hB,uBAAyB,SAAUC,GACrC,IAAIC,EAAajiB,EAAM6hB,cAAcjK,QACjCqK,IACAA,EAAWD,UAAYA,IAK/BhiB,EAAMkiB,eAAiB,SAAUC,EAAQC,QACjB,IAAhBA,IAA0BA,EAAc,IAC5C,IAAI1jB,EAAUsB,EAAMmH,QAAQzI,QACxB4L,EAActK,EAAMzB,MAAM+L,YAC1BgJ,EAAQhJ,EAAY4T,YACpBmE,EAAS,gBAAS/O,EAAMrC,MAAOqC,EAAMpC,KACrC9G,EAA2B,IAAXiY,EACd,gBAAkBriB,EAAMmH,QAASmM,EAAMrC,MAAO,QAC9C,GACN,OAAIvS,EAAQsf,aAA0B,QAAXmE,EACf,eAAD,CAAe,OAAgB,CAAE9X,KAAMiJ,EAAMrC,MAAOzB,cAAeZ,IAA2B,SAAU9G,EAAWC,EAAY6C,EAAYC,GAAgB,OAAQ,eAAD,CAAe,KAAM,CAAE7C,IAAKF,EAAW,eAAe,EAAMG,UAAW,CACxO,mBACA,wBACFrC,OAAOmC,GAAYG,KAAK,MAC1B,gBAAc,MAAO,CAAED,UAAW,kFAAmF+E,MAAO,CAAEoL,OAAQgK,IAClI,gBAAc,IAAK,eAAS,CAAEpa,IAAK4C,EAAY3C,UAAW,kFAAoFmC,GAAeS,QAEjK,eAAD,CAAe,KAAM,CAAE,eAAe,EAAM5C,UAAW,oBAC1D,gBAAc,MAAO,CAAEA,UAAW,yBAA0B+E,MAAO,CAAEoL,OAAQgK,OAMrFpiB,EAAMsiB,mBAAqB,SAAUC,GACjC,IAAIrb,EAAKlH,EAAMmH,QAASzI,EAAUwI,EAAGxI,QAAS4hB,EAAUpZ,EAAGoZ,QACvDK,EAAY,CACZhhB,KAAMjB,EAAQ8jB,WACd1B,KAAMR,GAEV,OAEA,eAFO,CAEO,OAAY,CAAEK,UAAWA,EAAW5Y,WAAYrJ,EAAQ+jB,iBAAkB7a,QAASlJ,EAAQgkB,cAAehY,eAAgBiY,EAAmBzB,SAAUxiB,EAAQkkB,eAAgBxB,YAAa1iB,EAAQmkB,oBAAqB,SAAU/a,EAAWC,EAAY6C,EAAYC,GAAgB,OAAQ,eAAD,CAAe,KAAM,CAAE7C,IAAKF,EAAW,eAAe,EAAMG,UAAW,CAC1W,mBACA,wBACFrC,OAAOmC,GAAYG,KAAK,MAC1B,gBAAc,MAAO,CAAED,UAAW,qDAAoE,MAAbsa,EAAoB,iCAAmC,IAAKvV,MAAO,CAAEoL,OAAQmK,IAClK,gBAAc,OAAQ,CAAEta,UAAW,iFAAkFD,IAAK4C,GAAcC,SAEpJ7K,EAAM8iB,iBAAmB,SAAUhB,GAC/B9hB,EAAM6X,SAAS,CAAEiK,WAAYA,KAE1B9hB,EAwKX,OApOA,eAAU2hB,EAAc/a,GAgExB+a,EAAa7a,UAAUC,mBAAqB,SAAUC,EAAkB0b,EAAeK,GACnF,IAAI7b,EAAKjI,KAAMkI,EAAUD,EAAGC,QAAS5I,EAAQ2I,EAAG3I,MAC5C6I,EAAW,GACXC,EAAoB,gBAAqBF,EAAQzI,SAqCrD,OApCIsI,GACAI,EAAS1E,KAAK,CACVhB,KAAM,SACNpC,IAAK,SACLgI,SAAUD,EACVE,MAAO,CACHC,MAAOvI,KAAK4H,YACZY,eAAgB,gBAChBC,WAAYV,KAIpB0b,IACAtb,EAAS1E,KAAK,CACVhB,KAAM,OACNpC,IAAK,UACLiI,MAAO,CAAEK,QAAS8a,KAEtBtb,EAAS1E,KAAK,CACVhB,KAAM,OACNpC,IAAK,kBACL0jB,aACA,eADc,CACA,KAAM,CAAE3c,KAAM,eAAgB4B,UAAW,yBACnD,gBAAc,KAAM,CAAEA,UAAW,uBAAyBd,EAAQ8b,MAAMC,SAAS,yBAG7F9b,EAAS1E,KAAK,CACVhB,KAAM,OACNpC,IAAK,OACLqI,QAAQ,EACRyS,WAAYra,QAAQoH,EAAQzI,QAAQ0b,YACpC7S,MAAO,CACHsa,cAAe5iB,KAAK4iB,cACpBja,QAASmb,KAGT,eAAD,CAAe,OAAU,CAAElb,SAAUV,EAAQU,SAAUL,MAAOvI,KAAK6I,YAAa,SAAUA,EAAWC,GAAc,OAAQ,eAAD,CAAe,MAAO,CAAEE,UAAW,CAAC,eAAerC,OAAOmC,GAAYG,KAAK,KAAMF,IAAKF,GACnN,gBAAc,OAAkB,CAAEH,QAASpJ,EAAM4J,eAAiB5J,EAAM6J,SAAUC,iBAAkB9J,EAAM6J,SAAUE,KAAM,CAAC,CAAEsS,MAAO,WAAaxT,SAAUA,SAEnKua,EAAa7a,UAAUyB,oBAAsB,SAAUvB,EAAkB0b,EAAeK,EAAava,EAAQC,EAAa+Y,EAAWM,GACjI,IAAI9hB,EAAQf,KACRyJ,EAAazJ,KAAKkI,QAAQwB,YAAYC,eAC1C,IAAKF,EACD,MAAM,IAAIG,MAAM,gCAEpB,IAAI3B,EAAKjI,KAAMkI,EAAUD,EAAGC,QAAS5I,EAAQ2I,EAAG3I,MAC5C8I,GAAqB9I,EAAM6J,UAAY,gBAAqBjB,EAAQzI,SACpEoK,GAAyBvK,EAAM6J,UAAY,gBAAyBjB,EAAQzI,SAC5E0I,EAAW,GACXJ,GACAI,EAAS1E,KAAK,CACVhB,KAAM,SACNpC,IAAK,SACLgI,SAAUD,EACV8b,gBAAgB,EAChBpa,OAAQ,CACJ,CACIzJ,IAAK,OACLoI,WAAY,SAAU0b,GAAO,OAAQ,eAAD,CAAe,KAAM,CAAE/c,KAAM,gBAAkBrG,EAAMkiB,eAAe,MAAOkB,EAAIC,eAAe,OAEtI,CACI/jB,IAAK,OACLkI,MAAOvI,KAAK4H,YACZY,eAAgB,gBAChBC,WAAYV,MAKxB0b,IACAtb,EAAS1E,KAAK,CACVhB,KAAM,OACNpC,IAAK,UACL6jB,gBAAgB,EAChBpa,OAAQ,CACJ,CACIzJ,IAAK,OACLoI,WAAY,SAAUgW,GAAc,OAAQ,eAAD,CAAe,KAAM,CAAErX,KAAM,gBAAkBrG,EAAMsiB,mBAAmB5E,EAAW2F,eAAe,OAEjJ,CACI/jB,IAAK,OACLsI,QAAS8a,MAIrBtb,EAAS1E,KAAK,CACVpD,IAAK,kBACLoC,KAAM,OACNshB,aACA,eADc,CACA,KAAM,CAAE3c,KAAM,eAAgB4B,UAAW,yBACnD,gBAAc,KAAM,CAAEqb,QAAS,EAAGrb,UAAW,uBAAyBd,EAAQ8b,MAAMC,SAAS,yBAGzG,IAAIK,EAAiBpc,EAAQzI,QAAQ8kB,aAmDrC,OAlDApc,EAAS1E,KAAK,CACVhB,KAAM,OACNpC,IAAK,OACLqI,QAAQ,EACRyS,WAAYra,QAAQoH,EAAQzI,QAAQ0b,YACpCrR,OAAQ,CACJ,CACIzJ,IAAK,OACLsI,QAAS,SAAUwb,GAAO,OAE1B,eAFiC,CAEnB,MAAO,CAAEnb,UAAW,0BAC9B,gBAAc,QAAS,CAAE,eAAe,EAAM+E,MAAO,CAAEoL,OAAQgL,EAAIhJ,WAAagJ,EAAIpI,aAAe,KAC/FoI,EAAIrF,kBACJ,gBAAc,QAAS,KACnB,gBAAcwD,EAAc,CAAEC,UAAWA,MACjD,gBAAc,MAAO,CAAEvZ,UAAW,uCAC9B,gBAAc,OAAU,CAAE6S,KAAMyI,EAAiB,SAAW,QAAqB,SAAUxI,GACvF,IAAI0I,EAAkBF,GAClBzB,GACAA,EAAW4B,eAAe3I,GAC9B,MAA+B,kBAApB0I,EACC,eAAD,CAAe,OAAkB,CAAEE,QAAQ,EAAMtZ,KAAM0Q,IAAW,SAAUjT,EAAWC,EAAY6C,EAAYC,GAAgB,OAAQ,eAAD,CAAe,MAAO,CAAE7C,IAAKF,EAAWG,UAAW,CAAC,mCAAmCrC,OAAOmC,GAAYG,KAAK,KAAM8E,MAAO,CAAEoK,IAAKqM,IAAqB5Y,MAElS,YAGvB,CACIvL,IAAK,OACLuiB,cAAe5iB,KAAK4iB,cACpBja,QAASmb,MAIjBja,GACA1B,EAAS1E,KAAK,CACVpD,IAAK,SACLoC,KAAM,SACN4F,UAAU,EACVyB,OAAQ,CACJ,CACIzJ,IAAK,OACLsI,QAAS,SAEb,CACItI,IAAK,OACLsI,QAAS,YAKjB,eAAD,CAAe,OAAU,CAAEC,SAAUV,EAAQU,SAAUL,MAAOvI,KAAK6I,YAAa,SAAUA,EAAWC,GAAc,OAAQ,eAAD,CAAe,MAAO,CAAEE,UAAW,CAAC,eAAerC,OAAOmC,GAAYG,KAAK,KAAMF,IAAKF,GACnN,gBAAcY,EAAY,CAAEf,QAASpJ,EAAM4J,eAAiB5J,EAAM6J,SAAUC,kBAAkB,EAAOW,UAAW,CACxG,CAAE4R,MAAO,SAAUtS,KAAM,CAAC,CAAEsS,MAAO,YACnC,CAAEtS,KAAM,CAAC,CAAEW,KAAMT,EAAQU,SAAUT,MACpCrB,SAAUA,SAIzBua,EAAa7a,UAAU8c,uBAAyB,WAC5C,IAAI1c,EAAKjI,KAAKkI,QAAQzI,QAASuR,EAAe/I,EAAG+I,aAAcC,EAAkBhJ,EAAGgJ,gBAKpF,OAJqB,IAAjBD,IAA6C,IAApBC,IACzBD,OAAexQ,EACfyQ,EAAkBwR,GAEf,CAAEzR,aAAcA,EAAcC,gBAAiBA,IAEnDyR,EArOsB,CAsO/B,QACF,SAASgB,EAAkBhC,GACvB,OAAOA,EAAUhhB,KAGrB,IAAIkkB,EAAqC,WACrC,SAASA,EAAoBC,EAAWxZ,EAAayZ,GACjD9kB,KAAK6kB,UAAYA,EACjB7kB,KAAKqL,YAAcA,EACnBrL,KAAK8kB,aAAeA,EA+CxB,OA7CAF,EAAoB/c,UAAU4c,eAAiB,SAAUrZ,GACrD,IAAIC,EAAcrL,KAAKqL,YACvB,GAAI,gBAAoBA,EAAYiU,aAAclU,GAAO,CACrD,IAAI2Z,EAAiB,gBAAW3Z,GAC5B4Z,EAAS5Z,EAAKoJ,UAAYuQ,EAAevQ,UAC7C,GAAIwQ,GAAU,eAAU3Z,EAAY4Z,cAChCD,EAAS,eAAU3Z,EAAY6Z,aAC/B,OAAOllB,KAAKmlB,eAAe,gBAAeH,IAGlD,OAAO,MAIXJ,EAAoB/c,UAAUud,eAAiB,SAAUC,EAAMN,GAI3D,OAHKA,IACDA,EAAiB,gBAAWM,IAEzBrlB,KAAKmlB,eAAe,gBAAeE,EAAK7Q,UAAYuQ,EAAevQ,aAK9EoQ,EAAoB/c,UAAUsd,eAAiB,SAAU/E,GACrD,IAIIkF,EACAC,EALAtd,EAAKjI,KAAM6kB,EAAY5c,EAAG4c,UAAWxZ,EAAcpD,EAAGoD,YACtDma,EAAMX,EAAUY,IAAIllB,OAEpBmlB,GAAgBtF,EAASuF,aAAe,eAAUta,EAAY4Z,cAAgB,eAAUjlB,KAAK8kB,cAejG,OATAY,EAAetM,KAAKI,IAAI,EAAGkM,GAC3BA,EAAetM,KAAKwM,IAAIJ,EAAKE,GAG7BJ,EAAYlM,KAAKyM,MAAMH,GACvBJ,EAAYlM,KAAKwM,IAAIN,EAAWE,EAAM,GAGtCD,EAAgBG,EAAeJ,EACxBT,EAAU3H,KAAKoI,GAClBT,EAAUiB,UAAUR,GAAaC,GAElCX,EAnD6B,GAsDpCmB,EAAmC,SAAUpe,GAE7C,SAASoe,IACL,OAAkB,OAAXpe,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAsB/D,OAxBA,eAAU+lB,EAAmBpe,GAI7Boe,EAAkBle,UAAU1G,OAAS,WACjC,IAAI8G,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC1CzI,EAAUyI,EAAQzI,QAClBumB,EAAa1mB,EAAM0mB,WACvB,OAAQ,eAAD,CAAe,QAAS,KAAM1mB,EAAMijB,UAAUvhB,KAAI,SAAUwhB,EAAU3e,GACzE,IAAI6d,EAAY,CACZC,KAAMa,EAASb,KACfvW,KAAMlD,EAAQuX,QAAQmC,OAAOY,EAASpX,MACtCyW,KAAM3Z,EAAQmZ,SAEdvY,EAAa,CACb,mBACA,wBACA0Z,EAAStB,UAAY,GAAK,0BAE9B,OAAQ,eAAD,CAAe,KAAM,CAAE7gB,IAAKmiB,EAASniB,IAAK0I,IAAKid,EAAWjP,UAAUyL,EAASniB,MAChFf,EAAM2mB,MAAS,eAAD,CAAehF,EAAkB,eAAS,GAAIuB,IAC5D,gBAAc,OAAY,CAAEd,UAAWA,EAAW5Y,WAAYrJ,EAAQymB,mBAAoBvd,QAASlJ,EAAQ0mB,gBAAiBlE,SAAUxiB,EAAQ2mB,iBAAkBjE,YAAa1iB,EAAQ4mB,sBAAuB,SAAUxd,EAAWwZ,EAAkB1W,EAAYC,GAAgB,OAAQ,eAAD,CAAe,KAAM,CAAE7C,IAAKF,EAAWG,UAAWF,EAAWnC,OAAO0b,GAAkBpZ,KAAK,KAAM,YAAauZ,EAASpB,YAAcxV,YAGhama,EAzB2B,CA0BpC,QAKEO,EAA+B,SAAU3e,GAEzC,SAAS2e,IACL,IAAIvlB,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAGhE,OAFAe,EAAM8H,UAAY,kBAClB9H,EAAMilB,WAAa,IAAI,OAChBjlB,EAmCX,OAxCA,eAAUulB,EAAe3e,GAOzB2e,EAAcze,UAAU1G,OAAS,WAC7B,IAAI8G,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC9C,OAAQ,eAAD,CAAe,MAAO,CAAEa,IAAK/I,KAAK6I,UAAWG,UAAW,qBAC3D,gBAAc,QAAS,CAAE,eAAe,EAAMA,UAAWd,EAAQ8b,MAAMC,SAAS,SAAUlW,MAAO,CACzF9D,SAAU3K,EAAMsc,cAChBD,MAAOrc,EAAMiZ,YACbY,OAAQ7Z,EAAMinB,YAElBjnB,EAAMwf,kBACN,gBAAciH,EAAmB,CAAEC,WAAYhmB,KAAKgmB,WAAYC,KAAM3mB,EAAM2mB,KAAM1D,UAAWjjB,EAAMijB,eAE/G+D,EAAcze,UAAUsP,kBAAoB,WACxCnX,KAAKoX,gBAETkP,EAAcze,UAAUwP,mBAAqB,WACzCrX,KAAKoX,gBAETkP,EAAcze,UAAU2e,qBAAuB,WACvCxmB,KAAKV,MAAMmnB,UACXzmB,KAAKV,MAAMmnB,SAAS,OAG5BH,EAAcze,UAAUuP,aAAe,WACnC,IAAInP,EAAKjI,KAAMkI,EAAUD,EAAGC,QAAS5I,EAAQ2I,EAAG3I,MAChD,GAAIA,EAAMmnB,UACgB,OAAtBnnB,EAAMiZ,YACR,CACE,IAAIwC,EAAS/a,KAAK6I,UAAU8P,QACxBoC,EAAO2L,cACPpnB,EAAMmnB,SAAS,IAAI7B,EAAoB,IAAI,OAAc5kB,KAAK6I,UAAU8P,QAASgO,EAAe3mB,KAAKgmB,WAAWvN,WAAYnZ,EAAMijB,YAAY,GAAO,GAAOviB,KAAKV,MAAM+L,YAAanD,EAAQzI,QAAQqlB,iBAIzMwB,EAzCuB,CA0ChC,QACF,SAASK,EAAe7M,EAAOyI,GAC3B,OAAOA,EAAUvhB,KAAI,SAAUwhB,GAAY,OAAO1I,EAAM0I,EAASniB,QAGrE,SAASumB,EAAezc,EAAMZ,GAC1B,IACI1F,EADAgjB,EAAY,GAEhB,IAAKhjB,EAAI,EAAGA,EAAI0F,EAAQ1F,GAAK,EACzBgjB,EAAUpjB,KAAK,IAEnB,GAAI0G,EACA,IAAKtG,EAAI,EAAGA,EAAIsG,EAAK5J,OAAQsD,GAAK,EAC9BgjB,EAAU1c,EAAKtG,GAAGkP,KAAKtP,KAAK0G,EAAKtG,IAGzC,OAAOgjB,EAEX,SAASC,EAAsB/b,EAAIxB,GAC/B,IAAIc,EAAQ,GACZ,GAAKU,EAKA,CACD,IAASlH,EAAI,EAAGA,EAAI0F,EAAQ1F,GAAK,EAC7BwG,EAAMxG,GAAK,CACPmH,kBAAmBD,EAAGC,kBACtBC,QAASF,EAAGE,QACZd,KAAM,IAGd,IAAK,IAAIG,EAAK,EAAGrC,EAAK8C,EAAGZ,KAAMG,EAAKrC,EAAG1H,OAAQ+J,IAAM,CACjD,IAAIE,EAAMvC,EAAGqC,GACbD,EAAMG,EAAIuI,KAAK5I,KAAK1G,KAAK+G,SAd7B,IAAK,IAAI3G,EAAI,EAAGA,EAAI0F,EAAQ1F,GAAK,EAC7BwG,EAAMxG,GAAK,KAgBnB,OAAOwG,EAGX,IAAI0c,EAAiC,SAAUpf,GAE3C,SAASof,IACL,IAAIhmB,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAEhE,OADAe,EAAM8H,UAAY,kBACX9H,EAWX,OAfA,eAAUgmB,EAAiBpf,GAM3Bof,EAAgBlf,UAAU1G,OAAS,WAC/B,IAAIJ,EAAQf,KACRV,EAAQU,KAAKV,MACjB,OAAQ,eAAD,CAAe,OAAc,CAAEiP,WAAY,KAAMC,QAASlP,EAAMmP,WAAWlO,OAAQ8N,QAAS/O,EAAMmP,WAAYA,WAAYnP,EAAMmP,WAAYC,eAAgB1O,KAAK6I,UAAW4C,eAAgBub,EAAqBpY,cAAetP,EAAMsP,cAAevD,YAAa/L,EAAM+L,YAAaC,WAAYhM,EAAMgM,WAAYuD,eAAgB,WAAc,OAAOoY,EAAkB3nB,EAAMmP,WAAYnP,MAAa,SAAUuJ,EAAWC,EAAY6C,EAAYC,EAAcyD,EAAarN,EAAOsN,EAAYC,GAAa,OAAQ,eAAD,CAAe,IAAK,CAAExG,IAAK,SAAUiH,GAC5hB,gBAAOnH,EAAWmH,GAClB,gBAAOjP,EAAM8H,UAAWmH,IACzBhH,UAAW,CAAC,yBAAyBrC,OAAOmC,GAAYG,KAAK,KAAM8E,MAAO,CAAEoK,IAAK7Y,EAAM6Y,IAAKyB,OAAQta,EAAMsa,QAAUsN,QAAS7X,EAAarN,MAAOA,EAAO,gBAAiBsN,EAAY,gBAAiBC,GACzM,gBAAc,MAAO,CAAExG,IAAK4C,EAAY3C,UAAW,yCAA2C4C,QAE/Fmb,EAhByB,CAiBlC,QACF,SAASC,EAAoB1nB,GACzB,OAAOA,EAAM6nB,UAIjB,SAASC,EAAiBxV,EAAWV,EAAaS,GAC9C,IAAIL,EAAY,IAAI,OACD,MAAfJ,IACAI,EAAUJ,YAAcA,GAET,MAAfS,IACAL,EAAUK,YAAcA,GAE5B,IAAIO,EAAgBZ,EAAUa,QAAQP,GAClCyV,EAAe,gBAAyBnV,GACxCoV,EAAMC,EAASjW,GACnBgW,EAAME,EAAWF,EAAK,GACtB,IAAIlV,EAAWqV,EAAWH,GAC1B,MAAO,CAAElV,SAAUA,EAAUiV,aAAcA,GAE/C,SAASE,EAASjW,GACd,IAAIqD,EAAiBrD,EAAUqD,eAC3B+S,EAAYC,GAAU,SAAU7S,EAAO8S,GAAW,OAAO9S,EAAQ,IAAM8S,KAAY,SAAU9S,EAAO8S,GACpG,IAAIC,EAAeC,EAAkBxW,EAAWwD,EAAO8S,GACnDG,EAAeC,EAAWH,EAAcH,GACxC7S,EAAQF,EAAeG,GAAO8S,GAClC,MAAO,CACH,eAAS,eAAS,GAAI/S,GAAQ,CAAEoT,eAAgBF,EAAa,KAC7DlT,EAAM9C,UAAYgW,EAAa,OAGvC,OAAOC,EAAWrT,EAAepU,OAC3B,CAAEuU,MAAO,EAAGoT,aAAc,EAAGC,WAAYxT,EAAe,GAAGpU,QAC3D,KAAMmnB,GAAW,GAE3B,SAASM,EAAWH,EAAcH,GAC9B,IAAKG,EACD,MAAO,CAAC,GAAI,GAEhB,IAAI/S,EAAQ+S,EAAa/S,MAAOoT,EAAeL,EAAaK,aAAcC,EAAaN,EAAaM,WAChGP,EAAUM,EACVE,EAAQ,GACZ,MAAOR,EAAUO,EACbC,EAAM3kB,KAAKikB,EAAU5S,EAAO8S,IAC5BA,GAAW,EAGf,OADAQ,EAAMC,KAAKC,GACJ,CACHF,EAAMpnB,IAAIunB,GACVH,EAAM,GAAG,IAGjB,SAASE,EAAiBE,EAAGC,GACzB,OAAOA,EAAE,GAAKD,EAAE,GAEpB,SAASD,EAAYC,GACjB,OAAOA,EAAE,GAEb,SAASV,EAAkBxW,EAAWoX,EAAcC,GAOhD,IANA,IAAIC,EAActX,EAAUsX,YAAajU,EAAiBrD,EAAUqD,eAChEkU,EAAelU,EAAe+T,GAAcC,GAC5CG,EAAeF,EAAYF,GAAgBG,EAAa9W,UACxDgX,EAAWH,EAAYroB,OACvBuU,EAAQ4T,EAEL5T,EAAQiU,GAAYH,EAAY9T,GAASgU,EAAchU,GAAS,GAEvE,KAAOA,EAAQiU,EAAUjU,GAAS,EAAG,CACjC,IAAIkU,EAAUrU,EAAeG,GACzBD,OAAQ,EACRoU,EAAc,eAAaD,EAASH,EAAa7e,KAAKgI,MAAO,SAC7DkW,EAAee,EAAY,GAAKA,EAAY,GAC5Cd,EAAaD,EACjB,OACCrT,EAAQmU,EAAQb,KACbtT,EAAM7K,KAAKgI,MAAQ6W,EAAa7e,KAAKiI,IACrCkW,GAAc,EAElB,GAAID,EAAeC,EACf,MAAO,CAAErT,MAAOA,EAAOoT,aAAcA,EAAcC,WAAYA,GAGvE,OAAO,KAEX,SAASX,EAAW0B,EAAeC,GAC/B,IAAIC,EAAczB,GAAU,SAAU0B,EAAMC,EAAYC,GAAiB,OAAO,eAAcF,MAAU,SAAUA,EAAMC,EAAYC,GAChI,IAGIC,EAHAvB,EAAiBoB,EAAKpB,eAAgBlW,EAAYsX,EAAKtX,UACvD0X,EAAe1X,EAAYwX,EAC3BG,EAAoB3X,EAAY0X,EAEhCE,EAAc,GAClB,GAAK1B,EAAe1nB,OAIhB,IAAK,IAAI+J,EAAK,EAAGsf,EAAmB3B,EAAgB3d,EAAKsf,EAAiBrpB,OAAQ+J,IAAM,CACpF,IAAIuf,EAAYD,EAAiBtf,GACjC,QAAiB9J,IAAbgpB,EAAwB,CACxB,IAAIM,EAAMV,EAAYS,EAAWP,EAAYG,GAC7CD,EAAWM,EAAI,GACfH,EAAYlmB,KAAKqmB,EAAI,QAEpB,CACGA,EAAMV,EAAYS,EAAWL,EAAU,GAC3CG,EAAYlmB,KAAKqmB,EAAI,UAZ7BN,EAAWL,EAgBf,IAAIY,GAAgBP,EAAWF,GAAcI,EAC7C,MAAO,CAACF,EAAWO,EAAc,eAAS,eAAS,GAAIV,GAAO,CAAEtX,UAAWgY,EAAc9B,eAAgB0B,QAE7G,OAAOT,EAAcloB,KAAI,SAAUqoB,GAAQ,OAAOD,EAAYC,EAAM,EAAG,GAAG,MAG9E,SAAS5B,EAAWyB,GAChB,IAAI1V,EAAQ,GACRwW,EAAcrC,GAAU,SAAU0B,EAAMxV,EAAYoW,GAAc,OAAO,eAAcZ,MAAU,SAAUA,EAAMxV,EAAYoW,GAC7H,IAAIrW,EAAO,eAAS,eAAS,GAAIyV,GAAO,CAAExV,WAAYA,EAClDoW,WAAYA,EAAYC,aAAc,IAE1C,OADA1W,EAAM/P,KAAKmQ,GACHA,EAAKsW,aAAeC,EAAad,EAAKpB,eAAgBpU,EAAawV,EAAKtX,UAAWkY,EAAa,GAAK,KAEjH,SAASE,EAAavS,EAAO/D,EAAYoW,GAErC,IADA,IAAIC,EAAe,EACV5f,EAAK,EAAG8f,EAAUxS,EAAOtN,EAAK8f,EAAQ7pB,OAAQ+J,IAAM,CACzD,IAAI+e,EAAOe,EAAQ9f,GACnB4f,EAAe9Q,KAAKI,IAAIwQ,EAAYX,EAAMxV,EAAYoW,GAAaC,GAEvE,OAAOA,EAGX,OADAC,EAAajB,EAAe,EAAG,GACxB1V,EAGX,SAASmU,EAAU0C,EAASC,GACxB,IAAIC,EAAQ,GACZ,OAAO,WAEH,IADA,IAAIC,EAAO,GACFlgB,EAAK,EAAGA,EAAKhK,UAAUC,OAAQ+J,IACpCkgB,EAAKlgB,GAAMhK,UAAUgK,GAEzB,IAAIjK,EAAMgqB,EAAQ3mB,WAAM,EAAQ8mB,GAChC,OAAQnqB,KAAOkqB,EACTA,EAAMlqB,GACLkqB,EAAMlqB,GAAOiqB,EAAS5mB,WAAM,EAAQ8mB,IAInD,SAASC,EAAkBtgB,EAAMugB,EAAS7H,EAAY8H,QAC/B,IAAf9H,IAAyBA,EAAa,WACnB,IAAnB8H,IAA6BA,EAAiB,GAClD,IAAIC,EAAU,GACd,GAAI/H,EACA,IAAK,IAAIhf,EAAI,EAAGA,EAAIsG,EAAK5J,OAAQsD,GAAK,EAAG,CACrC,IAAI2G,EAAML,EAAKtG,GACXqQ,EAAY2O,EAAWuC,eAAe5a,EAAIwH,MAAO0Y,GACjDvW,EAAUiF,KAAKI,IAAItF,GAAayW,GAAkB,GACtD9H,EAAWuC,eAAe5a,EAAIyH,IAAKyY,IACnCE,EAAQnnB,KAAK,CACTuO,MAAOoH,KAAKC,MAAMnF,GAClBjC,IAAKmH,KAAKC,MAAMlF,KAI5B,OAAOyW,EAEX,SAASC,EAAuB1gB,EAAM2gB,EACtCtU,EAAkBuU,GAGd,IAFA,IAAInZ,EAAY,GACZoZ,EAAW,GACNnnB,EAAI,EAAGA,EAAIsG,EAAK5J,OAAQsD,GAAK,EAAG,CACrC,IAAI+mB,EAAUE,EAAWjnB,GACrB+mB,EACAhZ,EAAUnO,KAAK,CACXwD,MAAOpD,EACPkO,UAAW,EACX/H,KAAM4gB,IAIVI,EAASvnB,KAAK0G,EAAKtG,IAK3B,IAFA,IAAIoE,EAAKmf,EAAiBxV,EAAW4E,EAAkBuU,GAAgB3Y,EAAWnK,EAAGmK,SAAUiV,EAAepf,EAAGof,aAC7G3P,EAAgB,GACXpN,EAAK,EAAG2gB,EAAa7Y,EAAU9H,EAAK2gB,EAAW1qB,OAAQ+J,IAAM,CAClE,IAAI4gB,EAAUD,EAAW3gB,GACzBoN,EAAcjU,KAAK,CACf+G,IAAKL,EAAK+gB,EAAQjkB,OAClB2M,KAAMsX,IAGd,IAAK,IAAIjY,EAAK,EAAGkY,EAAaH,EAAU/X,EAAKkY,EAAW5qB,OAAQ0S,IAAM,CAClE,IAAImY,EAAUD,EAAWlY,GACzByE,EAAcjU,KAAK,CAAE+G,IAAK4gB,EAASxX,KAAM,OAE7C,MAAO,CAAE8D,cAAeA,EAAe2P,aAAcA,GAGzD,IAAIgE,EAAsB,gBAAgB,CACtCpf,KAAM,UACNC,OAAQ,UACRE,UAAU,IAEVkf,EAA8B,SAAU3jB,GAExC,SAAS2jB,IACL,OAAkB,OAAX3jB,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAY/D,OAdA,eAAUsrB,EAAc3jB,GAIxB2jB,EAAazjB,UAAU1G,OAAS,WAC5B,IAAI2H,EAAa,CACb,oBACA,cAKJ,OAHI9I,KAAKV,MAAMisB,SACXziB,EAAWrF,KAAK,2BAEZ,eAAD,CAAe,OAAe,eAAS,GAAIzD,KAAKV,MAAO,CAAEyN,kBAAmBse,EAAqBve,gBAAiBhE,MAEtHwiB,EAfsB,CAgB/B,QAEEE,EAA6B,SAAU7jB,GAEvC,SAAS6jB,IACL,OAAkB,OAAX7jB,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAO/D,OATA,eAAUwrB,EAAa7jB,GAIvB6jB,EAAY3jB,UAAU1G,OAAS,WAC3B,IAAI7B,EAAQU,KAAKV,MACjB,OAAQ,eAAD,CAAe,OAAgB,CAAE8L,KAAM9L,EAAM8L,KAAMC,YAAa/L,EAAM+L,YAAaC,WAAYhM,EAAMgM,WAAYE,eAAgBlM,EAAMkM,iBAAkB,SAAUG,EAAYC,GAAgB,OAAQA,GAC1M,gBAAc,MAAO,CAAE5C,UAAW,uBAAwBD,IAAK4C,GAAcC,OAE9E4f,EAVqB,CAW9B,QAEEC,EAAyB,SAAU9jB,GAEnC,SAAS8jB,IACL,IAAI1qB,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAEhE,OADAe,EAAM2qB,cAAgB,gBAAQ,SACvB3qB,EAoHX,OAxHA,eAAU0qB,EAAS9jB,GAOnB8jB,EAAQ5jB,UAAU1G,OAAS,WACvB,IAAIJ,EAAQf,KACRiI,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC1CyjB,EAAiBzjB,EAAQzI,QAAQmsB,aACjC7R,EAAcza,EAAMyP,WAAazP,EAAMyP,UAAU5E,MAChD7K,EAAM0P,aAAe1P,EAAM0P,YAAY7E,MACvCwhB,GAAkBrsB,EAAMmY,mBACzB,GACAoU,EACFvsB,EAAMyP,WAAazP,EAAMyP,UAAU/D,mBAChC1L,EAAM0P,aAAe1P,EAAM0P,YAAYhE,mBACxC,GACA8gB,EAAe9rB,KAAK0rB,cAAcpsB,EAAMgX,YAAapO,EAAQzI,QAAQ8W,YACzE,OAAQ,eAAD,CAAe,OAAa,CAAEhO,MAAOjJ,EAAMiJ,MAAO6C,KAAM9L,EAAM8L,KAAMC,YAAa/L,EAAM+L,YAAaC,WAAYhM,EAAMgM,WAAYE,eAAgBlM,EAAMkM,iBAAkB,SAAU3C,EAAWC,EAAYijB,GAAa,OAAQ,eAAD,CAAe,KAAM,eAAS,CAAEhjB,IAAKF,EAAWzB,KAAM,WAAY4B,UAAW,CAAC,mBAAmBrC,OAAOmC,EAAYxJ,EAAMwN,iBAAmB,IAAI7D,KAAK,MAAQ8iB,EAAWzsB,EAAM+Q,gBACjZ,gBAAc,MAAO,CAAErH,UAAW,yBAC9B,gBAAc,MAAO,CAAEA,UAAW,sBAC9BjI,EAAMmW,eAAe5X,EAAMyW,iBAAkB,gBAC7ChV,EAAMmW,eAAe5X,EAAM2W,YAAa,YACxClV,EAAMmW,eAAe5X,EAAMmY,kBAAmB,cAClD,gBAAc,MAAO,CAAEzO,UAAW,0BAA4BjI,EAAM6V,aAAakV,EAAcD,GAA8B,GAAO,GAAO,IAC3I,gBAAc,MAAO,CAAE7iB,UAAW,0BAA4BjI,EAAM6V,aAAamD,EAAY,GAAIjZ,QAAQxB,EAAMyP,WAAYjO,QAAQxB,EAAM0P,aAAclO,QAAQ6qB,KAC/J,gBAAc,MAAO,CAAE3iB,UAAW,uCAAyCjI,EAAMirB,mBAAmB1sB,EAAM2sB,mBAC1G,gBAAcT,EAAa,CAAEpgB,KAAM9L,EAAM8L,KAAMC,YAAa/L,EAAM+L,YAAaC,WAAYhM,EAAMgM,WAAYE,eAAgBlM,EAAMkM,uBAE/IigB,EAAQ5jB,UAAU+O,aAAe,SAAUkV,EAAcI,EAAgB3e,EAAYC,EAAYC,GAC7F,IAAInO,EAAQU,KAAKV,MACjB,OAAIA,EAAM6J,SACC8d,EAAkB6E,EAAcxsB,GAEpCU,KAAKmsB,uBAAuBL,EAAcI,EAAgB3e,EAAYC,EAAYC,IAE7Fge,EAAQ5jB,UAAUskB,uBAAyB,SAAUhiB,EACrD+hB,EAAgB3e,EAAYC,EAAYC,GACpC,IAAI1M,EAAQf,KACRiI,EAAKjI,KAAKkI,QAAQzI,QAASsrB,EAAgB9iB,EAAG8iB,cAAeqB,EAAmBnkB,EAAGmkB,iBAAkB5V,EAAmBvO,EAAGuO,iBAAkBmU,EAAiB1iB,EAAG0iB,eACjK1X,EAAKjT,KAAKV,MAAO8L,EAAO6H,EAAG7H,KAAMyX,EAAa5P,EAAG4P,WAAYzT,EAAiB6D,EAAG7D,eAAgB9D,EAAa2H,EAAG3H,WAAYwQ,EAAU7I,EAAG6I,QAC1InE,EAAWpK,GAAcC,GAAcC,EACvCqd,EAAaL,EAAkBtgB,EAAMiB,EAAMyX,EAAY8H,GACvDppB,EAAKspB,EAAuB1gB,EAAM2gB,EAAYtU,EAAkBuU,GAAgBrT,EAAgBnW,EAAGmW,cAAe2P,EAAe9lB,EAAG8lB,aACxI,OAAQ,eAAD,CAAe,OAAU,KAC5BrnB,KAAKqsB,mBAAmBhF,EAAcld,GACtCuN,EAAc1W,KAAI,SAAUsrB,GACxB,IAAI9hB,EAAM8hB,EAAa9hB,IAAKoJ,EAAO0Y,EAAa1Y,KAC5C3E,EAAazE,EAAI+B,WAAW2C,SAASD,WACrCS,EAAYiI,GAAY7W,SAASorB,EAAejd,IAAe2E,GAC/D2Y,EAASC,EAAiB5Y,GAAQA,EAAK5J,MACvCyiB,GAAW9U,GAAY/D,EAAQ7S,EAAM2rB,iBAAiB9Y,GAAQ,CAAEkE,KAAM,EAAGC,MAAO,GAChF4U,EAAU7rB,QAAQ8S,IAASA,EAAKsW,aAAe,EAC/CqB,EAAUzqB,QAAQ8S,IAAUA,EAAK5J,KAAKiI,IAAM2B,EAAK5J,KAAKgI,MAASoa,EACnE,OAAQ,eAAD,CAAe,MAAO,CAAEpjB,UAAW,6BACjC2jB,EAAU,mCAAqC,IAAKtsB,IAAK4O,EAAYlB,MAAO,eAAS,eAAS,CAAEoB,WAAYO,EAAY,GAAK,UAAY6c,GAASE,IACvJ,gBAAcnB,EAAc,eAAS,CAAE9gB,IAAKA,EAAK+C,WAAYA,EAAYC,WAAYA,EAAYC,gBAAiBA,EAAiBC,WAAYuB,IAAeG,EAAgBmc,QAASA,GAAW,gBAAW/gB,EAAKc,EAAYwQ,WAI9O2P,EAAQ5jB,UAAUwkB,mBAAqB,SAAUhF,EAAcld,GAC3D,IAAIlC,EAAKjI,KAAKV,MAAOsP,EAAgB3G,EAAG2G,cAAevD,EAAcpD,EAAGoD,YAAaC,EAAarD,EAAGqD,WAAYwQ,EAAU7T,EAAG6T,QAAS1M,EAAiBnH,EAAGmH,eAAgBL,EAAY9G,EAAG8G,UAAWC,EAAc/G,EAAG+G,YACtN,OAAQ,eAAD,CAAe,OAAU,KAAMqY,EAAarmB,KAAI,SAAU4rB,GAC7D,IAAIC,EAAcL,EAAiBI,EAAY5iB,MAC3CyE,EAAaqe,EAAuBF,EAAY5D,QAAS7e,GAC7D,OAAQ,eAAD,CAAe4c,EAAiB,CAAE1mB,IAAK,gBAAe,gBAAwBoO,IAAcA,WAAYA,EAAY0J,IAAK0U,EAAY1U,IAAKyB,OAAQiT,EAAYjT,OAAQhL,cAAeA,EAAevD,YAAaA,EAAaC,WAAYA,EAAYwQ,QAASA,EAAS1M,eAAgBA,EAAgBL,UAAWA,EAAWC,YAAaA,SAG1Vyc,EAAQ5jB,UAAUqP,eAAiB,SAAU/M,EAAMiO,GAC/C,IAAInQ,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC1C4iB,EAAaL,EAAkBtgB,EAAM7K,EAAM8L,KAAM9L,EAAMujB,WAAY3a,EAAQzI,QAAQkrB,gBACnFoC,EAAWjC,EAAW9pB,KAAI,SAAU4pB,EAAS/mB,GAC7C,IAAI2G,EAAML,EAAKtG,GACf,OAAQ,eAAD,CAAe,MAAO,CAAExD,IAAK,gBAAmBmK,EAAI+B,YAAavD,UAAW,yBAA0B+E,MAAOye,EAAiB5B,IAAyB,aAAbxS,EAC7I,gBAAc,OAAS,eAAS,CAAE5N,IAAKA,GAAO,gBAAWA,EAAKlL,EAAMgM,WAAYhM,EAAMwc,WACtF,gBAAW1D,OAEnB,OAAO,gBAAc,OAAU,KAAM2U,IAEzCtB,EAAQ5jB,UAAUmkB,mBAAqB,SAAU7hB,GAC7C,IAAIlC,EAAKjI,KAAKV,MAAOujB,EAAa5a,EAAG4a,WAAYzX,EAAOnD,EAAGmD,KAC3D,OAAKyX,EAGE1Y,EAAKnJ,KAAI,SAAUwJ,EAAK3G,GAAK,OAAQ,eAAD,CAAe,OAAkB,CAAE6gB,QAAQ,EAAOtZ,KAAMA,EAE/F/K,IAAKwD,IAAK,SAAUgF,EAAWC,EAAY6C,EAAYC,GAAgB,OAAQ,eAAD,CAAe,MAAO,CAAE7C,IAAKF,EAAWG,UAAW,CAAC,kCAAkCrC,OAAOmC,GAAYG,KAAK,KAAM8E,MAAO,CAAEoK,IAAK0K,EAAWuC,eAAe5a,EAAIwH,MAAO5G,KAAWQ,SAJzP,MAMf6f,EAAQ5jB,UAAU6kB,iBAAmB,SAAUM,GAC3C,IAIIlV,EACAC,EALA9P,EAAKjI,KAAKkI,QAAS8P,EAAQ/P,EAAG+P,MAAOvY,EAAUwI,EAAGxI,QAClDwtB,EAAgBxtB,EAAQytB,iBACxBC,EAAYH,EAAWnZ,WACvBuZ,EAAWJ,EAAWnZ,WAAamZ,EAAWjb,UAG9Ckb,IAEAG,EAAWhU,KAAKwM,IAAI,EAAGuH,EAAqC,GAAxBC,EAAWD,KAE/CnV,GACAF,EAAO,EAAIsV,EACXrV,EAAQoV,IAGRrV,EAAOqV,EACPpV,EAAQ,EAAIqV,GAEhB,IAAI9tB,EAAQ,CACR+tB,OAAQL,EAAW/C,WAAa,EAChCnS,KAAa,IAAPA,EAAa,IACnBC,MAAe,IAARA,EAAc,KAMzB,OAJIkV,IAAkBD,EAAW9C,eAE7B5qB,EAAM0Y,EAAQ,aAAe,eAAiB,IAE3C1Y,GAEJmsB,EAzHiB,CA0H1B,QACF,SAASxE,EAAkB6E,EAAc7jB,GACrC,IAAIqD,EAAarD,EAAGqD,WAAYwQ,EAAU7T,EAAG6T,QAAS1M,EAAiBnH,EAAGmH,eAAgBL,EAAY9G,EAAG8G,UAAWC,EAAc/G,EAAG+G,YACjIse,GAAmBve,EAAYA,EAAU/D,kBAAoB,QAC5DgE,EAAcA,EAAYhE,kBAAoB,OAC/C,GACJ,OAAQ,eAAD,CAAe,OAAU,KAAM8gB,EAAa9qB,KAAI,SAAUwJ,GAC7D,IAAIyE,EAAazE,EAAI+B,WAAW2C,SAASD,WACzC,OAAQ,eAAD,CAAe,MAAO,CAAE5O,IAAK4O,EAAYlB,MAAO,CAAEoB,WAAYme,EAAgBre,GAAc,SAAW,KAC1G,gBAAcqc,EAAc,eAAS,CAAE9gB,IAAKA,EAAK+C,YAAY,EAAOC,YAAY,EAAOC,iBAAiB,EAAOC,WAAYuB,IAAeG,EAAgBmc,SAAS,GAAS,gBAAW/gB,EAAKc,EAAYwQ,UAGpN,SAAS0Q,EAAiB1B,GACtB,OAAKA,EAGE,CACH3S,IAAK2S,EAAW9Y,MAChB4H,QAASkR,EAAW7Y,KAJb,CAAEkG,IAAK,GAAIyB,OAAQ,IAOlC,SAASkT,EAAuBS,EAAYlf,GACxC,OAAOkf,EAAWvsB,KAAI,SAAUwsB,GAAY,OAAOnf,EAAQmf,EAASvmB,UAGxE,IAAIwmB,EAAiC,SAAU9lB,GAE3C,SAAS8lB,IACL,IAAI1sB,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAUhE,OATAe,EAAM2Z,iBAAmB,gBAAQkM,GACjC7lB,EAAM0Z,iBAAmB,gBAAQmM,GACjC7lB,EAAMyZ,sBAAwB,gBAAQoM,GACtC7lB,EAAM2sB,sBAAwB,gBAAQ9G,GACtC7lB,EAAM4Z,uBAAyB,gBAAQiM,GACvC7lB,EAAM6Z,eAAiB,gBAAQkM,GAC/B/lB,EAAM8Z,iBAAmB,gBAAQiM,GACjC/lB,EAAM8H,UAAY,kBAClB9H,EAAM0U,WAAa,IAAI,OAChB1U,EA4CX,OAxDA,eAAU0sB,EAAiB9lB,GAc3B8lB,EAAgB5lB,UAAU1G,OAAS,WAC/B,IAAIJ,EAAQf,KACRiI,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC1Csc,EAAkBtc,EAAQzI,QAAQ8kB,cAClCjlB,EAAMujB,YACNvjB,EAAMujB,WAAW4B,eAAenlB,EAAMwc,SACtCvS,EAASjK,EAAM+R,MAAM9Q,OACrB+a,EAAmBtb,KAAK0a,iBAAiBpb,EAAMgX,YAAa/M,GAC5D8R,EAAmBrb,KAAKya,iBAAiBnb,EAAM2W,YAAa1M,GAC5D6R,EAAwBpb,KAAKwa,sBAAsBlb,EAAMyW,iBAAkBxM,GAC3EokB,EAAwB3tB,KAAK0tB,sBAAsBpuB,EAAM2sB,iBAAkB1iB,GAC3EgS,EAAyBvb,KAAK2a,uBAAuBrb,EAAMmY,kBAAmBlO,GAC9EiS,EAAiBxb,KAAK4a,eAAetb,EAAMyP,UAAWxF,GACtDkS,EAAmBzb,KAAK6a,iBAAiBvb,EAAM0P,YAAazF,GAChE,OAAQ,eAAD,CAAe,MAAO,CAAEP,UAAW,mBAAoBD,IAAK/I,KAAK6I,WACpE,gBAAc,QAAS,CAAEzB,KAAM,eAAgB2G,MAAO,CAC9C9D,SAAU3K,EAAMsc,cAChBD,MAAOrc,EAAMiZ,cAEjBjZ,EAAMwf,kBACN,gBAAc,QAAS,CAAE1X,KAAM,gBAC3B,gBAAc,KAAM,CAAEA,KAAM,OACxB9H,EAAM2mB,MAAS,eAAD,CAAe,KAAM,CAAE,eAAe,EAAMjd,UAAW,oCACjE,gBAAc,MAAO,CAAEA,UAAW,yBAC9B,gBAAc,MAAO,CAAEA,UAAW,uCAAoE,kBAApBwb,GAAiC,eAAD,CAAe,OAAkB,CAAEE,QAAQ,EAAMtZ,KAAM9L,EAAMwc,UAAW,SAAUjT,EAAWC,EAAY6C,EAAYC,GAAgB,OAAQ,eAAD,CAAe,MAAO,CAAE7C,IAAKF,EAAWG,UAAW,CAAC,mCAAmCrC,OAAOmC,GAAYG,KAAK,KAAM8E,MAAO,CAAEoK,IAAKqM,IAAqB5Y,SAC9ZtM,EAAM+R,MAAMrQ,KAAI,SAAU0V,EAAM7S,GAAK,OAAQ,eAAD,CAAe4nB,EAAS,CAAEprB,IAAKqW,EAAKrW,IAAKkI,MAAOxH,EAAM0U,WAAWsB,UAAUL,EAAKrW,KAAMgL,YAAa/L,EAAM+L,YAAaD,KAAMsL,EAAKtL,KAAM0Q,QAASxc,EAAMwc,QAASxQ,WAAYhM,EAAMgM,WAAYE,eAAgBkL,EAAKlL,eAAgB6E,eAAgBqG,EAAKrG,eAAgBvD,gBAAiB4J,EAAK5J,gBAAiB8B,cAAe8H,EAAK9H,cAAe0H,YAAagF,EAAiBzX,GAAIoS,YAAaoF,EAAiBxX,GAAIkS,iBAAkBqF,EAAsBvX,GAAIooB,iBAAkB0B,EAAsB9pB,GAAI4T,kBAAmB8D,EAAuB1X,GAAIkL,UAAWyM,EAAe3X,GAAImL,YAAayM,EAAiB5X,GAAIgf,WAAYvjB,EAAMujB,WAAYzT,eAAgB9P,EAAM8P,eAAgBjG,SAAU7J,EAAM6J,mBAE/uBskB,EAAgB5lB,UAAUsP,kBAAoB,WAC1CnX,KAAK4tB,gBAETH,EAAgB5lB,UAAUwP,mBAAqB,WAC3CrX,KAAK4tB,gBAETH,EAAgB5lB,UAAU+lB,aAAe,WACrC,IAAItuB,EAAQU,KAAKV,MACbA,EAAMuuB,aACgB,OAAtBvuB,EAAMiZ,aAENjZ,EAAMuuB,YAAY,IAAI,OAAc7tB,KAAK6I,UAAU8P,QAASmV,EAAe9tB,KAAKyV,WAAWgD,WAAYnZ,EAAM+R,QAAQ,GACrH,KAGDoc,EAzDyB,CA0DlC,QACF,SAASK,EAAehU,EAAOzI,GAC3B,OAAOA,EAAMrQ,KAAI,SAAU0V,GAAQ,OAAOoD,EAAMpD,EAAKrW,QAKzD,IAAI0tB,EAA0B,SAAUpmB,GAEpC,SAASomB,IACL,IAAIhtB,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAyChE,OAxCAe,EAAMitB,mBAAqB,gBAAQA,GACnCjtB,EAAM+O,MAAQ,CACV+S,WAAY,MAEhB9hB,EAAMgP,aAAe,SAAUC,GACvBA,EACAjP,EAAMmH,QAAQ8S,6BAA6Bja,EAAO,CAC9CiP,GAAIA,EACJiL,kBAAmBla,EAAMzB,MAAM2b,oBAInCla,EAAMmH,QAAQgT,+BAA+Bna,IAGrDA,EAAMktB,oBAAsB,SAAUC,GAClC,IAAIC,EAAqBptB,EAAMzB,MAAM6uB,mBACjCtL,EAAa9hB,EAAM+O,MAAM+S,WAC7B,GAAIsL,GAAsBtL,EAAY,CAClC,GAAIqL,EAAQvM,KAAM,CACd,IAAIyM,EAAQvL,EAAWsC,eAAe+I,EAAQvM,MAC9CyM,EAAQhV,KAAKyG,KAAKuO,GACdA,IACAA,GAAS,GAEbD,EAAmBC,GAEvB,OAAO,EAEX,OAAO,GAEXrtB,EAAMstB,gBAAkB,SAAUC,GAC9BvtB,EAAMutB,UAAYA,GAEtBvtB,EAAM8iB,iBAAmB,SAAUhB,GAC/B9hB,EAAM6X,SAAS,CAAEiK,WAAYA,IACzB9hB,EAAMzB,MAAMivB,cACZxtB,EAAMzB,MAAMivB,aAAa1L,IAG1B9hB,EAwDX,OAnGA,eAAUgtB,EAAUpmB,GA6CpBomB,EAASlmB,UAAU1G,OAAS,WACxB,IAAI8G,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAOwQ,EAAQ7H,EAAG6H,MAC5C,OAAQ,eAAD,CAAe,MAAO,CAAE9G,UAAW,mBAAoBD,IAAK/I,KAAK+P,aAAchC,MAAO,CAGrF4N,MAAOrc,EAAMiZ,YACbtO,SAAU3K,EAAMsc,gBAEpB,gBAAc0K,EAAe,CAAEL,KAAM3mB,EAAM2mB,KAAM5a,YAAa/L,EAAM+L,YAAakX,UAAWjjB,EAAMijB,UAAWhK,YAAajZ,EAAMiZ,YAAagO,UAAWjnB,EAAM6b,WAAa7b,EAAMyc,aAAe,GAAIH,cAAetc,EAAMsc,cAAekD,kBAAmBxf,EAAM2mB,KAAO3mB,EAAMwf,kBAAoB,KAAqD2H,SAAUzmB,KAAK6jB,mBACtW,gBAAc4J,EAAiB,CAAEpc,MAAO/R,EAAM+R,MAAO4U,KAAM3mB,EAAM2mB,KAAM5a,YAAa/L,EAAM+L,YAAa0K,iBAAkBzW,EAAMyW,iBAAkBE,YAAa3W,EAAM2W,YAAaK,YAAahX,EAAMgX,YAAamB,kBAAmBnY,EAAMmY,kBAAmBrI,eAAgB9P,EAAM8P,eAAgBL,UAAWzP,EAAMyP,UAAWC,YAAa1P,EAAM0P,YAAa1D,WAAYhM,EAAMgM,WAAYwQ,QAASxc,EAAMwc,QAASmQ,iBAAkB3sB,EAAM2sB,iBAAkB1T,YAAajZ,EAAMiZ,YAAaqD,cAAetc,EAAMsc,cAAekD,kBAAmBxf,EAAMwf,kBAAmB+D,WAAY/S,EAAM+S,WAAYgL,YAAa7tB,KAAKquB,gBAAiBllB,SAAU7J,EAAM6J,aAExoB4kB,EAASlmB,UAAUsP,kBAAoB,WACnCnX,KAAKwuB,gBAAkBxuB,KAAKkI,QAAQumB,sBAAsBzuB,KAAKiuB,sBAEnEF,EAASlmB,UAAUwP,mBAAqB,SAAUC,GAC9CtX,KAAKwuB,gBAAgBE,OAAOpX,EAAUjM,cAAgBrL,KAAKV,MAAM+L,cAErE0iB,EAASlmB,UAAU2e,qBAAuB,WACtCxmB,KAAKwuB,gBAAgBG,UAEzBZ,EAASlmB,UAAU4U,SAAW,SAAUC,EAAcC,GAClD,IAAI1U,EAAKjI,KAAKkI,QAASuX,EAAUxX,EAAGwX,QAAShgB,EAAUwI,EAAGxI,QACtD6uB,EAAYtuB,KAAKsuB,UACjBjjB,EAAcrL,KAAKV,MAAM+L,YACzBwX,EAAa7iB,KAAK8P,MAAM+S,WACxB5P,EAAKjT,KAAKguB,mBAAmBhuB,KAAKV,MAAMwlB,aAAcrlB,EAAQmvB,cAAeA,EAAe3b,EAAG2b,aAAcC,EAAe5b,EAAG4b,aAC/HC,EAAWR,EAAU1R,YAAYF,GACjC4I,EAAYzC,EAAWgC,UAAUhI,WAAWF,GAChD,GAAgB,MAAZmS,GAAiC,MAAbxJ,EAAmB,CACvC,IAAI5O,EAAO1W,KAAKV,MAAM+R,MAAMyd,GACxBC,EAAUlM,EAAWgC,UAAU3H,KAAKoI,GACpC0J,EAAanM,EAAWgC,UAAUiB,UAAUR,GAC5C2J,GAAWtS,EAAcoS,GAAWC,EACpCE,EAAiB9V,KAAKyM,MAAMoJ,EAAUJ,GACtCM,EAAY7J,EAAYuJ,EAAeK,EACvCE,EAAUpvB,KAAKV,MAAM+R,MAAMyd,GAAU1jB,KACrCuW,EAAO,eAAatW,EAAY4Z,YAAa,gBAAiB2J,EAAcO,IAC5End,EAAQyN,EAAQ4P,IAAID,EAASzN,GAC7B1P,EAAMwN,EAAQ4P,IAAIrd,EAAO4c,GAC7B,MAAO,CACHvjB,YAAaA,EACbyR,SAAU,eAAS,CAAEzI,MAAO,CAAErC,MAAOA,EAAOC,IAAKA,GAAOxF,QAAQ,GAASiK,EAAK9H,eAC9EoO,MAAOsR,EAAU7I,IAAIqJ,GACrBlb,KAAM,CACFkE,KAAMwW,EAAUrW,MAAM6W,GACtB/W,MAAOuW,EAAUpW,OAAO4W,GACxB3W,IAAK4W,EACLnV,OAAQmV,EAAUC,GAEtB5R,MAAO,GAGf,OAAO,MAEJ2Q,EApGkB,CAqG3B,QACF,SAASC,EAAmBlJ,EAAcwK,GACtC,IAAIV,EAAeU,GAAwBxK,EACvC+J,EAAe,gBAAqB/J,EAAc8J,GAMtD,OALqB,OAAjBC,IACAD,EAAe9J,EACf+J,EAAe,GAGZ,CAAED,aAAcA,EAAcC,aAAcA,GAGvD,IAAIU,EAAmC,SAAU5nB,GAE7C,SAAS4nB,IACL,OAAkB,OAAX5nB,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAkB/D,OApBA,eAAUuvB,EAAmB5nB,GAI7B4nB,EAAkB1nB,UAAU0V,WAAa,SAAUlJ,EAAOmb,GAEtD,IADA,IAAIrlB,EAAO,GACF4I,EAAM,EAAGA,EAAMyc,EAAUjvB,OAAQwS,GAAO,EAAG,CAChD,IAAI0c,EAAW,gBAAgBpb,EAAOmb,EAAUzc,IAC5C0c,GACAtlB,EAAK1G,KAAK,CACNuO,MAAOyd,EAASzd,MAChBC,IAAKwd,EAASxd,IACdtF,QAAS8iB,EAASzd,MAAMwC,YAAcH,EAAMrC,MAAMwC,UAClD5H,MAAO6iB,EAASxd,IAAIuC,YAAcH,EAAMpC,IAAIuC,UAC5CzB,IAAKA,IAIjB,OAAO5I,GAEJolB,EArB2B,CAsBpC,QAEEG,EAA6B,SAAU/nB,GAEvC,SAAS+nB,IACL,IAAI3uB,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAIhE,OAHAe,EAAM4uB,eAAiB,gBAAQA,GAC/B5uB,EAAM4c,OAAS,IAAI4R,EACnBxuB,EAAM6uB,YAAc,kBACb7uB,EAYX,OAlBA,eAAU2uB,EAAa/nB,GAQvB+nB,EAAY7nB,UAAU1G,OAAS,WAC3B,IAAIJ,EAAQf,KACRiI,EAAKjI,KAAMV,EAAQ2I,EAAG3I,MAAO4I,EAAUD,EAAGC,QAC1CmD,EAAc/L,EAAM+L,YAAaoS,EAAgBne,EAAMme,cACvD6G,EAAiBpc,EAAQzI,QAAQ8kB,aACjCiL,EAAYxvB,KAAK2vB,eAAelS,EAAepS,EAAanD,EAAQuX,SAGxE,OAAQ,eAAD,CAAe,OAAU,CAAE5D,KAAMyI,EAAiB,SAAW,QAAS,SAAUxI,EAASxQ,GAAc,OAAQ,eAAD,CAAeyiB,EAAU,eAAS,CAAEhlB,IAAKhI,EAAM6uB,aAAe7uB,EAAM4c,OAAOE,WAAWve,EAAO+L,EAAa,KAAMnD,EAASsnB,GAAY,CAAErmB,SAAU7J,EAAM6J,SAAU8c,KAAM3mB,EAAM2mB,KAAM5a,YAAaA,EAAakX,UAAWjjB,EAAMijB,UAAWuC,aAAcxlB,EAAMwlB,aAAczT,MAAOoM,EAAcpM,MAAM,GAAIyN,kBAAmBxf,EAAMwf,kBAAmBlD,cAAetc,EAAMsc,cAAerD,YAAajZ,EAAMiZ,YAAawD,aAAczc,EAAMyc,aAAcZ,WAAY7b,EAAM6b,WAAYW,QAASA,EAASmQ,iBAAkB3H,GAAkBvjB,EAAM4c,OAAOkS,aAAa/T,EAAS5T,EAASsnB,GAAYlkB,WAAYA,EAAY6iB,mBAAoB7uB,EAAM6uB,mBAAoBI,aAAcjvB,EAAMivB,oBAEpxBmB,EAnBqB,CAoB9B,QACF,SAASC,EAAelS,EAAepS,EAAaoU,GAEhD,IADA,IAAIqQ,EAAS,GACJxlB,EAAK,EAAGrC,EAAKwV,EAAcc,YAAajU,EAAKrC,EAAG1H,OAAQ+J,IAAM,CACnE,IAAIc,EAAOnD,EAAGqC,GACdwlB,EAAOrsB,KAAK,CACRuO,MAAOyN,EAAQ4P,IAAIjkB,EAAMC,EAAY4Z,aACrChT,IAAKwN,EAAQ4P,IAAIjkB,EAAMC,EAAY6Z,eAG3C,OAAO4K,EAKX,IAAIC,EAAsB,CACtB,CAAEC,MAAO,GACT,CAAEC,QAAS,IACX,CAAEA,QAAS,IACX,CAAEC,QAAS,IACX,CAAEA,QAAS,KAEf,SAASC,EAAelL,EAAaC,EAAakL,EAAuBtL,EAAcrF,GACnF,IAAI4Q,EAAW,IAAIC,KAAK,GACpBC,EAAWtL,EACXuL,EAAe,gBAAe,GAC9BC,EAAgBL,GAAyBM,EAAqB5L,GAC9D6L,EAAQ,GACZ,MAAO,eAAUJ,GAAY,eAAUrL,GAAc,CACjD,IAAI9Z,EAAOqU,EAAQ4P,IAAIgB,EAAUE,GAC7BrP,EAAkE,OAAtD,gBAAqBsP,EAAcC,GACnDE,EAAMltB,KAAK,CACP2H,KAAMA,EACNuW,KAAM4O,EACNlwB,IAAK+K,EAAK6Q,cACVmF,WAAY,gBAAoBhW,GAChC8V,UAAWA,IAEfqP,EAAW,eAAaA,EAAUzL,GAClC0L,EAAe,eAAaA,EAAc1L,GAE9C,OAAO6L,EAGX,SAASD,EAAqB5L,GAC1B,IAAIjhB,EACA4sB,EACAG,EAEJ,IAAK/sB,EAAIksB,EAAoBxvB,OAAS,EAAGsD,GAAK,EAAGA,GAAK,EAGlD,GAFA4sB,EAAgB,gBAAeV,EAAoBlsB,IACnD+sB,EAAgB,gBAAqBH,EAAe3L,GAC9B,OAAlB8L,GAA0BA,EAAgB,EAC1C,OAAOH,EAGf,OAAO3L,EAGX,IAAI+L,EAAiC,SAAUlpB,GAE3C,SAASkpB,IACL,IAAI9vB,EAAmB,OAAX4G,GAAmBA,EAAOjE,MAAM1D,KAAMM,YAAcN,KAGhE,OAFAe,EAAM+vB,mBAAqB,gBAAQA,GACnC/vB,EAAMovB,eAAiB,gBAAQA,GACxBpvB,EAoBX,OAzBA,eAAU8vB,EAAiBlpB,GAO3BkpB,EAAgBhpB,UAAU1G,OAAS,WAC/B,IAAIJ,EAAQf,KACRiI,EAAKjI,KAAKkI,QAASzI,EAAUwI,EAAGxI,QAASggB,EAAUxX,EAAGwX,QAAStB,EAAuBlW,EAAGkW,qBACzF7e,EAAQU,KAAKV,MACb+L,EAAc/L,EAAM+L,YACpBoS,EAAgBzd,KAAK8wB,mBAAmBzlB,EAAa8S,GACrD4S,EAAa/wB,KAAK2iB,eAAeoO,WAAWzxB,GAC5CijB,EAAYviB,KAAKmwB,eAAe9kB,EAAY4Z,YAAa5Z,EAAY6Z,YAAazlB,EAAQuxB,kBAAmBvxB,EAAQqlB,aAAcrF,GACnIjW,EAAc/J,EAAQ+J,YACtBynB,GAAmBznB,EACnB0nB,EAAkB1nB,EAClB4U,EAAgB3e,EAAQ4e,YAAe,eAAD,CAAe,OAAW,CAAEC,MAAOb,EAAcc,YAAalT,YAAaA,EAAamT,sBAAsB,EAAM/H,YAAawa,EAAkBjxB,KAAKijB,eAAiB,OAC/MQ,GAAwC,IAAvBhkB,EAAQ0xB,YAAyB,SAAW1S,GAAc,OAAQ,eAAD,CAAe,OAAU,eAAS,GAAIsS,EAAWtkB,OAAQ,CAAEpB,YAAaA,EAAaoS,cAAeA,EAAeK,iBAAkBre,EAAQqe,iBAAkBlC,cAAe6C,EAAW7C,cAAeI,aAAcyC,EAAWK,kBAAmB5C,eAAgB+U,EAAkBlwB,EAAMsiB,mBAAqB,KAAMpM,iBAAiB,EAAOkE,YAAY,EAAO4C,iBAAkBhd,EAAM6G,YAAa2Q,YAAakG,EAAWlG,YAAawD,aAAc0C,EAAW1C,aAAc5S,SAAU7J,EAAM6J,UAAYpI,EAAM4jB,4BACvkByM,EAAkB,SAAU3S,GAAc,OAAQ,eAAD,CAAeiR,EAAa,eAAS,GAAIqB,EAAWnQ,MAAO,CAAEnD,cAAeA,EAAepS,YAAaA,EAAa4a,KAAMgL,EAAiBnM,aAAcrlB,EAAQqlB,aAAcvC,UAAWA,EAAWpZ,SAAU7J,EAAM6J,SAAU2V,kBAAmBL,EAAWK,kBAAmBlD,cAAe6C,EAAW7C,cAAerD,YAAakG,EAAWlG,YAAawD,aAAc0C,EAAW1C,aAAcwS,aAAcxtB,EAAM8iB,iBAAkB1I,WAAYsD,EAAWtD,WAAYgT,mBAAoBptB,EAAM+hB,2BAC9hB,OAAOoO,EACDlxB,KAAKsJ,oBAAoB8U,EAAeqF,EAAe2N,EAAiB3T,EAAclU,OAAQC,EAAa+Y,EAAWviB,KAAK8P,MAAM+S,YACjI7iB,KAAK8H,mBAAmBsW,EAAeqF,EAAe2N,IAEzDP,EA1ByB,CA2BlCnO,GACF,SAASoO,EAAmBzlB,EAAa8S,GACrC,IAAIa,EAAY,IAAI,OAAe3T,EAAY4T,YAAad,GAC5D,OAAO,IAAI,OAAca,GAAW,GAGxC,IAAIqS,EAAkB,CAClBF,WAAYrwB,SAGZgf,GAAO,gBAAa,CACpBC,YAAa,eACbuR,eAAgBD,EAChBrR,MAAO,CACHuR,SAAU,CACN5uB,UAAWkuB,EACXW,gBAAgB,EAChBL,YAAY,EACZrM,aAAc,WACdoI,kBAAkB,GAEtBuE,YAAa,CACThvB,KAAM,WACN2d,SAAU,CAAEC,KAAM,IAEtBqR,aAAc,CACVjvB,KAAM,WACN2d,SAAU,CAAEG,MAAO,OAKhB,W,qBCltCf,IAAIoR,EAAI,EAAQ,QACZC,EAAS,EAAQ,QACjBC,EAAY,EAAQ,QAEpBC,EAAQ,GAAGA,MACXC,EAAO,WAAW7S,KAAK2S,GAEvBG,EAAO,SAAUC,GACnB,OAAO,SAAUC,EAASC,GACxB,IAAIC,EAAY9xB,UAAUC,OAAS,EAC/BiqB,EAAO4H,EAAYN,EAAMpd,KAAKpU,UAAW,QAAKE,EAClD,OAAOyxB,EAAUG,EAAY,YAER,mBAAXF,EAAwBA,EAAUG,SAASH,IAAUxuB,MAAM1D,KAAMwqB,IACvE0H,EAASC,KAMjBR,EAAE,CAAEC,QAAQ,EAAMU,MAAM,EAAMC,OAAQR,GAAQ,CAG5CS,WAAYR,EAAKJ,EAAOY,YAGxBC,YAAaT,EAAKJ,EAAOa,gB,oCC1B3B,kDAMe,SAASC,EAAeC,GAAyC,IAA1BC,EAA0B,uDAAV,aAM9DC,EAAkB9pB,iBAAI,MAOtB+pB,EAAgB,WACpBD,EAAgBpyB,MAAMsyB,SASlBC,EAAqB,SAAC,GAAyE,IAAvEC,EAAuE,EAAvEA,MAAOjtB,EAAgE,EAAhEA,UAAqBktB,EAA2C,EAArD/rB,SAAyBgsB,EAA4B,EAA5BA,QAA4B,IAAnBC,aAAmB,MAAX,KAAW,EAC7FC,EAASJ,GAASjtB,EAAYotB,EAAQ,KAC5C,OAAQF,GAAkBC,EAAiBE,EAAP,MAQhCC,EAAY,WAChBX,IACAY,uBAAS,WACPT,QASEU,EAAY,WAChBZ,IACAW,uBAAS,WACPT,QAIJ,MAAO,CACLD,kBACAC,gBACAE,qBACAM,YACAE,e,wBC/DH,SAASC,EAAEC,GAAqD9wB,EAAOC,QAAQ6wB,IAA/E,CAAsM,oBAAoBC,MAAKA,MAAU,WAAY,OAAO,SAASF,GAAG,IAAIC,EAAE,GAAG,SAASE,EAAEC,GAAG,GAAGH,EAAEG,GAAG,OAAOH,EAAEG,GAAGhxB,QAAQ,IAAIgB,EAAE6vB,EAAEG,GAAG,CAAChwB,EAAEgwB,EAAEC,GAAE,EAAGjxB,QAAQ,IAAI,OAAO4wB,EAAEI,GAAGnf,KAAK7Q,EAAEhB,QAAQgB,EAAEA,EAAEhB,QAAQ+wB,GAAG/vB,EAAEiwB,GAAE,EAAGjwB,EAAEhB,QAAQ,OAAO+wB,EAAEG,EAAEN,EAAEG,EAAEI,EAAEN,EAAEE,EAAEK,EAAE,SAASR,EAAEC,EAAEG,GAAGD,EAAEC,EAAEJ,EAAEC,IAAIxwB,OAAOiB,eAAesvB,EAAEC,EAAE,CAAClwB,YAAW,EAAG0wB,IAAIL,KAAKD,EAAEO,EAAE,SAASV,GAAG,oBAAoBW,QAAQA,OAAOC,aAAanxB,OAAOiB,eAAesvB,EAAEW,OAAOC,YAAY,CAAC5zB,MAAM,WAAWyC,OAAOiB,eAAesvB,EAAE,aAAa,CAAChzB,OAAM,KAAMmzB,EAAEH,EAAE,SAASA,EAAEC,GAAG,GAAG,EAAEA,IAAID,EAAEG,EAAEH,IAAI,EAAEC,EAAE,OAAOD,EAAE,GAAG,EAAEC,GAAG,iBAAiBD,GAAGA,GAAGA,EAAEa,WAAW,OAAOb,EAAE,IAAII,EAAE3wB,OAAOqxB,OAAO,MAAM,GAAGX,EAAEO,EAAEN,GAAG3wB,OAAOiB,eAAe0vB,EAAE,UAAU,CAACrwB,YAAW,EAAG/C,MAAMgzB,IAAI,EAAEC,GAAG,iBAAiBD,EAAE,IAAI,IAAI5vB,KAAK4vB,EAAEG,EAAEK,EAAEJ,EAAEhwB,EAAE,SAAS6vB,GAAG,OAAOD,EAAEC,IAAIpB,KAAK,KAAKzuB,IAAI,OAAOgwB,GAAGD,EAAEA,EAAE,SAASH,GAAG,IAAIC,EAAED,GAAGA,EAAEa,WAAW,WAAW,OAAOb,EAAE/wB,SAAS,WAAW,OAAO+wB,GAAG,OAAOG,EAAEK,EAAEP,EAAE,IAAIA,GAAGA,GAAGE,EAAEC,EAAE,SAASJ,EAAEC,GAAG,OAAOxwB,OAAO2E,UAAU2sB,eAAe9f,KAAK+e,EAAEC,IAAIE,EAAEa,EAAE,IAAIb,EAAEA,EAAEc,EAAE,GAAl5B,CAAs5B,CAAC,SAASjB,EAAEC,EAAEE,GAAG,IAAIC,EAAED,EAAE,GAAG/vB,EAAE+vB,EAAE,GAAGc,EAAEd,EAAE,GAAGH,EAAE5wB,QAAQ,SAAS4wB,GAAG,OAAOI,EAAEJ,IAAI5vB,EAAE4vB,IAAIiB,MAAM,SAASjB,EAAEC,GAAG,SAASE,EAAEF,GAAG,MAAM,mBAAmBU,QAAQ,iBAAiBA,OAAOO,SAASlB,EAAE5wB,QAAQ+wB,EAAE,SAASH,GAAG,cAAcA,GAAGA,EAAE5wB,QAAQ+wB,EAAE,SAASH,GAAG,OAAOA,GAAG,mBAAmBW,QAAQX,EAAEmB,cAAcR,QAAQX,IAAIW,OAAOvsB,UAAU,gBAAgB4rB,GAAGG,EAAEF,GAAGD,EAAE5wB,QAAQ+wB,GAAG,SAASH,EAAEC,EAAEE,KAAK,SAASH,EAAEC,GAAGD,EAAE5wB,QAAQ,SAAS4wB,EAAEC,EAAEE,GAAG,OAAOF,KAAKD,EAAEvwB,OAAOiB,eAAesvB,EAAEC,EAAE,CAACjzB,MAAMmzB,EAAEpwB,YAAW,EAAGa,cAAa,EAAGC,UAAS,IAAKmvB,EAAEC,GAAGE,EAAEH,IAAI,SAASA,EAAEC,GAAGD,EAAE5wB,QAAQ,SAAS4wB,GAAG,GAAGjS,MAAMC,QAAQgS,GAAG,CAAC,IAAI,IAAIC,EAAE,EAAEE,EAAE,IAAIpS,MAAMiS,EAAElzB,QAAQmzB,EAAED,EAAElzB,OAAOmzB,IAAIE,EAAEF,GAAGD,EAAEC,GAAG,OAAOE,KAAK,SAASH,EAAEC,GAAGD,EAAE5wB,QAAQ,SAAS4wB,GAAG,GAAGW,OAAOO,YAAYzxB,OAAOuwB,IAAI,uBAAuBvwB,OAAO2E,UAAUgtB,SAASngB,KAAK+e,GAAG,OAAOjS,MAAM3c,KAAK4uB,KAAK,SAASA,EAAEC,GAAGD,EAAE5wB,QAAQ,WAAW,MAAM,IAAIiyB,UAAU,qDAAqD,SAASrB,EAAEC,EAAEE,GAAG,aAAa,IAAIC,EAAED,EAAE,GAAGA,EAAEA,EAAEC,GAAGrL,GAAG,SAASiL,EAAEC,EAAEE,GAAG,aAAaA,EAAEO,EAAET,GAAG,IAAIG,EAAED,EAAE,GAAG/vB,EAAE+vB,EAAEA,EAAEC,GAAGa,EAAEd,EAAE,GAAGO,EAAEP,EAAEA,EAAEc,GAAGlM,EAAEoL,EAAE,GAAGE,EAAEF,EAAEA,EAAEpL,GAAGwL,EAAE,CAAC10B,MAAM,CAACy1B,WAAW,CAACtyB,KAAK3B,QAAQ4B,SAAQ,IAAKoC,MAAM,CAACkwB,iBAAiB,WAAWh1B,KAAK+0B,YAAY/0B,KAAKi1B,sBAAsB/0B,QAAQ,CAAC+0B,kBAAkB,WAAW,IAAIxB,EAAEC,GAAG,QAAQD,EAAEzzB,KAAKk1B,MAAMC,oBAAe,IAAS1B,OAAE,EAAOA,EAAE1G,SAAS/sB,KAAKg1B,qBAAoB,EAAG,GAAGtB,EAAE,CAAC,IAAIE,EAAE5zB,KAAKo1B,sBAAsBvB,EAAEH,EAAEpa,wBAAwBzV,EAAEgwB,EAAE1b,IAAIuc,EAAEb,EAAEja,OAAOua,EAAEN,EAAE1a,OAAO,GAAGtV,EAAE+vB,EAAEzb,IAAI,OAAOnY,KAAKk1B,MAAMC,aAAapS,UAAU2Q,EAAE2B,UAAU,GAAGX,EAAEd,EAAEha,OAAO,OAAO5Z,KAAKk1B,MAAMC,aAAapS,UAAU2Q,EAAE2B,WAAWzB,EAAEza,OAAOgb,KAAKiB,oBAAoB,WAAW,OAAOp1B,KAAKk1B,MAAMC,aAAan1B,KAAKk1B,MAAMC,aAAa7b,wBAAwB,CAACH,OAAO,EAAEhB,IAAI,EAAEyB,OAAO,MAAM0b,EAAE,CAACnvB,KAAK,WAAW,MAAM,CAAC6uB,kBAAkB,IAAIlwB,MAAM,CAACywB,gBAAgB,WAAW,IAAI,IAAI9B,EAAE,EAAEA,EAAEzzB,KAAKu1B,gBAAgBh1B,OAAOkzB,IAAI,GAAGzzB,KAAKw1B,WAAWx1B,KAAKu1B,gBAAgB9B,IAAI,CAACzzB,KAAKg1B,iBAAiBvB,EAAE,SAASvzB,QAAQ,CAACu1B,YAAY,WAAW,IAAI,IAAIhC,EAAEzzB,KAAKg1B,iBAAiB,EAAEvB,GAAG,EAAEA,IAAI,GAAGzzB,KAAKw1B,WAAWx1B,KAAKu1B,gBAAgB9B,IAAI,CAACzzB,KAAKg1B,iBAAiBvB,EAAE,QAAQiC,cAAc,WAAW,IAAI,IAAIjC,EAAEzzB,KAAKg1B,iBAAiB,EAAEvB,EAAEzzB,KAAKu1B,gBAAgBh1B,OAAOkzB,IAAI,GAAGzzB,KAAKw1B,WAAWx1B,KAAKu1B,gBAAgB9B,IAAI,CAACzzB,KAAKg1B,iBAAiBvB,EAAE,QAAQkC,gBAAgB,WAAW,IAAIlC,EAAEzzB,KAAKu1B,gBAAgBv1B,KAAKg1B,kBAAkBvB,GAAGzzB,KAAK41B,OAAOnC,MAAMgB,EAAE,CAACn1B,MAAM,CAACu2B,QAAQ,CAACpzB,KAAK3B,QAAQ4B,SAAQ,IAAKyD,KAAK,WAAW,MAAM,CAAC2vB,gBAAe,IAAKhxB,MAAM,CAACixB,OAAO,WAAW/1B,KAAKoC,MAAM,SAASpC,KAAK+1B,OAAO/1B,KAAKg2B,gBAAgBH,QAAQ,SAASpC,GAAGzzB,KAAK81B,eAAerC,IAAIvzB,QAAQ,CAAC81B,cAAc,WAAW,IAAIvC,EAAEnzB,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,KAAK,OAAON,KAAK81B,eAAe,MAAMrC,GAAGzzB,KAAK81B,eAAerC,KAAK,SAAS7sB,EAAE6sB,EAAEC,EAAEE,EAAEC,EAAEhwB,EAAE6wB,EAAEP,EAAE3L,GAAG,IAAIsL,EAAEE,EAAE,mBAAmBP,EAAEA,EAAEh0B,QAAQg0B,EAAE,GAAGC,IAAIM,EAAE7yB,OAAOuyB,EAAEM,EAAE1xB,gBAAgBsxB,EAAEI,EAAEiC,WAAU,GAAIpC,IAAIG,EAAEkC,YAAW,GAAIxB,IAAIV,EAAEmC,SAAS,UAAUzB,GAAGP,GAAGL,EAAE,SAASL,IAAIA,EAAEA,GAAGzzB,KAAKo2B,QAAQp2B,KAAKo2B,OAAOC,YAAYr2B,KAAKs2B,QAAQt2B,KAAKs2B,OAAOF,QAAQp2B,KAAKs2B,OAAOF,OAAOC,aAAa,oBAAoBE,sBAAsB9C,EAAE8C,qBAAqB1yB,GAAGA,EAAE6Q,KAAK1U,KAAKyzB,GAAGA,GAAGA,EAAE+C,uBAAuB/C,EAAE+C,sBAAsBnH,IAAI8E,IAAIH,EAAEyC,aAAa3C,GAAGjwB,IAAIiwB,EAAEtL,EAAE,WAAW3kB,EAAE6Q,KAAK1U,KAAKA,KAAK02B,MAAMz1B,SAAS01B,aAAa9yB,GAAGiwB,EAAE,GAAGE,EAAEkC,WAAW,CAAClC,EAAE4C,cAAc9C,EAAE,IAAIwB,EAAEtB,EAAE7yB,OAAO6yB,EAAE7yB,OAAO,SAASsyB,EAAEC,GAAG,OAAOI,EAAEpf,KAAKgf,GAAG4B,EAAE7B,EAAEC,QAAQ,CAAC,IAAIe,EAAET,EAAE6C,aAAa7C,EAAE6C,aAAapC,EAAE,GAAG9tB,OAAO8tB,EAAEX,GAAG,CAACA,GAAG,MAAM,CAACjxB,QAAQ4wB,EAAEh0B,QAAQu0B,GAAG,IAAIC,EAAE,CAAC6C,SAASlwB,EAAE,IAAG,WAAY,IAAI6sB,EAAEzzB,KAAKsB,eAAeoyB,EAAE1zB,KAAKwB,MAAMD,IAAIkyB,EAAE,OAAOC,EAAE,MAAM,CAAChyB,MAAM,CAACq1B,MAAM,6BAA6Bpb,MAAM,KAAKxC,OAAO,OAAO,CAACua,EAAE,OAAO,CAAChyB,MAAM,CAACuyB,EAAE,qhBAAqhB,IAAG,EAAG,KAAK,KAAK,MAAMpxB,QAAQm0B,cAAcpwB,EAAE,IAAG,WAAY,IAAI6sB,EAAEzzB,KAAKsB,eAAeoyB,EAAE1zB,KAAKwB,MAAMD,IAAIkyB,EAAE,OAAOC,EAAE,MAAM,CAAChyB,MAAM,CAACq1B,MAAM,6BAA6Bpb,MAAM,KAAKxC,OAAO,OAAO,CAACua,EAAE,OAAO,CAAChyB,MAAM,CAACuyB,EAAE,2TAA2T,IAAG,EAAG,KAAK,KAAK,MAAMpxB,SAASo0B,EAAE,CAACC,SAAS,SAASzD,EAAEC,EAAEE,GAAG,IAAIC,EAAED,EAAE1rB,QAAQ,GAAG2rB,EAAEsD,aAAa,CAAC,IAAItzB,EAAEgwB,EAAEqB,MAAMkC,OAAO9d,wBAAwBob,EAAE7wB,EAAEsV,OAAOgb,EAAEtwB,EAAEsU,IAAIqQ,EAAE3kB,EAAEiU,KAAKgc,EAAEjwB,EAAE8X,MAAMqY,EAAEqD,OAAOC,SAASD,OAAOE,YAAYjC,EAAE+B,OAAOG,SAASH,OAAOI,YAAYhE,EAAEiE,eAAe7D,EAAE8D,kBAAkBlE,EAAEI,EAAE,CAAClY,MAAMmY,EAAE,KAAKhc,KAAKkc,EAAExL,EAAE,KAAKrQ,IAAImd,EAAEnB,EAAEO,EAAE,OAAOkD,SAASC,KAAKC,YAAYrE,KAAKsE,OAAO,SAAStE,EAAEC,EAAEE,GAAGA,EAAE1rB,QAAQivB,eAAe1D,EAAEiE,gBAAgB,mBAAmBjE,EAAEiE,gBAAgBjE,EAAEiE,iBAAiBjE,EAAEuE,YAAYvE,EAAEuE,WAAWC,YAAYxE,MAAUyE,EAAE,SAASzE,GAAG,IAAIC,EAAE,GAAG,OAAOxwB,OAAOD,KAAKwwB,GAAGpL,OAAOtkB,SAAQ,SAAU6vB,GAAGF,EAAEE,GAAGH,EAAEG,MAAMuE,KAAKC,UAAU1E,IAAIjL,EAAE,EAAM4P,EAAE,WAAW,QAAQ5P,GAAG,SAAS6P,EAAE7E,EAAEC,GAAG,IAAIE,EAAE1wB,OAAOD,KAAKwwB,GAAG,GAAGvwB,OAAOC,sBAAsB,CAAC,IAAI0wB,EAAE3wB,OAAOC,sBAAsBswB,GAAGC,IAAIG,EAAEA,EAAExwB,QAAO,SAAUqwB,GAAG,OAAOxwB,OAAOK,yBAAyBkwB,EAAEC,GAAGlwB,eAAeowB,EAAEnwB,KAAKC,MAAMkwB,EAAEC,GAAG,OAAOD,EAAE,SAASG,EAAEN,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEpzB,UAAUC,OAAOmzB,IAAI,CAAC,IAAIE,EAAE,MAAMtzB,UAAUozB,GAAGpzB,UAAUozB,GAAG,GAAGA,EAAE,EAAE4E,EAAEp1B,OAAO0wB,IAAG,GAAI7vB,SAAQ,SAAU2vB,GAAGI,IAAIL,EAAEC,EAAEE,EAAEF,OAAOxwB,OAAOe,0BAA0Bf,OAAOgB,iBAAiBuvB,EAAEvwB,OAAOe,0BAA0B2vB,IAAI0E,EAAEp1B,OAAO0wB,IAAI7vB,SAAQ,SAAU2vB,GAAGxwB,OAAOiB,eAAesvB,EAAEC,EAAExwB,OAAOK,yBAAyBqwB,EAAEF,OAAO,OAAOD,EAAE,IAAI8E,EAAE,CAACh2B,WAAWwxB,EAAE,GAAGE,GAAGvvB,OAAO,CAACsvB,EAAEsB,EAAEb,GAAG+D,WAAW,CAACrB,aAAaF,GAAG33B,MAAM,CAACmB,MAAM,GAAG8B,WAAW,CAACE,KAAKS,OAAOR,QAAQ,WAAW,MAAM,KAAKjD,QAAQ,CAACgD,KAAK+e,MAAM9e,QAAQ,WAAW,MAAM,KAAK7B,SAAS,CAAC4B,KAAK3B,QAAQ4B,SAAQ,GAAI+1B,UAAU,CAACh2B,KAAK3B,QAAQ4B,SAAQ,GAAIg2B,WAAW,CAACj2B,KAAK3B,QAAQ4B,SAAQ,GAAIi2B,SAAS,CAACl2B,KAAK3B,QAAQ4B,SAAQ,GAAIk2B,YAAY,CAACn2B,KAAK9B,OAAO+B,QAAQ,IAAIm2B,WAAW,CAACp2B,KAAK9B,OAAO+B,QAAQ,YAAYo2B,oBAAoB,CAACr2B,KAAK3B,QAAQ4B,SAAQ,GAAIq2B,cAAc,CAACt2B,KAAK3B,QAAQ4B,SAAQ,GAAIs2B,MAAM,CAACv2B,KAAK9B,OAAO+B,QAAQ,SAASu2B,aAAa,CAACx2B,KAAK9B,OAAO+B,QAAQ,OAAOw2B,OAAO,CAACz2B,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,GAAG,OAAOA,IAAI+B,WAAW,CAAC/yB,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,GAAG,OAAM,IAAK0F,eAAe,CAAC12B,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,GAAG,MAAM,WAAWU,IAAIV,GAAGA,EAAEe,eAAex0B,KAAKg5B,OAAOvF,EAAEzzB,KAAKg5B,OAAOI,QAAQC,KAAK,wCAAwC1yB,OAAO3G,KAAKg5B,MAAM,cAAc,4BAA4BryB,OAAOwxB,KAAKC,UAAU3E,GAAG,OAAO,wDAAwDA,IAAI6F,aAAa,CAAC72B,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,GAAG,GAAG,WAAWU,IAAIV,GAAG,OAAOA,EAAE,IAAI,OAAOA,EAAEe,eAAe,MAAMf,EAAEjvB,GAAG0zB,EAAEzE,GAAG,MAAMC,GAAG,OAAO0F,QAAQC,KAAK,2MAA2M5F,EAAEC,MAAM6F,MAAM,CAAC92B,KAAK4vB,SAAS3vB,QAAQ,WAAW1C,KAAKw5B,cAAcx5B,KAAKy5B,aAAaz5B,KAAK21B,oBAAoB+D,SAAS,CAACj3B,KAAK3B,QAAQ4B,SAAQ,GAAI2E,SAAS,CAAC5E,KAAKk3B,OAAOj3B,QAAQ,MAAMk3B,SAAS,CAACn3B,KAAK3B,QAAQ4B,SAAQ,GAAIm3B,WAAW,CAACp3B,KAAK3B,QAAQ4B,SAAQ,GAAIo3B,SAAS,CAACr3B,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,EAAEC,EAAEE,GAAG,OAAOF,GAAG,IAAIqG,cAAcC,QAAQpG,EAAEmG,gBAAgB,IAAI12B,OAAO,CAACZ,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,EAAEC,GAAG,IAAIE,EAAE5zB,KAAK,OAAOyzB,EAAEpwB,QAAO,SAAUowB,GAAG,IAAII,EAAED,EAAEuF,eAAe1F,GAAG,MAAM,iBAAiBI,IAAIA,EAAEA,EAAEgB,YAAYjB,EAAEkG,SAASrG,EAAEI,EAAEH,QAAQuG,aAAa,CAACx3B,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,GAAG,MAAM,WAAWU,IAAIn0B,KAAKk6B,WAAW,IAAIpG,IAAI,GAAG9zB,KAAKg5B,MAAMvF,GAAGA,IAAI0G,qBAAqB,CAACz3B,SAAQ,EAAG03B,UAAU,SAAS3G,GAAG,MAAM,CAAC,WAAW,WAAW4G,SAASlG,IAAIV,MAAM6G,kBAAkB,CAAC73B,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,GAAG,IAAIC,EAAED,EAAEqF,oBAAoBlF,EAAEH,EAAEkF,SAAS,OAAOjF,IAAIE,IAAI2G,OAAO,CAAC93B,KAAK3B,QAAQ4B,SAAQ,GAAI83B,QAAQ,CAAC/3B,KAAK9B,QAAQ85B,IAAI,CAACh4B,KAAK9B,OAAO+B,QAAQ,QAAQ82B,YAAY,CAAC/2B,KAAK3B,QAAQ4B,SAAQ,GAAIg4B,iBAAiB,CAACj4B,KAAK+e,MAAM9e,QAAQ,WAAW,MAAM,CAAC,MAAMi4B,yBAAyB,CAACl4B,KAAK9B,OAAO+B,QAAQ,iBAAiBk4B,WAAW,CAACn4B,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,EAAEC,GAAG,OAAOD,IAAI0D,aAAa,CAAC10B,KAAK3B,QAAQ4B,SAAQ,GAAIi1B,kBAAkB,CAACl1B,KAAK4vB,SAAS3vB,QAAQ,SAAS+wB,EAAEC,EAAEE,GAAG,IAAIC,EAAED,EAAEjY,MAAM9X,EAAE+vB,EAAEzb,IAAIuc,EAAEd,EAAE9b,KAAK2b,EAAE1lB,MAAMoK,IAAItU,EAAE4vB,EAAE1lB,MAAM+J,KAAK4c,EAAEjB,EAAE1lB,MAAM4N,MAAMkY,KAAK1tB,KAAK,WAAW,MAAM,CAAC00B,IAAIxC,IAAItC,OAAO,GAAG+E,MAAK,EAAGrB,aAAY,EAAGsB,WAAW,GAAGC,OAAO,KAAKl2B,MAAM,CAACrF,QAAQ,SAASg0B,EAAEC,GAAG,IAAIE,EAAE5zB,MAAMA,KAAK05B,WAAW,mBAAmB9F,EAAEuG,qBAAqBvG,EAAEuG,qBAAqB1G,EAAEC,EAAEE,EAAEqH,eAAerH,EAAEuG,uBAAuBn6B,KAAKk7B,iBAAiBl7B,KAAKS,OAAOT,KAAKm7B,kBAAkBn7B,KAAKo7B,4BAA4Bp7B,KAAKS,QAAQA,MAAM,SAASgzB,GAAGzzB,KAAKm7B,kBAAkBn7B,KAAKo7B,4BAA4B3H,IAAIkF,SAAS,WAAW34B,KAAKk7B,kBAAkBJ,KAAK,SAASrH,GAAGzzB,KAAKoC,MAAMqxB,EAAE,OAAO,WAAW4H,QAAQ,WAAWr7B,KAAK81B,eAAe91B,KAAK61B,aAAQ,IAAS71B,KAAKS,OAAOT,KAAKm7B,kBAAkBn7B,KAAKo7B,4BAA4Bp7B,KAAKS,OAAOT,KAAKs7B,IAAI,iBAAiBt7B,KAAKu7B,UAAUr7B,QAAQ,CAACk7B,4BAA4B,SAAS3H,GAAG,IAAIC,EAAE1zB,KAAKwhB,MAAMC,QAAQgS,GAAGzzB,KAAKw7B,MAAMR,OAAOvH,EAAEzyB,KAAI,SAAUyyB,GAAG,OAAOC,EAAE+H,2BAA2BhI,MAAMzzB,KAAKw7B,MAAMR,OAAOh7B,KAAKy7B,2BAA2BhI,IAAImC,OAAO,SAASnC,GAAGzzB,KAAKoC,MAAM,mBAAmBqxB,GAAGzzB,KAAK07B,iBAAiBjI,KAAKzzB,KAAK05B,WAAW15B,KAAK27B,aAAalI,IAAIzzB,KAAKoC,MAAM,iBAAiBqxB,GAAGzzB,KAAK24B,WAAWlF,EAAEzzB,KAAKi7B,cAAct0B,OAAO8sB,IAAIzzB,KAAK47B,YAAYnI,GAAGzzB,KAAKoC,MAAM,kBAAkBqxB,IAAIzzB,KAAK67B,cAAcpI,IAAIqI,SAAS,SAASrI,GAAG,IAAIC,EAAE1zB,KAAKA,KAAKoC,MAAM,qBAAqBqxB,GAAGzzB,KAAK47B,YAAY57B,KAAKi7B,cAAc53B,QAAO,SAAUuwB,GAAG,OAAOF,EAAEqI,iBAAiBnI,EAAEH,OAAOzzB,KAAKoC,MAAM,oBAAoBqxB,IAAIyH,eAAe,WAAWl7B,KAAK47B,YAAY57B,KAAK24B,SAAS,GAAG,OAAOkD,cAAc,SAASpI,GAAGzzB,KAAK+4B,gBAAgB/4B,KAAK86B,MAAM96B,KAAK86B,KAAK96B,KAAKg8B,SAASC,QAAQj8B,KAAK84B,sBAAsB94B,KAAK+1B,OAAO,KAAK6F,YAAY,SAASnI,GAAG,IAAIC,EAAE1zB,UAAK,IAASA,KAAKS,QAAQT,KAAKw7B,MAAMR,OAAOvH,GAAG,OAAOA,IAAIA,EAAEjS,MAAMC,QAAQgS,GAAGA,EAAEzyB,KAAI,SAAUyyB,GAAG,OAAOC,EAAEwF,OAAOzF,MAAMzzB,KAAKk5B,OAAOzF,IAAIzzB,KAAKoC,MAAM,QAAQqxB,IAAIyI,eAAe,SAASzI,GAAG,IAAIC,EAAED,EAAE7vB,SAAS5D,KAAKg8B,SAAStI,GAAGD,EAAE0I,iBAAiB,IAAIvI,EAAE,GAAGjtB,OAAO9C,IAAI7D,KAAKk1B,MAAMkH,iBAAiB,IAAIv4B,IAAI,CAAC7D,KAAKk1B,MAAMmH,eAAc,SAAK,IAASr8B,KAAKg8B,UAAUpI,EAAEvwB,OAAOvC,SAASw7B,MAAK,SAAU5I,GAAG,OAAOA,EAAE6I,SAAS9I,EAAE7vB,SAAS8vB,IAAID,EAAE7vB,UAAU6vB,EAAE0I,iBAAiBn8B,KAAK86B,MAAMpH,EAAE1zB,KAAKg8B,SAASC,OAAOj8B,KAAKa,WAAWb,KAAK86B,MAAK,EAAG96B,KAAKg8B,SAASQ,UAAUd,iBAAiB,SAASjI,GAAG,IAAIC,EAAE1zB,KAAK,OAAOA,KAAKi7B,cAAcqB,MAAK,SAAU1I,GAAG,OAAOF,EAAEqI,iBAAiBnI,EAAEH,OAAOsI,iBAAiB,SAAStI,EAAEC,GAAG,OAAO1zB,KAAKs5B,aAAa7F,KAAKzzB,KAAKs5B,aAAa5F,IAAI+H,2BAA2B,SAAShI,GAAG,IAAIC,EAAE1zB,KAAK4zB,EAAE,GAAGjtB,OAAO9C,IAAI7D,KAAKP,SAASoE,IAAI7D,KAAK+6B,aAAa13B,QAAO,SAAUuwB,GAAG,OAAOuE,KAAKC,UAAU1E,EAAEwF,OAAOtF,MAAMuE,KAAKC,UAAU3E,MAAM,OAAO,IAAIG,EAAErzB,OAAOqzB,EAAE,GAAGA,EAAE6I,MAAK,SAAUhJ,GAAG,OAAOC,EAAEqI,iBAAiBtI,EAAEC,EAAE8H,MAAMR,YAAYvH,GAAGiJ,mBAAmB,WAAW18B,KAAK86B,MAAK,EAAG96B,KAAKoC,MAAM,gBAAgBu6B,iBAAiB,WAAW,IAAI38B,KAAKg8B,SAASv7B,MAAMF,QAAQP,KAAKi7B,eAAej7B,KAAKi7B,cAAc16B,QAAQP,KAAKy4B,UAAU,CAAC,IAAIhF,EAAE,KAAKzzB,KAAK24B,WAAWlF,EAAE5vB,IAAI7D,KAAKi7B,cAAcnJ,MAAM,EAAE9xB,KAAKi7B,cAAc16B,OAAO,KAAKP,KAAK47B,YAAYnI,KAAKkI,aAAa,SAASlI,GAAG,IAAIC,EAAE1zB,KAAK,OAAOA,KAAKk6B,WAAWoC,MAAK,SAAU1I,GAAG,OAAOF,EAAEqI,iBAAiBnI,EAAEH,OAAOmJ,uBAAuB,SAASnJ,GAAG,MAAM,WAAWU,IAAIV,GAAGA,EAAEK,IAAI,GAAG9zB,KAAKg5B,MAAMvF,IAAI8H,QAAQ,SAAS9H,GAAGzzB,KAAK+6B,WAAWt3B,KAAKgwB,IAAIoJ,SAAS,WAAW78B,KAAK+1B,OAAOx1B,OAAOP,KAAK+1B,OAAO,GAAG/1B,KAAKg8B,SAASC,QAAQa,aAAa,WAAW,IAAI98B,KAAK+8B,WAAW/8B,KAAKg9B,UAAU,CAAC,IAAIvJ,EAAEzzB,KAAK84B,oBAAoBpF,EAAE1zB,KAAK24B,SAAS,OAAO34B,KAAKs6B,kBAAkB,CAACxB,oBAAoBrF,EAAEkF,SAASjF,MAAM1zB,KAAK+1B,OAAO,SAAS/1B,KAAK08B,qBAAqB18B,KAAK+8B,WAAU,EAAG,IAAI/8B,KAAK+1B,OAAOx1B,QAAQ,IAAIP,KAAKP,QAAQc,QAAQP,KAAK08B,sBAAsBO,cAAc,WAAWj9B,KAAK86B,MAAK,EAAG96B,KAAKoC,MAAM,iBAAiB86B,YAAY,WAAWl9B,KAAK+8B,WAAU,GAAII,UAAU,WAAWn9B,KAAK+8B,WAAU,GAAIK,gBAAgB,SAAS3J,GAAG,IAAIC,EAAE1zB,KAAK4zB,EAAE,SAASH,GAAG,OAAOA,EAAE0I,kBAAkBzI,EAAE+F,aAAa/F,EAAEiC,mBAAmB9B,EAAE,CAACwJ,EAAE,SAAS5J,GAAG,OAAOC,EAAEiJ,oBAAoBW,EAAE,SAAS7J,GAAG,OAAOC,EAAE6F,SAASgE,GAAG,SAAS9J,GAAG,OAAOC,EAAEmJ,YAAYW,GAAG,SAAS/J,GAAG,OAAOA,EAAE0I,iBAAiBzI,EAAE+B,eAAegI,GAAG,SAAShK,GAAG,OAAOA,EAAE0I,iBAAiBzI,EAAEgC,kBAAkB11B,KAAK06B,iBAAiB32B,SAAQ,SAAU0vB,GAAG,OAAOI,EAAEJ,GAAGG,KAAK,IAAI/vB,EAAE7D,KAAK46B,WAAW/G,EAAE7zB,MAAM,GAAG,mBAAmB6D,EAAE4vB,EAAEiK,SAAS,OAAO75B,EAAE4vB,EAAEiK,SAASjK,KAAK3zB,SAAS,CAACq7B,iBAAiB,WAAW,YAAO,IAASn7B,KAAKS,OAAOT,KAAKiB,SAAS08B,UAAUnJ,eAAe,WAAWyG,cAAc,WAAW,IAAIxH,EAAEzzB,KAAKS,MAAM,OAAOT,KAAKm7B,mBAAmB1H,EAAEzzB,KAAKw7B,MAAMR,QAAQvH,EAAE,GAAG9sB,OAAO8sB,GAAG,IAAIyG,WAAW,WAAW,OAAOl6B,KAAKP,QAAQkH,OAAO3G,KAAK45B,SAAS55B,KAAK+6B,WAAW,KAAKiB,SAAS,WAAW,OAAOh8B,KAAK49B,aAAa7H,OAAO/1B,KAAKk1B,MAAM2I,gBAAgBC,cAAc99B,KAAK26B,0BAA0B36B,KAAKk1B,MAAMa,QAAQgI,MAAM,WAAW,IAAItK,EAAEzzB,KAAK0zB,EAAE,CAACqC,OAAO/1B,KAAK+1B,OAAOF,QAAQ71B,KAAK61B,QAAQmH,UAAUh9B,KAAKg9B,UAAUzH,gBAAgBv1B,KAAKu1B,iBAAiB,MAAM,CAACQ,OAAO,CAACiI,WAAWjK,EAAE,CAAClzB,SAASb,KAAKa,SAAS+3B,YAAY54B,KAAKi+B,kBAAkB52B,SAASrH,KAAKqH,SAAS62B,UAAUl+B,KAAK04B,WAAWl0B,GAAGxE,KAAKw6B,QAAQ,oBAAoB,OAAO,kBAAkB,KAAK7zB,OAAO3G,KAAK66B,IAAI,cAAc,gBAAgB,KAAKl0B,OAAO3G,KAAK66B,IAAI,aAAa9xB,IAAI,SAAStG,KAAK,SAASw2B,aAAaj5B,KAAKi5B,aAAax4B,MAAMT,KAAK+1B,QAAQ/1B,KAAKm+B,cAAcn+B,KAAKu1B,gBAAgBv1B,KAAKg1B,kBAAkB,CAAC,wBAAwB,KAAKruB,OAAO3G,KAAK66B,IAAI,aAAal0B,OAAO3G,KAAKg1B,mBAAmB,IAAIoJ,OAAO,CAACC,iBAAiB,WAAW,OAAO5K,EAAEgG,aAAY,GAAI6E,eAAe,WAAW,OAAO7K,EAAEgG,aAAY,GAAI8E,QAAQv+B,KAAKo9B,gBAAgBnB,KAAKj8B,KAAK88B,aAAaN,MAAMx8B,KAAKi9B,cAAcuB,MAAM,SAAS9K,GAAG,OAAOD,EAAEsC,OAAOrC,EAAE9vB,OAAOnD,SAASg+B,QAAQ,CAAC5I,QAAQ71B,KAAK81B,gBAAgB4I,UAAU,CAAC3I,OAAO/1B,KAAK+1B,OAAOF,QAAQ71B,KAAK61B,QAAQmH,UAAUh9B,KAAKg9B,WAAW2B,cAAc,CAACX,WAAW,CAACj1B,IAAI,gBAAgB3B,KAAK,eAAevF,MAAM,uBAAuB+8B,WAAWlL,EAAEmL,WAAWnL,EAAEoL,OAAO/K,EAAE,GAAGL,EAAE,CAACoI,SAAS97B,KAAK87B,WAAWiD,OAAOhL,EAAE,GAAGL,EAAE,CAACoI,SAAS97B,KAAK87B,aAAakD,gBAAgB,WAAW,OAAOjL,EAAE,GAAGE,EAAE,GAAGj0B,KAAKuC,aAAa08B,aAAa,WAAW,MAAM,CAAC,WAAWj/B,KAAKm+B,aAAa,cAAcn+B,KAAK24B,SAAS,gBAAgB34B,KAAKg9B,YAAYh9B,KAAKu6B,OAAO,iBAAiBv6B,KAAK04B,aAAa14B,KAAKu6B,OAAO,oBAAoBv6B,KAAK04B,WAAW,cAAc14B,KAAK81B,eAAe,eAAe91B,KAAKa,WAAWm8B,UAAU,WAAW,QAAQh9B,KAAK+1B,QAAQoI,aAAa,WAAW,OAAOn+B,KAAKu6B,QAASv6B,KAAK86B,OAAO96B,KAAK81B,gBAAiBmI,kBAAkB,WAAW,GAAGj+B,KAAKk/B,cAAcl/B,KAAK44B,YAAY,OAAO54B,KAAK44B,aAAarD,gBAAgB,WAAW,IAAI9B,EAAE,GAAG9sB,OAAO3G,KAAKk6B,YAAY,IAAIl6B,KAAK65B,aAAa75B,KAAK05B,SAAS,OAAOjG,EAAE,IAAIC,EAAE1zB,KAAK+1B,OAAOx1B,OAAOP,KAAKqD,OAAOowB,EAAEzzB,KAAK+1B,OAAO/1B,MAAMyzB,EAAE,GAAGzzB,KAAK05B,UAAU15B,KAAK+1B,OAAOx1B,OAAO,CAAC,IAAIqzB,EAAE5zB,KAAKi6B,aAAaj6B,KAAK+1B,QAAQ/1B,KAAK27B,aAAa/H,IAAIF,EAAEyL,QAAQvL,GAAG,OAAOF,GAAGwL,aAAa,WAAW,OAAO,IAAIl/B,KAAKi7B,cAAc16B,QAAQ6+B,gBAAgB,WAAW,OAAOp/B,KAAK24B,UAAU34B,KAAKy4B,YAAYz4B,KAAK86B,OAAO96B,KAAKk/B,gBAAgBG,GAAGzL,EAAE,GAAGhtB,EAAE2xB,GAAE,WAAY,IAAI9E,EAAEzzB,KAAK0zB,EAAED,EAAEnyB,eAAesyB,EAAEH,EAAEjyB,MAAMD,IAAImyB,EAAE,OAAOE,EAAE,MAAM,CAACnyB,YAAY,WAAWI,MAAM4xB,EAAEwL,aAAav9B,MAAM,CAAC+4B,IAAIhH,EAAEgH,MAAM,CAAChH,EAAE6L,GAAG,SAAS,KAAK,KAAK7L,EAAEsK,MAAMe,QAAQrL,EAAE8L,GAAG,KAAK3L,EAAE,MAAM,CAAC7qB,IAAI,SAAStH,YAAY,sBAAsBC,MAAM,CAAC8C,GAAG,KAAKivB,EAAEoH,IAAI,aAAazzB,KAAK,WAAW,gBAAgBqsB,EAAE0K,aAAatJ,WAAW,YAAY,KAAKpB,EAAEoH,IAAI,YAAY,aAAa,qBAAqB34B,GAAG,CAAC66B,UAAU,SAASrJ,GAAG,OAAOD,EAAEyI,eAAexI,MAAM,CAACE,EAAE,MAAM,CAAC7qB,IAAI,kBAAkBtH,YAAY,wBAAwB,CAACgyB,EAAE+L,GAAG/L,EAAEwH,eAAc,SAAUvH,GAAG,OAAOD,EAAE6L,GAAG,4BAA4B,CAAC1L,EAAE,OAAO,CAACvzB,IAAIozB,EAAE6F,aAAa5F,GAAGjyB,YAAY,gBAAgB,CAACgyB,EAAE6L,GAAG,kBAAkB,CAAC7L,EAAE8L,GAAG,iBAAiB9L,EAAE1xB,GAAG0xB,EAAE0F,eAAezF,IAAI,iBAAiB,KAAKD,EAAEmJ,uBAAuBlJ,IAAID,EAAE8L,GAAG,KAAK9L,EAAEkF,SAAS/E,EAAE,SAAS,CAAC7qB,IAAI,kBAAkB02B,UAAS,EAAGh+B,YAAY,eAAeC,MAAM,CAACb,SAAS4yB,EAAE5yB,SAAS4B,KAAK,SAAST,MAAM,YAAYyxB,EAAE0F,eAAezF,GAAG,aAAa,YAAYD,EAAE0F,eAAezF,IAAIxxB,GAAG,CAACw9B,MAAM,SAAS9L,GAAG,OAAOH,EAAEqI,SAASpI,MAAM,CAACE,EAAEH,EAAEuL,gBAAgBlI,SAAS,CAAC6I,IAAI,eAAe,GAAGlM,EAAExxB,MAAM,IAAI,CAAC7B,OAAOqzB,EAAEmJ,uBAAuBlJ,GAAGoI,SAASrI,EAAEqI,SAASnD,SAASlF,EAAEkF,SAAS93B,SAAS4yB,EAAE5yB,cAAc4yB,EAAE8L,GAAG,KAAK9L,EAAE6L,GAAG,SAAS,CAAC1L,EAAE,QAAQH,EAAEmM,GAAGnM,EAAExgB,GAAG,CAACxR,YAAY,cAAc,QAAQgyB,EAAEsK,MAAMhI,OAAOiI,YAAW,GAAIvK,EAAEsK,MAAMhI,OAAOqI,UAAU,KAAK3K,EAAEsK,MAAMhI,SAAS,GAAGtC,EAAE8L,GAAG,KAAK3L,EAAE,MAAM,CAAC7qB,IAAI,UAAUtH,YAAY,eAAe,CAACmyB,EAAE,SAAS,CAAC4E,WAAW,CAAC,CAACt3B,KAAK,OAAO2+B,QAAQ,SAASp/B,MAAMgzB,EAAE2L,gBAAgBU,WAAW,oBAAoB/2B,IAAI,cAActH,YAAY,YAAYC,MAAM,CAACb,SAAS4yB,EAAE5yB,SAAS4B,KAAK,SAAST,MAAM,iBAAiB,aAAa,kBAAkBE,GAAG,CAACw9B,MAAMjM,EAAEyH,iBAAiB,CAACtH,EAAEH,EAAEuL,gBAAgBlI,SAAS,CAAC6I,IAAI,eAAe,GAAGlM,EAAE8L,GAAG,KAAK9L,EAAE6L,GAAG,iBAAiB,CAAC7L,EAAE8G,OAAO9G,EAAExxB,KAAK2xB,EAAEH,EAAEuL,gBAAgBhI,cAAcvD,EAAExgB,GAAG,CAAC0sB,IAAI,aAAa,YAAYlM,EAAEsK,MAAMY,cAAcX,YAAW,KAAM,KAAKvK,EAAEsK,MAAMY,eAAelL,EAAE8L,GAAG,KAAK9L,EAAE6L,GAAG,UAAU,CAAC1L,EAAE,MAAM,CAAC4E,WAAW,CAAC,CAACt3B,KAAK,OAAO2+B,QAAQ,SAASp/B,MAAMgzB,EAAEqC,eAAegK,WAAW,mBAAmBr+B,YAAY,eAAe,CAACgyB,EAAE8L,GAAG,iBAAiB,KAAK9L,EAAEsK,MAAMU,UAAU,KAAKhL,EAAE8L,GAAG,KAAK3L,EAAE,aAAa,CAAClyB,MAAM,CAACR,KAAKuyB,EAAEoF,aAAa,CAACpF,EAAE0K,aAAavK,EAAE,KAAK,CAAC4E,WAAW,CAAC,CAACt3B,KAAK,iBAAiB2+B,QAAQ,qBAAqBx/B,IAAI,KAAKozB,EAAEoH,IAAI,YAAY9xB,IAAI,eAAetH,YAAY,oBAAoBC,MAAM,CAAC8C,GAAG,KAAKivB,EAAEoH,IAAI,YAAYzzB,KAAK,UAAUC,SAAS,MAAMnF,GAAG,CAAC66B,UAAU,SAASrJ,GAAG,OAAOA,EAAEyI,iBAAiB1I,EAAEyJ,YAAYxJ,IAAIqM,QAAQtM,EAAE0J,YAAY,CAAC1J,EAAE6L,GAAG,cAAc,KAAK,KAAK7L,EAAEsK,MAAMa,YAAYnL,EAAE8L,GAAG,KAAK9L,EAAE+L,GAAG/L,EAAE8B,iBAAgB,SAAU7B,EAAEG,GAAG,OAAOD,EAAE,KAAK,CAACvzB,IAAIozB,EAAE6F,aAAa5F,GAAGjyB,YAAY,sBAAsBI,MAAM,CAAC,gCAAgC4xB,EAAEiI,iBAAiBhI,GAAG,iCAAiCG,IAAIJ,EAAEuB,iBAAiB,iCAAiCvB,EAAE+B,WAAW9B,IAAIhyB,MAAM,CAAC0F,KAAK,SAAS5C,GAAG,KAAKivB,EAAEoH,IAAI,YAAYhH,EAAE,gBAAgBA,IAAIJ,EAAEuB,kBAAkB,MAAM9yB,GAAG,CAAC89B,UAAU,SAASpM,GAAGH,EAAE+B,WAAW9B,KAAKD,EAAEuB,iBAAiBnB,IAAIkJ,UAAU,SAASnJ,GAAGA,EAAEuI,iBAAiBvI,EAAEqM,kBAAkBxM,EAAE+B,WAAW9B,IAAID,EAAEmC,OAAOlC,MAAM,CAACD,EAAE6L,GAAG,SAAS,CAAC7L,EAAE8L,GAAG,eAAe9L,EAAE1xB,GAAG0xB,EAAE0F,eAAezF,IAAI,eAAe,KAAKD,EAAEmJ,uBAAuBlJ,KAAK,MAAMD,EAAE8L,GAAG,KAAK,IAAI9L,EAAE8B,gBAAgBh1B,OAAOqzB,EAAE,KAAK,CAACnyB,YAAY,kBAAkB,CAACgyB,EAAE6L,GAAG,aAAa,CAAC7L,EAAE8L,GAAG,gCAAgC,KAAK9L,EAAEsK,MAAMW,YAAY,GAAGjL,EAAExxB,KAAKwxB,EAAE8L,GAAG,KAAK9L,EAAE6L,GAAG,cAAc,KAAK,KAAK7L,EAAEsK,MAAMc,aAAa,GAAGjL,EAAE,KAAK,CAACsM,YAAY,CAAC5zB,QAAQ,OAAO6C,WAAW,UAAUzN,MAAM,CAAC8C,GAAG,KAAKivB,EAAEoH,IAAI,YAAYzzB,KAAK,eAAeqsB,EAAE8L,GAAG,KAAK9L,EAAE6L,GAAG,SAAS,KAAK,KAAK7L,EAAEsK,MAAMgB,SAAS,KAAK,IAAG,EAAG,KAAK,KAAK,MAAMl8B,SAASs9B,EAAE,CAACC,KAAK3L,EAAE4L,QAAQ/K,EAAEgL,cAActM,GAAGJ,EAAEK,EAAEP,EAAE,aAAY,WAAY,OAAO2L,KAAKzL,EAAEK,EAAEP,EAAE,UAAS,WAAY,OAAOyM,KAAKzM,EAAEhxB,QAAQ28B,S,2CCA1/nB,MAAMkB,EAAQ,CACjB,WACA,UACA,cACA,YACA,YACA,gBACA,SACA,gBACA,UACA,gBACA,eACA,yBAES,EAAW,CACpBC,SAAU,GACVC,YAAY,EACZC,qBAAqB,EACrBC,UAAW,SACXC,UAAU,EACVC,cAAe,qBACfC,QAA2B,kBAAXzJ,SACoC,IAAhDA,OAAO0J,UAAUlP,UAAUmI,QAAQ,QACvCgH,eAAgB,SAChBC,qBAAqB,EACrBC,YAAY,EACZnI,eAAe,EACfoI,YAAa,KACbC,WAAY,QACZC,YAAa,GACbC,cAAe,EACfC,eAAgB,EAChBC,QAAS,GACTC,eAAe,EACfC,eAAe,EACfC,YAAY,EACZC,aAAeC,GAA2B,qBAAZzI,SAA2BA,QAAQC,KAAKwI,GACtEC,QAAUC,IACN,MAAM32B,EAAO,IAAIklB,KAAKyR,EAAUC,WAChC52B,EAAK62B,SAAS,EAAG,EAAG,EAAG,GACvB72B,EAAK82B,QAAQ92B,EAAK+2B,UAAY,GAAM/2B,EAAKg3B,SAAW,GAAK,GACzD,IAAIC,EAAQ,IAAI/R,KAAKllB,EAAKk3B,cAAe,EAAG,GAC5C,OAAQ,EACJlpB,KAAKC,QAAQjO,EAAK42B,UAAYK,EAAML,WAAa,MAC7C,GACEK,EAAMD,SAAW,GAAK,GACxB,IAEZG,cAAe,EACfC,qBAAsB,GACtBn8B,QAAQ,EACRo8B,OAAQ,UACRC,gBAAiB,EACjBC,KAAM,SACNC,kBAAmB,WACnBC,UAAW,yOACXC,YAAY,EACZC,IAAK,IAAIzS,KACT0S,SAAU,GACVC,QAAS,GACTC,YAAa,GACbC,UAAW,GACXC,UAAW,GACXC,cAAe,GACfC,OAAQ,GACRC,cAAe,GACfC,QAAS,GACTC,cAAe,GACfC,aAAc,GACdC,sBAAuB,GACvBC,QAAS,GACTC,SAAU,OACVC,qBAAiBtjC,EACjBujC,UAAW,uOACXC,uBAAuB,EACvBC,WAAY,EACZC,QAAQ,EACRC,WAAW,EACXplB,aAAa,EACbiT,MAAM,GC/EGoS,EAAU,CACnBC,SAAU,CACNC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtDC,SAAU,CACN,SACA,SACA,UACA,YACA,WACA,SACA,aAGR9jB,OAAQ,CACJ6jB,UAAW,CACP,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJC,SAAU,CACN,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,aAGRC,YAAa,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC1DC,eAAgB,EAChBC,QAAUC,IACN,MAAMjQ,EAAIiQ,EAAM,IAChB,GAAIjQ,EAAI,GAAKA,EAAI,GACb,MAAO,KACX,OAAQA,EAAI,IACR,KAAK,EACD,MAAO,KACX,KAAK,EACD,MAAO,KACX,KAAK,EACD,MAAO,KACX,QACI,MAAO,OAGnBkQ,eAAgB,OAChBC,iBAAkB,KAClBC,YAAa,sBACbC,YAAa,kBACbC,KAAM,CAAC,KAAM,MACbC,cAAe,OACfC,eAAgB,QAChBC,cAAe,OACfC,gBAAiB,SACjBjB,WAAW,GAEA,QCvER,MAAMkB,EAAM,CAACC,EAAQ/kC,EAAS,KAAM,MAAM+kC,GAASxT,OAAgB,EAAVvxB,GACnD,EAAOglC,IAAmB,IAATA,EAAgB,EAAI,EAC3C,SAASC,EAASC,EAAIC,GACzB,IAAIjS,EACJ,OAAO,WACHkS,aAAalS,GACbA,EAAIjB,WAAW,IAAMiT,EAAG/hC,MAAM1D,KAAMM,WAAYolC,IAGjD,MAAME,EAAYxhC,GAAQA,aAAeod,MAAQpd,EAAM,CAACA,GCTxD,SAASyhC,EAAYC,EAAM98B,EAAWu8B,GACzC,IAAa,IAATA,EACA,OAAOO,EAAKC,UAAU1W,IAAIrmB,GAC9B88B,EAAKC,UAAUC,OAAOh9B,GAEnB,SAASi9B,EAActG,EAAK32B,EAAWL,GAC1C,MAAM+qB,EAAI2D,OAAOO,SAASqO,cAActG,GAMxC,OALA32B,EAAYA,GAAa,GACzBL,EAAUA,GAAW,GACrB+qB,EAAE1qB,UAAYA,OACExI,IAAZmI,IACA+qB,EAAEwS,YAAcv9B,GACb+qB,EAEJ,SAASyS,EAAU9c,GACtB,MAAOA,EAAK+c,WACR/c,EAAK4O,YAAY5O,EAAK+c,YAEvB,SAASC,EAAWhd,EAAMid,GAC7B,OAAIA,EAAUjd,GACHA,EACFA,EAAK2O,WACHqO,EAAWhd,EAAK2O,WAAYsO,QADlC,EAIF,SAASC,EAAkBC,EAAgBC,GAC9C,MAAMC,EAAUT,EAAc,MAAO,mBAAoBU,EAAWV,EAAc,QAAS,YAAcO,GAAiBI,EAAUX,EAAc,OAAQ,WAAYY,EAAYZ,EAAc,OAAQ,aAQxM,IAPiD,IAA7ClF,UAAUlP,UAAUmI,QAAQ,YAC5B2M,EAASlkC,KAAO,UAGhBkkC,EAASlkC,KAAO,OAChBkkC,EAASG,QAAU,aAEVtmC,IAATimC,EACA,IAAK,MAAMpmC,KAAOomC,EACdE,EAASI,aAAa1mC,EAAKomC,EAAKpmC,IAIxC,OAHAqmC,EAAQ5O,YAAY6O,GACpBD,EAAQ5O,YAAY8O,GACpBF,EAAQ5O,YAAY+O,GACbH,EAEJ,SAASM,EAAerhC,GAC3B,IACI,GAAkC,oBAAvBA,EAAMshC,aAA6B,CAC1C,MAAMC,EAAOvhC,EAAMshC,eACnB,OAAOC,EAAK,GAEhB,OAAOvhC,EAAM/B,OAEjB,MAAOujC,GACH,OAAOxhC,EAAM/B,QClDrB,MAAMwjC,EAAY,OACLC,EAAa,CAACC,EAAahD,EAAW7B,IAAWA,EAAOhiB,OAAO6jB,EAAY,YAAc,YAAYgD,GACrGC,EAAY,CACrBC,EAAGJ,EACHK,EAAG,SAAUC,EAASC,EAAWlF,GAC7BiF,EAAQE,SAASnF,EAAOhiB,OAAO8jB,SAASvK,QAAQ2N,KAEpDE,EAAG,CAACH,EAASz7B,KACTy7B,EAAQzF,SAAS6F,WAAW77B,KAEhC87B,EAAG,CAACL,EAASz7B,KACTy7B,EAAQzF,SAAS6F,WAAW77B,KAEhC+7B,EAAG,CAACN,EAASO,KACTP,EAAQxF,QAAQ4F,WAAWG,KAE/BC,EAAG,CAACR,EAAS1C,EAAMvC,KACfiF,EAAQzF,SAAUyF,EAAQS,WAAa,GACnC,GAAK,EAAI,IAAIC,OAAO3F,EAAOuC,KAAK,GAAI,KAAK9lB,KAAK8lB,MAEtDqD,EAAG,SAAUX,EAASY,EAAY7F,GAC9BiF,EAAQE,SAASnF,EAAOhiB,OAAO6jB,UAAUtK,QAAQsO,KAErDC,EAAG,CAACb,EAASxX,KACTwX,EAAQc,WAAWV,WAAW5X,KAElCuY,EAAG,CAAClQ,EAAGmQ,IAAgB,IAAIpY,KAA+B,IAA1BwX,WAAWY,IAC3CC,EAAG,SAAUjB,EAASkB,EAASnG,GAC3B,MAAMoG,EAAaC,SAASF,GACtBx9B,EAAO,IAAIklB,KAAKoX,EAAQpF,cAAe,EAAG,EAAuB,GAAlBuG,EAAa,GAAQ,EAAG,EAAG,EAAG,GAEnF,OADAz9B,EAAK82B,QAAQ92B,EAAK+2B,UAAY/2B,EAAKg3B,SAAWK,EAAOgC,gBAC9Cr5B,GAEX29B,EAAG,CAACrB,EAASsB,KACTtB,EAAQuB,YAAYnB,WAAWkB,KAEnCE,EAAG,CAAC3Q,EAAG4Q,IAAY,IAAI7Y,KAAK6Y,GAC5BlV,EAAG,CAACyT,EAASO,KACTP,EAAQxF,QAAQ4F,WAAWG,KAE/BrhC,EAAG,CAAC8gC,EAASz7B,KACTy7B,EAAQzF,SAAS6F,WAAW77B,KAEhCpI,EAAG,CAAC6jC,EAASzX,KACTyX,EAAQ0B,WAAWtB,WAAW7X,KAElCoZ,EAAG,CAAC3B,EAASO,KACTP,EAAQxF,QAAQ4F,WAAWG,KAE/BnU,EAAGsT,EACHrT,EAAG,CAAC2T,EAAS4B,KACT5B,EAAQE,SAASE,WAAWwB,GAAS,IAEzC1V,EAAG,CAAC8T,EAAS4B,KACT5B,EAAQE,SAASE,WAAWwB,GAAS,IAEzC5U,EAAG,CAACgT,EAASxX,KACTwX,EAAQc,WAAWV,WAAW5X,KAElCoF,EAAG,CAACiD,EAAGgR,IAAoB,IAAIjZ,KAAKwX,WAAWyB,IAC/CpJ,EAAGiH,EACHlP,EAAG,CAACwP,EAASsB,KACTtB,EAAQuB,YAAY,IAAOnB,WAAWkB,MAGjCQ,EAAa,CACtBhC,EAAG,SACHC,EAAG,SACHI,EAAG,eACHE,EAAG,eACHC,EAAG,mBACHE,EAAG,GACHG,EAAG,SACHE,EAAG,eACHE,EAAG,OACHE,EAAG,eACHI,EAAG,WACHG,EAAG,OACHjV,EAAG,eACHrtB,EAAG,eACH/C,EAAG,eACHwlC,EAAG,eACHvV,EAAG,SACHC,EAAG,eACHH,EAAG,eACHc,EAAG,eACHY,EAAG,OACH6K,EAAG,eACHjI,EAAG,YAEM,EAAU,CACnBgR,EAAI99B,GAASA,EAAK6Q,cAClBurB,EAAG,SAAUp8B,EAAMq3B,EAAQhjC,GACvB,OAAOgjC,EAAO4B,SAASC,UAAU,EAAQnE,EAAE/0B,EAAMq3B,EAAQhjC,KAE7DgoC,EAAG,SAAUr8B,EAAMq3B,EAAQhjC,GACvB,OAAO4nC,EAAW,EAAQzT,EAAExoB,EAAMq3B,EAAQhjC,GAAW,GAAG,EAAOgjC,IAEnEoF,EAAG,SAAUz8B,EAAMq3B,EAAQhjC,GACvB,OAAO4lC,EAAI,EAAQz+B,EAAEwE,EAAMq3B,EAAQhjC,KAEvCsoC,EAAI38B,GAASi6B,EAAIj6B,EAAK+8B,YACtBH,EAAG,SAAU58B,EAAMq3B,GACf,YAA0BjiC,IAAnBiiC,EAAOiC,QACRt5B,EAAK+2B,UAAYM,EAAOiC,QAAQt5B,EAAK+2B,WACrC/2B,EAAK+2B,WAEf+F,EAAG,CAAC98B,EAAMq3B,IAAWA,EAAOuC,KAAK,EAAI55B,EAAK+8B,WAAa,KACvDE,EAAG,SAAUj9B,EAAMq3B,GACf,OAAO4E,EAAWj8B,EAAKq+B,YAAY,EAAMhH,IAE7C8F,EAAIn9B,GAASi6B,EAAIj6B,EAAKs+B,cACtBjB,EAAIr9B,GAASA,EAAK42B,UAAY,IAC9B2G,EAAG,SAAUv9B,EAAMmtB,EAAG94B,GAClB,OAAOA,EAAQqiC,QAAQ12B,IAE3B29B,EAAI39B,GAASi6B,EAAIj6B,EAAKk3B,cAAe,GACrCrO,EAAI7oB,GAASi6B,EAAIj6B,EAAK+2B,WACtBv7B,EAAIwE,GAAUA,EAAK+8B,WAAa,GAAK/8B,EAAK+8B,WAAa,GAAK,GAC5DtkC,EAAIuH,GAASi6B,EAAIj6B,EAAKu+B,cACtBN,EAAIj+B,GAASA,EAAK+2B,UAClBrO,EAAG,SAAU1oB,EAAMq3B,GACf,OAAOA,EAAO4B,SAASE,SAASn5B,EAAKg3B,WAEzCrO,EAAI3oB,GAASi6B,EAAIj6B,EAAKq+B,WAAa,GACnC7V,EAAIxoB,GAASA,EAAKq+B,WAAa,EAC/B/U,EAAItpB,GAASA,EAAKs+B,aAClBpU,EAAIlqB,GAASA,EAAK42B,UAClB7B,EAAI/0B,GAASA,EAAKg3B,SAClBlK,EAAI9sB,GAASzK,OAAOyK,EAAKk3B,eAAesH,UAAU,IC/HzCC,EAAsB,EAAGC,SAAS,EAAUC,OAAO3F,EAAS4F,YAAW,KAAa,CAACtC,EAASuC,EAAMC,KAC7G,MAAMzH,EAASyH,GAAkBH,EACjC,YAA0BvpC,IAAtBspC,EAAOK,YAA6BH,EAGjCC,EACF1wB,MAAM,IACNvY,IAAI,CAACgzB,EAAGnwB,EAAGumC,IAAQ,EAAQpW,IAAqB,OAAfoW,EAAIvmC,EAAI,GACxC,EAAQmwB,GAAG0T,EAASjF,EAAQqH,GACtB,OAAN9V,EACIA,EACA,IACL/qB,KAAK,IATC6gC,EAAOK,WAAWzC,EAASuC,EAAMxH,IAWnC4H,EAAmB,EAAGP,SAAS,EAAUC,OAAO3F,KAAc,CAACh5B,EAAMk/B,EAAaC,EAAUC,KACrG,GAAa,IAATp/B,IAAeA,EACf,OACJ,MAAMq3B,EAAS+H,GAAgBT,EAC/B,IAAIU,EACJ,MAAMC,EAAWt/B,EACjB,GAAIA,aAAgBklB,KAChBma,EAAa,IAAIna,KAAKllB,EAAK42B,gBAC1B,GAAoB,kBAAT52B,QACK5K,IAAjB4K,EAAKu/B,QACLF,EAAa,IAAIna,KAAKllB,QACrB,GAAoB,kBAATA,EAAmB,CAC/B,MAAM0W,EAASwoB,IAAgBR,GAAU,GAAU1I,WAC7CwJ,EAAUjqC,OAAOyK,GAAMy/B,OAC7B,GAAgB,UAAZD,EACAH,EAAa,IAAIna,KACjBia,GAAW,OAEV,GAAI,KAAKrrB,KAAK0rB,IACf,OAAO1rB,KAAK0rB,GACZH,EAAa,IAAIna,KAAKllB,QACrB,GAAI0+B,GAAUA,EAAOgB,UACtBL,EAAaX,EAAOgB,UAAU1/B,EAAM0W,OACnC,CACD2oB,EACKX,GAAWA,EAAOhH,WAEb,IAAIxS,MAAK,IAAIA,MAAO2R,SAAS,EAAG,EAAG,EAAG,IADtC,IAAI3R,MAAK,IAAIA,MAAOgS,cAAe,EAAG,EAAG,EAAG,EAAG,EAAG,GAE5D,IAAIyI,EAASC,EAAM,GACnB,IAAK,IAAInnC,EAAI,EAAGonC,EAAa,EAAGC,EAAW,GAAIrnC,EAAIie,EAAOvhB,OAAQsD,IAAK,CACnE,MAAMsnC,EAAQrpB,EAAOje,GACfunC,EAAwB,OAAVD,EACdE,EAA4B,OAAlBvpB,EAAOje,EAAI,IAAeunC,EAC1C,GAAI5B,EAAW2B,KAAWE,EAAS,CAC/BH,GAAY1B,EAAW2B,GACvB,MAAMG,EAAQ,IAAIlD,OAAO8C,GAAUK,KAAKngC,GACpCkgC,IAAUP,GAAU,IACpBC,EAAc,MAAVG,EAAgB,OAAS,WAAW,CACpC1F,GAAI8B,EAAU4D,GACdK,IAAKF,IAAQL,UAIfG,IACNF,GAAY,KAChBF,EAAIjnC,QAAQ,EAAG0hC,KAAI+F,SAAWf,EAAahF,EAAGgF,EAAYe,EAAK/I,IAAWgI,GAE9EA,EAAaM,EAAUN,OAAajqC,GAG5C,GAAMiqC,aAAsBna,OAASmb,MAAMhB,EAAWzI,WAMtD,OAFiB,IAAbuI,GACAE,EAAWxI,SAAS,EAAG,EAAG,EAAG,GAC1BwI,EALHX,EAAOlI,aAAa,IAAIh4B,MAAM,0BAA0B8gC,KAOzD,SAASgB,EAAaC,EAAOC,EAAOrB,GAAW,GAClD,OAAiB,IAAbA,EACQ,IAAIja,KAAKqb,EAAM3J,WAAWC,SAAS,EAAG,EAAG,EAAG,GAChD,IAAI3R,KAAKsb,EAAM5J,WAAWC,SAAS,EAAG,EAAG,EAAG,GAE7C0J,EAAM3J,UAAY4J,EAAM5J,UAQ5B,MAAM6J,EAAY,CAACC,EAAIC,EAAKC,IACxBF,EAAK1yB,KAAKwM,IAAImmB,EAAKC,IAAQF,EAAK1yB,KAAKI,IAAIuyB,EAAKC,GAE5C5rB,EAAW,CACpB6rB,IAAK,OAEF,SAASC,EAAgBpC,GAC5B,IAAI9Z,EAAQ8Z,EAAOzI,YACfpR,EAAU6Z,EAAOxI,cACjBpR,EAAU4Z,EAAOvI,eACrB,QAAuB/gC,IAAnBspC,EAAOqC,QAAuB,CAC9B,MAAMC,EAAUtC,EAAOqC,QAAQhE,WACzBkE,EAAavC,EAAOqC,QAAQxC,aAC5B2C,EAAaxC,EAAOqC,QAAQzC,aAC9B1Z,EAAQoc,IACRpc,EAAQoc,GAERpc,IAAUoc,GAAWnc,EAAUoc,IAC/Bpc,EAAUoc,GAEVrc,IAAUoc,GAAWnc,IAAYoc,GAAcnc,EAAUoc,IACzDpc,EAAU4Z,EAAOqC,QAAQzC,cAEjC,QAAuBlpC,IAAnBspC,EAAOyC,QAAuB,CAC9B,MAAMC,EAAQ1C,EAAOyC,QAAQpE,WACvBsE,EAAa3C,EAAOyC,QAAQ5C,aAClC3Z,EAAQ5W,KAAKwM,IAAIoK,EAAOwc,GACpBxc,IAAUwc,IACVvc,EAAU7W,KAAKwM,IAAI6mB,EAAYxc,IAC/BD,IAAUwc,GAASvc,IAAYwc,IAC/Bvc,EAAU4Z,EAAOyC,QAAQ7C,cAEjC,MAAO,CAAE1Z,QAAOC,UAASC,W,UCjH7B,MAAMwc,EAAsB,IAC5B,SAASC,EAAkBC,EAASC,GAChC,MAAMlZ,EAAO,CACTmW,OAAQ5mC,OAAO4pC,OAAO5pC,OAAO4pC,OAAO,GAAI,GAAiBC,EAAUC,eACnEjD,KAAM,GAsBV,SAASkD,IACLtZ,EAAKuZ,MAAQ,CACT,eAAe5D,EAAQ3V,EAAKwZ,aAAcC,EAAKzZ,EAAK0Z,aAChD,OAAc,IAAV/D,IAAiB8D,EAAK,IAAM,GAAKA,EAAK,MAAQ,GAAMA,EAAK,MAAQ,GAC1D,GACJzZ,EAAKoW,KAAKvF,YAAY8E,KAIzC,SAASgE,IACL3Z,EAAKiZ,QAAUjZ,EAAK6K,MAAQoO,EAC5BjZ,EAAK4Z,QAAS,EACdC,KACAC,KACAC,KACAC,KACAV,IACKtZ,EAAKqW,UACN4D,IACJC,KACIla,EAAKma,cAAcvtC,QAAUozB,EAAKmW,OAAOhH,cACrCnP,EAAKmW,OAAOnI,YACZoM,EAAiBpa,EAAKmW,OAAOhH,WAAanP,EAAKqa,2BAAwBxtC,GAE3Eo7B,IAAY,IAEhBqS,IACA,MAAMC,EAAW,iCAAiChvB,KAAK6hB,UAAUlP,YAC5D8B,EAAKqW,UAAYkE,GAClBC,KAEJC,GAAa,WAEjB,SAASC,EAAe5I,GACpB,OAAOA,EAAGnT,KAAKqB,GAEnB,SAASsa,IACL,MAAMnE,EAASnW,EAAKmW,QACO,IAAvBA,EAAO/qB,aAA+C,IAAtB+qB,EAAO7F,aAGZ,IAAtB6F,EAAOhH,YACZzL,OAAOiX,uBAAsB,WAKzB,QAJ+B9tC,IAA3BmzB,EAAK4a,oBACL5a,EAAK4a,kBAAkBxgC,MAAMoB,WAAa,SAC1CwkB,EAAK4a,kBAAkBxgC,MAAMzB,QAAU,cAEhB9L,IAAvBmzB,EAAK6a,cAA6B,CAClC,MAAMC,GAAa9a,EAAKtT,KAAKquB,YAAc,GAAK5E,EAAO7F,WACvDtQ,EAAK6a,cAAczgC,MAAM4N,MAAQ8yB,EAAY,KAC7C9a,EAAK4a,kBAAkBxgC,MAAM4N,MACzB8yB,QAC0BjuC,IAArBmzB,EAAKgb,YACAhb,EAAKgb,YAAYD,YACjB,GACN,KACR/a,EAAK4a,kBAAkBxgC,MAAM6gC,eAAe,cAC5Cjb,EAAK4a,kBAAkBxgC,MAAM6gC,eAAe,eAK5D,SAASC,EAAWnb,GAChB,GAAkC,IAA9BC,EAAKma,cAAcvtC,OAAc,CACjC,MAAMuuC,OAAsCtuC,IAAxBmzB,EAAKmW,OAAOqC,SAC5BT,EAAa,IAAIpb,KAAQqD,EAAKmW,OAAOqC,UAAY,EAC/C,IAAI7b,KACJ,IAAIA,KAAKqD,EAAKmW,OAAOqC,QAAQnK,WAC7B+M,EAAW7C,EAAgBvY,EAAKmW,QACtCgF,EAAY7M,SAAS8M,EAAS/e,MAAO+e,EAAS9e,QAAS8e,EAAS7e,QAAS4e,EAAYE,mBACrFrb,EAAKma,cAAgB,CAACgB,GACtBnb,EAAKqa,sBAAwBc,OAEvBtuC,IAANkzB,GAA8B,SAAXA,EAAEjxB,MACrBwsC,GAAYvb,GAEhB,MAAMwb,EAAYvb,EAAKwb,OAAO1uC,MAC9B2uC,IACAxT,KACIjI,EAAKwb,OAAO1uC,QAAUyuC,GACtBvb,EAAK0b,mBAGb,SAASC,EAAcrjC,EAAM+4B,GACzB,OAAQ/4B,EAAO,GAAM,GAAK,EAAI+4B,IAASrR,EAAKoW,KAAK/E,KAAK,IAE1D,SAASuK,EAActjC,GACnB,OAAQA,EAAO,IACX,KAAK,EACL,KAAK,GACD,OAAO,GACX,QACI,OAAOA,EAAO,IAG1B,SAASmjC,IACL,QAAyB5uC,IAArBmzB,EAAK6b,kBAAoDhvC,IAAvBmzB,EAAK8b,cACvC,OACJ,IAAIzf,GAAS8Y,SAASnV,EAAK6b,YAAY/uC,MAAMqxB,OAAO,GAAI,KAAO,GAAK,GAAI7B,GAAW6Y,SAASnV,EAAK8b,cAAchvC,MAAO,KAAO,GAAK,GAAIyvB,OAAiC1vB,IAAvBmzB,EAAK+b,eAC9I5G,SAASnV,EAAK+b,cAAcjvC,MAAO,KAAO,GAAK,GAChD,OACYD,IAAdmzB,EAAKqR,OACLhV,EAAQsf,EAActf,EAAO2D,EAAKqR,KAAKkB,cAE3C,MAAMyJ,OAAwCnvC,IAAxBmzB,EAAKmW,OAAO8F,SAC7Bjc,EAAKmW,OAAOqC,SACTxY,EAAKkc,gBACLlc,EAAKqa,uBAED,IADJtC,EAAa/X,EAAKqa,sBAAuBra,EAAKmW,OAAOqC,SAAS,GAEhE2D,OAAwCtvC,IAAxBmzB,EAAKmW,OAAOiG,SAC7Bpc,EAAKmW,OAAOyC,SACT5Y,EAAKqc,gBACLrc,EAAKqa,uBAED,IADJtC,EAAa/X,EAAKqa,sBAAuBra,EAAKmW,OAAOyC,SAAS,GAEtE,GAAIuD,EAAe,CACf,MAAMC,OAAkCvvC,IAAxBmzB,EAAKmW,OAAOiG,QACtBpc,EAAKmW,OAAOiG,QACZpc,EAAKmW,OAAOyC,QAClBvc,EAAQ5W,KAAKwM,IAAIoK,EAAO+f,EAAQ5H,YAC5BnY,IAAU+f,EAAQ5H,aAClBlY,EAAU7W,KAAKwM,IAAIqK,EAAS8f,EAAQpG,eACpC1Z,IAAY8f,EAAQpG,eACpBzZ,EAAU9W,KAAKwM,IAAIsK,EAAS6f,EAAQrG,eAE5C,GAAIiG,EAAe,CACf,MAAMC,OAAkCpvC,IAAxBmzB,EAAKmW,OAAO8F,QACtBjc,EAAKmW,OAAO8F,QACZjc,EAAKmW,OAAOqC,QAClBnc,EAAQ5W,KAAKI,IAAIwW,EAAO4f,EAAQzH,YAC5BnY,IAAU4f,EAAQzH,YAAclY,EAAU2f,EAAQjG,eAClD1Z,EAAU2f,EAAQjG,cAClB1Z,IAAY2f,EAAQjG,eACpBzZ,EAAU9W,KAAKI,IAAI0W,EAAS0f,EAAQlG,eAE5CzH,EAASjS,EAAOC,EAASC,GAE7B,SAAS6d,EAAiBrG,GACtB,MAAMt8B,EAAOs8B,GAAW/T,EAAKqa,sBACzB5iC,GACA62B,EAAS72B,EAAK+8B,WAAY/8B,EAAKu+B,aAAcv+B,EAAKs+B,cAG1D,SAASzH,EAASjS,EAAOC,EAASC,QACK1vB,IAA/BmzB,EAAKqa,uBACLra,EAAKqa,sBAAsB/L,SAASjS,EAAQ,GAAIC,EAASC,GAAW,EAAG,GAEtEyD,EAAK6b,aAAgB7b,EAAK8b,gBAAiB9b,EAAKqW,WAErDrW,EAAK6b,YAAY/uC,MAAQ4kC,EAAK1R,EAAKmW,OAAO3F,UAEpCnU,GADE,GAAKA,GAAS,GAAM,GAAK,EAAIA,EAAQ,KAAO,IAEpD2D,EAAK8b,cAAchvC,MAAQ4kC,EAAIpV,QACbzvB,IAAdmzB,EAAKqR,OACLrR,EAAKqR,KAAKkB,YAAcvS,EAAKoW,KAAK/E,KAAK,EAAIhV,GAAS,WAC7BxvB,IAAvBmzB,EAAK+b,gBACL/b,EAAK+b,cAAcjvC,MAAQ4kC,EAAInV,KAEvC,SAAS+f,EAAYtqC,GACjB,MAAMuqC,EAAclJ,EAAerhC,GAC7BqjC,EAAOF,SAASoH,EAAYzvC,QAAUkF,EAAMwqC,OAAS,IACvDnH,EAAO,IAAO,GACC,UAAdrjC,EAAMtF,MAAoB,QAAQ6e,KAAK8pB,EAAKnU,cAC7Cub,GAAWpH,GAGnB,SAAS1W,EAAKsa,EAASjnC,EAAOusB,EAASzyB,GACnC,OAAIkG,aAAiB6b,MACV7b,EAAM5B,QAASssC,GAAO/d,EAAKsa,EAASyD,EAAIne,EAASzyB,IACxDmtC,aAAmBprB,MACZorB,EAAQ7oC,QAASiM,GAAOsiB,EAAKtiB,EAAIrK,EAAOusB,EAASzyB,KAC5DmtC,EAAQ0D,iBAAiB3qC,EAAOusB,EAASzyB,QACzCk0B,EAAK4c,UAAU9sC,KAAK,CAChBuiC,OAAQ,IAAM4G,EAAQ4D,oBAAoB7qC,EAAOusB,MAGzD,SAASue,IACLrC,GAAa,YAEjB,SAASP,IAML,GALIla,EAAKmW,OAAO9X,MACZ,CAAC,OAAQ,QAAS,SAAU,SAASjuB,QAAS2sC,IAC1ClvB,MAAM3Z,UAAU9D,QAAQ2Q,KAAKif,EAAKiZ,QAAQ+D,iBAAiB,SAASD,MAAU1gC,GAAOsiB,EAAKtiB,EAAI,QAAS2jB,EAAK+c,OAGhH/c,EAAKqW,SAEL,YADA4G,KAGJ,MAAMC,EAAkBrL,EAASsL,GAAU,IAwB3C,GAvBAnd,EAAK0b,iBAAmB7J,EAASiL,EAAe/D,GAC5C/Y,EAAK6a,gBAAkB,oBAAoBtvB,KAAK6hB,UAAUlP,YAC1DS,EAAKqB,EAAK6a,cAAe,YAAc9a,IACV,UAArBC,EAAKmW,OAAOnH,MACZoO,GAAY/J,EAAetT,MAEvCpB,EAAK+E,OAAOO,SAASC,KAAM,UAAWuL,IACjCzP,EAAKmW,OAAOzjC,QAAWstB,EAAKmW,OAAO5F,QACpC5R,EAAK+E,OAAQ,SAAUwZ,QACCrwC,IAAxB62B,OAAO2Z,aACP1e,EAAK+E,OAAOO,SAAU,aAAcqZ,IAEpC3e,EAAK+E,OAAOO,SAAU,YAAaqZ,IACvC3e,EAAK+E,OAAOO,SAAU,QAASqZ,GAAe,CAAEC,SAAS,KAC1B,IAA3Bvd,EAAKmW,OAAO5I,aACZ5O,EAAKqB,EAAKwb,OAAQ,QAASxb,EAAKmH,MAChCxI,EAAKqB,EAAKwb,OAAQ,QAASxb,EAAKmH,YAETt6B,IAAvBmzB,EAAK6a,gBACLlc,EAAKqB,EAAKwd,SAAU,QAASC,IAC7B9e,EAAKqB,EAAKwd,SAAU,CAAC,QAAS,aAAclB,GAC5C3d,EAAKqB,EAAK6a,cAAe,QAAS6C,UAEX7wC,IAAvBmzB,EAAK2d,oBACkB9wC,IAAvBmzB,EAAK8b,oBACgBjvC,IAArBmzB,EAAK6b,YAA2B,CAChC,MAAM+B,EAAW7d,GAAMsT,EAAetT,GAAGkC,SACzCtD,EAAKqB,EAAK2d,cAAe,CAAC,aAAczC,GACxCvc,EAAKqB,EAAK2d,cAAe,OAAQzC,EAAY,CAAEqC,SAAS,IACxD5e,EAAKqB,EAAK2d,cAAe,QAASE,GAClClf,EAAK,CAACqB,EAAK6b,YAAa7b,EAAK8b,eAAgB,CAAC,QAAS,SAAU8B,QACtC/wC,IAAvBmzB,EAAK+b,eACLpd,EAAKqB,EAAK+b,cAAe,QAAS,IAAM/b,EAAK+b,eAAiB/b,EAAK+b,cAAc9Z,eACnEp1B,IAAdmzB,EAAKqR,MACL1S,EAAKqB,EAAKqR,KAAM,QAAUtR,IACtBmb,EAAWnb,GACX+c,MAIR9c,EAAKmW,OAAOrJ,YACZnO,EAAKqB,EAAKwb,OAAQ,OAAQsC,IAGlC,SAASC,EAAWC,EAAUlB,GAC1B,MAAMmB,OAAsBpxC,IAAbmxC,EACThe,EAAKmX,UAAU6G,GACfhe,EAAKqa,wBACFra,EAAKmW,OAAOqC,SAAWxY,EAAKmW,OAAOqC,QAAUxY,EAAKoP,IAC7CpP,EAAKmW,OAAOqC,QACZxY,EAAKmW,OAAOyC,SAAW5Y,EAAKmW,OAAOyC,QAAU5Y,EAAKoP,IAC9CpP,EAAKmW,OAAOyC,QACZ5Y,EAAKoP,KACjB8O,EAAUle,EAAK0Z,YACfyE,EAAWne,EAAKwZ,aACtB,SACmB3sC,IAAXoxC,IACAje,EAAK0Z,YAAcuE,EAAOtP,cAC1B3O,EAAKwZ,aAAeyE,EAAOnI,YAGnC,MAAO/V,GACHA,EAAEqe,QAAU,0BAA4BH,EACxCje,EAAKmW,OAAOlI,aAAalO,GAEzB+c,GAAiB9c,EAAK0Z,cAAgBwE,IACtCzD,GAAa,gBACb4D,MAEAvB,GACC9c,EAAK0Z,cAAgBwE,GAAWle,EAAKwZ,eAAiB2E,GACvD1D,GAAa,iBAEjBza,EAAKse,SAET,SAAST,EAAc9d,GACnB,MAAMwc,EAAclJ,EAAetT,IAC9Bwc,EAAYlnC,UAAUgxB,QAAQ,UAC/BkY,EAAkBxe,EAAGwc,EAAYnK,UAAUxJ,SAAS,WAAa,GAAK,GAE9E,SAAS2V,EAAkBxe,EAAGyc,EAAOgC,GACjC,MAAMvuC,EAAS8vB,GAAKsT,EAAetT,GAC7B8K,EAAQ2T,GACTvuC,GAAUA,EAAOo0B,YAAcp0B,EAAOo0B,WAAWoO,WAChDzgC,EAAQysC,GAAY,aAC1BzsC,EAAMwqC,MAAQA,EACd3R,GAASA,EAAM6T,cAAc1sC,GAEjC,SAASioC,IACL,MAAM0E,EAAWjb,OAAOO,SAAS2a,yBAGjC,GAFA5e,EAAK4a,kBAAoBtI,EAAc,MAAO,sBAC9CtS,EAAK4a,kBAAkBiE,UAAY,GAC9B7e,EAAKmW,OAAOhH,WAAY,CAGzB,GAFAwP,EAASxa,YAAY2a,MACrB9e,EAAK+e,eAAiBzM,EAAc,MAAO,4BACvCtS,EAAKmW,OAAO/qB,YAAa,CACzB,MAAM,YAAE4vB,EAAW,YAAE5vB,GAAgB4zB,KACrChf,EAAK+e,eAAe5a,YAAY6W,GAChChb,EAAK5U,YAAcA,EACnB4U,EAAKgb,YAAcA,EAEvBhb,EAAKif,WAAa3M,EAAc,MAAO,wBACvCtS,EAAKif,WAAW9a,YAAY+a,MACvBlf,EAAK6a,gBACN7a,EAAK6a,cAAgBvI,EAAc,MAAO,kBAC1CtS,EAAK6a,cAAcgE,UAAY,GAEnCM,IACAnf,EAAKif,WAAW9a,YAAYnE,EAAK6a,eACjC7a,EAAK+e,eAAe5a,YAAYnE,EAAKif,YACrCN,EAASxa,YAAYnE,EAAK+e,gBAE1B/e,EAAKmW,OAAOnI,YACZ2Q,EAASxa,YAAYib,MAEzBlN,EAAYlS,EAAK4a,kBAAmB,YAAkC,UAArB5a,EAAKmW,OAAOnH,MAC7DkD,EAAYlS,EAAK4a,kBAAmB,WAAmC,IAAxB5a,EAAKmW,OAAOhJ,SAC3D+E,EAAYlS,EAAK4a,kBAAmB,aAAc5a,EAAKmW,OAAO7F,WAAa,GAC3EtQ,EAAK4a,kBAAkBzW,YAAYwa,GACnC,MAAMU,OAAwCxyC,IAAzBmzB,EAAKmW,OAAOmJ,eACKzyC,IAAlCmzB,EAAKmW,OAAOmJ,SAASC,SACzB,IAAIvf,EAAKmW,OAAOzjC,QAAUstB,EAAKmW,OAAO5F,UAClCvQ,EAAK4a,kBAAkBxI,UAAU1W,IAAIsE,EAAKmW,OAAOzjC,OAAS,SAAW,UACjEstB,EAAKmW,OAAOzjC,UACP2sC,GAAgBrf,EAAKiZ,QAAQ5U,WAC9BrE,EAAKiZ,QAAQ5U,WAAWmb,aAAaxf,EAAK4a,kBAAmB5a,EAAKwb,OAAOiE,kBAC3C5yC,IAAzBmzB,EAAKmW,OAAOmJ,UACjBtf,EAAKmW,OAAOmJ,SAASnb,YAAYnE,EAAK4a,oBAE1C5a,EAAKmW,OAAO5F,QAAQ,CACpB,MAAMwC,EAAUT,EAAc,MAAO,qBACjCtS,EAAKiZ,QAAQ5U,YACbrE,EAAKiZ,QAAQ5U,WAAWmb,aAAazM,EAAS/S,EAAKiZ,SACvDlG,EAAQ5O,YAAYnE,EAAKiZ,SACrBjZ,EAAKiN,UACL8F,EAAQ5O,YAAYnE,EAAKiN,UAC7B8F,EAAQ5O,YAAYnE,EAAK4a,mBAG5B5a,EAAKmW,OAAO5F,QAAWvQ,EAAKmW,OAAOzjC,cACV7F,IAAzBmzB,EAAKmW,OAAOmJ,SACPtf,EAAKmW,OAAOmJ,SACZ5b,OAAOO,SAASC,MAAMC,YAAYnE,EAAK4a,mBAErD,SAAS8E,EAAUrqC,EAAWoC,EAAMkoC,EAAWzvC,GAC3C,MAAM0vC,EAAgBC,GAAUpoC,GAAM,GAAOqoC,EAAaxN,EAAc,OAAQ,iBAAmBj9B,EAAWoC,EAAK+2B,UAAUtN,YAuC7H,OAtCA4e,EAAW/L,QAAUt8B,EACrBqoC,EAAWC,GAAK7vC,EAChB4vC,EAAW1M,aAAa,aAAcpT,EAAKwW,WAAW/+B,EAAMuoB,EAAKmW,OAAO9I,kBACnC,IAAjCh4B,EAAUgxB,QAAQ,WACe,IAAjC0R,EAAatgC,EAAMuoB,EAAKoP,OACxBpP,EAAKggB,cAAgBF,EACrBA,EAAW1N,UAAU1W,IAAI,SACzBokB,EAAW1M,aAAa,eAAgB,SAExCwM,GACAE,EAAWjB,UAAY,EACnBoB,GAAexoC,KACfqoC,EAAW1N,UAAU1W,IAAI,YACzBsE,EAAKkgB,iBAAmBJ,EACC,UAArB9f,EAAKmW,OAAOnH,OACZkD,EAAY4N,EAAY,aAAc9f,EAAKma,cAAc,IACD,IAApDpC,EAAatgC,EAAMuoB,EAAKma,cAAc,IAAI,IAC9CjI,EAAY4N,EAAY,WAAY9f,EAAKma,cAAc,IACC,IAApDpC,EAAatgC,EAAMuoB,EAAKma,cAAc,IAAI,IAC5B,iBAAd9kC,GACAyqC,EAAW1N,UAAU1W,IAAI,cAKrCokB,EAAW1N,UAAU1W,IAAI,sBAEJ,UAArBsE,EAAKmW,OAAOnH,MACRmR,GAAc1oC,KAAUwoC,GAAexoC,IACvCqoC,EAAW1N,UAAU1W,IAAI,WAE7BsE,EAAK5U,aACsB,IAA3B4U,EAAKmW,OAAO7F,YACE,iBAAdj7B,GACAsqC,EAAY,IAAM,GAClB3f,EAAK5U,YAAYg1B,mBAAmB,YAAa,+BAAiCpgB,EAAKmW,OAAOhI,QAAQ12B,GAAQ,WAElHgjC,GAAa,cAAeqF,GACrBA,EAEX,SAASO,EAAeC,GACpBA,EAAWzX,QACc,UAArB7I,EAAKmW,OAAOnH,MACZoO,GAAYkD,GAEpB,SAASC,EAAqB/D,GAC1B,MAAMgE,EAAahE,EAAQ,EAAI,EAAIxc,EAAKmW,OAAO7F,WAAa,EACtDmQ,EAAWjE,EAAQ,EAAIxc,EAAKmW,OAAO7F,YAAc,EACvD,IAAK,IAAIlQ,EAAIogB,EAAYpgB,GAAKqgB,EAAUrgB,GAAKoc,EAAO,CAChD,MAAM7G,EAAQ3V,EAAK6a,cAAczhB,SAASgH,GACpCsgB,EAAalE,EAAQ,EAAI,EAAI7G,EAAMvc,SAASxsB,OAAS,EACrD+zC,EAAWnE,EAAQ,EAAI7G,EAAMvc,SAASxsB,QAAU,EACtD,IAAK,IAAIsD,EAAIwwC,EAAYxwC,GAAKywC,EAAUzwC,GAAKssC,EAAO,CAChD,MAAMnc,EAAIsV,EAAMvc,SAASlpB,GACzB,IAAuC,IAAnCmwB,EAAEhrB,UAAUgxB,QAAQ,WAAoBwZ,GAAUxf,EAAE0T,SACpD,OAAO1T,IAKvB,SAASugB,EAAoB57B,EAASw3B,GAClC,MAAMqE,GAAqD,IAAxC77B,EAAQ3P,UAAUgxB,QAAQ,SACvCrhB,EAAQ+uB,QAAQ+B,WAChB9V,EAAKwZ,aACLiH,EAAWjE,EAAQ,EAAIxc,EAAKmW,OAAO7F,YAAc,EACjDwQ,EAAYtE,EAAQ,EAAI,GAAK,EACnC,IAAK,IAAIpc,EAAIygB,EAAa7gB,EAAKwZ,aAAcpZ,GAAKqgB,EAAUrgB,GAAK0gB,EAAW,CACxE,MAAMnL,EAAQ3V,EAAK6a,cAAczhB,SAASgH,GACpCsgB,EAAaG,EAAa7gB,EAAKwZ,eAAiBpZ,EAChDpb,EAAQ+6B,GAAKvD,EACbA,EAAQ,EACJ7G,EAAMvc,SAASxsB,OAAS,EACxB,EACJm0C,EAAepL,EAAMvc,SAASxsB,OACpC,IAAK,IAAIsD,EAAIwwC,EAAYxwC,GAAK,GAAKA,EAAI6wC,GAAgB7wC,IAAMssC,EAAQ,EAAIuE,GAAgB,GAAI7wC,GAAK4wC,EAAW,CACzG,MAAMzgB,EAAIsV,EAAMvc,SAASlpB,GACzB,IAAuC,IAAnCmwB,EAAEhrB,UAAUgxB,QAAQ,WACpBwZ,GAAUxf,EAAE0T,UACZtuB,KAAKu7B,IAAIh8B,EAAQ+6B,GAAK7vC,IAAMuV,KAAKu7B,IAAIxE,GACrC,OAAO6D,EAAehgB,IAGlCL,EAAKihB,YAAYH,GACjBI,EAAWX,EAAqBO,GAAY,GAGhD,SAASI,EAAWl8B,EAASm8B,GACzB,MAAMC,EAAaC,GAASpd,SAASqd,eAAiBrd,SAASC,MACzDqd,OAAwB10C,IAAZmY,EACZA,EACAo8B,EACInd,SAASqd,mBACiBz0C,IAA1BmzB,EAAKkgB,kBAAkCmB,GAASrhB,EAAKkgB,kBACjDlgB,EAAKkgB,sBACkBrzC,IAAvBmzB,EAAKggB,eAA+BqB,GAASrhB,EAAKggB,eAC9ChgB,EAAKggB,cACLO,EAAqBY,EAAS,EAAI,GAAK,QACvCt0C,IAAd00C,EACAvhB,EAAKwb,OAAO3S,QAENuY,EAINR,EAAoBW,EAAWJ,GAH/Bd,EAAekB,GAMvB,SAASC,EAAenM,EAAMM,GAC1B,MAAM8L,GAAgB,IAAI9kB,KAAK0Y,EAAMM,EAAO,GAAGlH,SAAWzO,EAAKoW,KAAKtF,eAAiB,GAAK,EACpF4Q,EAAgB1hB,EAAKuZ,MAAMoI,gBAAgBhM,EAAQ,EAAI,IAAM,GAAIN,GACjExE,EAAc7Q,EAAKuZ,MAAMoI,eAAehM,EAAON,GAAO3oB,EAAOgX,OAAOO,SAAS2a,yBAA0BgD,EAAe5hB,EAAKmW,OAAO7F,WAAa,EAAGuR,EAAoBD,EAAe,sBAAwB,eAAgBE,EAAoBF,EAAe,sBAAwB,eAC9R,IAAIjC,EAAY+B,EAAgB,EAAID,EAAcM,EAAW,EAC7D,KAAOpC,GAAa+B,EAAe/B,IAAaoC,IAC5Cr1B,EAAKyX,YAAYub,EAAUmC,EAAmB,IAAIllB,KAAK0Y,EAAMM,EAAQ,EAAGgK,GAAYA,EAAWoC,IAEnG,IAAKpC,EAAY,EAAGA,GAAa9O,EAAa8O,IAAaoC,IACvDr1B,EAAKyX,YAAYub,EAAU,GAAI,IAAI/iB,KAAK0Y,EAAMM,EAAOgK,GAAYA,EAAWoC,IAEhF,IAAK,IAAIC,EAASnR,EAAc,EAAGmR,GAAU,GAAKP,IAClB,IAA3BzhB,EAAKmW,OAAO7F,YAAoByR,EAAW,IAAM,GAAIC,IAAUD,IAChEr1B,EAAKyX,YAAYub,EAAUoC,EAAmB,IAAInlB,KAAK0Y,EAAMM,EAAQ,EAAGqM,EAASnR,GAAcmR,EAAQD,IAE3G,MAAME,EAAe3P,EAAc,MAAO,gBAE1C,OADA2P,EAAa9d,YAAYzX,GAClBu1B,EAEX,SAAS9C,IACL,QAA2BtyC,IAAvBmzB,EAAK6a,cACL,OAEJrI,EAAUxS,EAAK6a,eACX7a,EAAK5U,aACLonB,EAAUxS,EAAK5U,aACnB,MAAM82B,EAAOje,SAAS2a,yBACtB,IAAK,IAAI1uC,EAAI,EAAGA,EAAI8vB,EAAKmW,OAAO7F,WAAYpgC,IAAK,CAC7C,MAAMowB,EAAI,IAAI3D,KAAKqD,EAAK0Z,YAAa1Z,EAAKwZ,aAAc,GACxDlZ,EAAE2T,SAASjU,EAAKwZ,aAAetpC,GAC/BgyC,EAAK/d,YAAYqd,EAAelhB,EAAEqO,cAAerO,EAAEwV,aAEvD9V,EAAK6a,cAAc1W,YAAY+d,GAC/BliB,EAAKtT,KAAOsT,EAAK6a,cAAcpI,WACN,UAArBzS,EAAKmW,OAAOnH,MAAkD,IAA9BhP,EAAKma,cAAcvtC,QACnDwwC,KAGR,SAASiB,IACL,GAAIre,EAAKmW,OAAO7F,WAAa,GACS,aAAlCtQ,EAAKmW,OAAOlH,kBACZ,OACJ,MAAMkT,EAAmB,SAAUxM,GAC/B,aAA4B9oC,IAAxBmzB,EAAKmW,OAAOqC,SACZxY,EAAK0Z,cAAgB1Z,EAAKmW,OAAOqC,QAAQ7J,eACzCgH,EAAQ3V,EAAKmW,OAAOqC,QAAQ1C,oBAGCjpC,IAAxBmzB,EAAKmW,OAAOyC,SACjB5Y,EAAK0Z,cAAgB1Z,EAAKmW,OAAOyC,QAAQjK,eACzCgH,EAAQ3V,EAAKmW,OAAOyC,QAAQ9C,aAEpC9V,EAAKoiB,wBAAwBvD,UAAY,EACzC7e,EAAKoiB,wBAAwBC,UAAY,GACzC,IAAK,IAAInyC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAKiyC,EAAiBjyC,GAClB,SACJ,MAAMylC,EAAQrD,EAAc,SAAU,iCACtCqD,EAAM7oC,MAAQ,IAAI6vB,KAAKqD,EAAK0Z,YAAaxpC,GAAG4lC,WAAW5U,WACvDyU,EAAMpD,YAAcmB,EAAWxjC,EAAG8vB,EAAKmW,OAAO9F,sBAAuBrQ,EAAKoW,MAC1ET,EAAMkJ,UAAY,EACd7e,EAAKwZ,eAAiBtpC,IACtBylC,EAAM2M,UAAW,GAErBtiB,EAAKoiB,wBAAwBje,YAAYwR,IAGjD,SAAS4M,IACL,MAAMC,EAAYlQ,EAAc,MAAO,mBACjCmQ,EAAmB/e,OAAOO,SAAS2a,yBACzC,IAAI8D,EACA1iB,EAAKmW,OAAO7F,WAAa,GACS,WAAlCtQ,EAAKmW,OAAOlH,kBACZyT,EAAepQ,EAAc,OAAQ,cAGrCtS,EAAKoiB,wBAA0B9P,EAAc,SAAU,kCACvDtS,EAAKoiB,wBAAwBhP,aAAa,aAAcpT,EAAKoW,KAAK7E,gBAClE5S,EAAKqB,EAAKoiB,wBAAyB,SAAWriB,IAC1C,MAAM9vB,EAASojC,EAAetT,GACxB4iB,EAAgBxN,SAASllC,EAAOnD,MAAO,IAC7CkzB,EAAKihB,YAAY0B,EAAgB3iB,EAAKwZ,cACtCiB,GAAa,mBAEjB4D,IACAqE,EAAe1iB,EAAKoiB,yBAExB,MAAMQ,EAAYhQ,EAAkB,WAAY,CAAEl/B,SAAU,OACtDmvC,EAAcD,EAAUE,qBAAqB,SAAS,GAC5DD,EAAYzP,aAAa,aAAcpT,EAAKoW,KAAK9E,eAC7CtR,EAAKmW,OAAOqC,SACZqK,EAAYzP,aAAa,MAAOpT,EAAKmW,OAAOqC,QAAQ7J,cAAczN,YAElElB,EAAKmW,OAAOyC,UACZiK,EAAYzP,aAAa,MAAOpT,EAAKmW,OAAOyC,QAAQjK,cAAczN,YAClE2hB,EAAY31C,WACN8yB,EAAKmW,OAAOqC,SACVxY,EAAKmW,OAAOqC,QAAQ7J,gBAAkB3O,EAAKmW,OAAOyC,QAAQjK,eAEtE,MAAM6K,EAAelH,EAAc,MAAO,2BAK1C,OAJAkH,EAAarV,YAAYue,GACzBlJ,EAAarV,YAAYye,GACzBH,EAAiBte,YAAYqV,GAC7BgJ,EAAUre,YAAYse,GACf,CACHD,YACAK,cACAH,gBAGR,SAASK,IACLvQ,EAAUxS,EAAKwd,UACfxd,EAAKwd,SAASrZ,YAAYnE,EAAKgjB,cAC3BhjB,EAAKmW,OAAO7F,aACZtQ,EAAKijB,aAAe,GACpBjjB,EAAKkjB,cAAgB,IAEzB,IAAK,IAAI9iB,EAAIJ,EAAKmW,OAAO7F,WAAYlQ,KAAM,CACvC,MAAMuV,EAAQ4M,IACdviB,EAAKijB,aAAanzC,KAAK6lC,EAAMkN,aAC7B7iB,EAAKkjB,cAAcpzC,KAAK6lC,EAAM+M,cAC9B1iB,EAAKwd,SAASrZ,YAAYwR,EAAM6M,WAEpCxiB,EAAKwd,SAASrZ,YAAYnE,EAAKmjB,cAEnC,SAASrE,KA6BL,OA5BA9e,EAAKwd,SAAWlL,EAAc,MAAO,oBACrCtS,EAAKijB,aAAe,GACpBjjB,EAAKkjB,cAAgB,GACrBljB,EAAKgjB,aAAe1Q,EAAc,OAAQ,wBAC1CtS,EAAKgjB,aAAaX,UAAYriB,EAAKmW,OAAO/F,UAC1CpQ,EAAKmjB,aAAe7Q,EAAc,OAAQ,wBAC1CtS,EAAKmjB,aAAad,UAAYriB,EAAKmW,OAAOjH,UAC1C6T,IACAxzC,OAAOiB,eAAewvB,EAAM,sBAAuB,CAC/CO,IAAK,IAAMP,EAAKojB,qBAChB,IAAIxR,GACI5R,EAAKojB,uBAAyBxR,IAC9BM,EAAYlS,EAAKgjB,aAAc,qBAAsBpR,GACrD5R,EAAKojB,qBAAuBxR,MAIxCriC,OAAOiB,eAAewvB,EAAM,sBAAuB,CAC/CO,IAAK,IAAMP,EAAKqjB,qBAChB,IAAIzR,GACI5R,EAAKqjB,uBAAyBzR,IAC9BM,EAAYlS,EAAKmjB,aAAc,qBAAsBvR,GACrD5R,EAAKqjB,qBAAuBzR,MAIxC5R,EAAKsjB,mBAAqBtjB,EAAKijB,aAAa,GAC5CM,KACOvjB,EAAKwd,SAEhB,SAAS4B,KACLpf,EAAK4a,kBAAkBxI,UAAU1W,IAAI,WACjCsE,EAAKmW,OAAOhH,YACZnP,EAAK4a,kBAAkBxI,UAAU1W,IAAI,cACzC,MAAM0f,EAAW7C,EAAgBvY,EAAKmW,QACtCnW,EAAK2d,cAAgBrL,EAAc,MAAO,kBAC1CtS,EAAK2d,cAAckB,UAAY,EAC/B,MAAM2E,EAAYlR,EAAc,OAAQ,2BAA4B,KAC9DmR,EAAY7Q,EAAkB,iBAAkB,CAClD,aAAc5S,EAAKoW,KAAK5E,gBAE5BxR,EAAK6b,YAAc4H,EAAUX,qBAAqB,SAAS,GAC3D,MAAMY,EAAc9Q,EAAkB,mBAAoB,CACtD,aAAc5S,EAAKoW,KAAK3E,kBAyB5B,GAvBAzR,EAAK8b,cAAgB4H,EAAYZ,qBAAqB,SAAS,GAC/D9iB,EAAK6b,YAAYgD,SAAW7e,EAAK8b,cAAc+C,UAAY,EAC3D7e,EAAK6b,YAAY/uC,MAAQ4kC,EAAI1R,EAAKqa,sBAC5Bra,EAAKqa,sBAAsB7F,WAC3BxU,EAAKmW,OAAO3F,UACR4K,EAAS/e,MACTuf,EAAcR,EAAS/e,QACjC2D,EAAK8b,cAAchvC,MAAQ4kC,EAAI1R,EAAKqa,sBAC9Bra,EAAKqa,sBAAsBrE,aAC3BoF,EAAS9e,SACf0D,EAAK6b,YAAYzI,aAAa,OAAQpT,EAAKmW,OAAOvH,cAAc1N,YAChElB,EAAK8b,cAAc1I,aAAa,OAAQpT,EAAKmW,OAAOpH,gBAAgB7N,YACpElB,EAAK6b,YAAYzI,aAAa,MAAOpT,EAAKmW,OAAO3F,UAAY,IAAM,KACnExQ,EAAK6b,YAAYzI,aAAa,MAAOpT,EAAKmW,OAAO3F,UAAY,KAAO,MACpExQ,EAAK6b,YAAYzI,aAAa,YAAa,KAC3CpT,EAAK8b,cAAc1I,aAAa,MAAO,KACvCpT,EAAK8b,cAAc1I,aAAa,MAAO,MACvCpT,EAAK8b,cAAc1I,aAAa,YAAa,KAC7CpT,EAAK2d,cAAcxZ,YAAYsf,GAC/BzjB,EAAK2d,cAAcxZ,YAAYqf,GAC/BxjB,EAAK2d,cAAcxZ,YAAYuf,GAC3B1jB,EAAKmW,OAAO3F,WACZxQ,EAAK2d,cAAcvL,UAAU1W,IAAI,YACjCsE,EAAKmW,OAAOpI,cAAe,CAC3B/N,EAAK2d,cAAcvL,UAAU1W,IAAI,cACjC,MAAMioB,EAAc/Q,EAAkB,oBACtC5S,EAAK+b,cAAgB4H,EAAYb,qBAAqB,SAAS,GAC/D9iB,EAAK+b,cAAcjvC,MAAQ4kC,EAAI1R,EAAKqa,sBAC9Bra,EAAKqa,sBAAsBtE,aAC3BqF,EAAS7e,SACfyD,EAAK+b,cAAc3I,aAAa,OAAQpT,EAAK8b,cAAc8H,aAAa,SACxE5jB,EAAK+b,cAAc3I,aAAa,MAAO,KACvCpT,EAAK+b,cAAc3I,aAAa,MAAO,MACvCpT,EAAK+b,cAAc3I,aAAa,YAAa,KAC7CpT,EAAK2d,cAAcxZ,YAAYmO,EAAc,OAAQ,2BAA4B,MACjFtS,EAAK2d,cAAcxZ,YAAYwf,GAUnC,OARK3jB,EAAKmW,OAAO3F,YACbxQ,EAAKqR,KAAOiB,EAAc,OAAQ,kBAAmBtS,EAAKoW,KAAK/E,KAAK,GAAKrR,EAAKqa,sBACxEra,EAAK6b,YAAY/uC,MACjBkzB,EAAKmW,OAAOzI,aAAe,MACjC1N,EAAKqR,KAAKhjC,MAAQ2xB,EAAKoW,KAAKhF,YAC5BpR,EAAKqR,KAAKwN,UAAY,EACtB7e,EAAK2d,cAAcxZ,YAAYnE,EAAKqR,OAEjCrR,EAAK2d,cAEhB,SAASuB,KACAlf,EAAK6jB,iBAGNrR,EAAUxS,EAAK6jB,kBAFf7jB,EAAK6jB,iBAAmBvR,EAAc,MAAO,sBAGjD,IAAK,IAAIpiC,EAAI8vB,EAAKmW,OAAO7F,WAAYpgC,KAAM,CACvC,MAAMsyC,EAAYlQ,EAAc,MAAO,8BACvCtS,EAAK6jB,iBAAiB1f,YAAYqe,GAGtC,OADAsB,KACO9jB,EAAK6jB,iBAEhB,SAASC,KACL,IAAK9jB,EAAK6jB,iBACN,OAEJ,MAAM/S,EAAiB9Q,EAAKoW,KAAKtF,eACjC,IAAIJ,EAAW,IAAI1Q,EAAKoW,KAAK1F,SAASC,WAClCG,EAAiB,GAAKA,EAAiBJ,EAAS9jC,SAChD8jC,EAAW,IACJA,EAASqT,OAAOjT,EAAgBJ,EAAS9jC,WACzC8jC,EAASqT,OAAO,EAAGjT,KAG9B,IAAK,IAAI5gC,EAAI8vB,EAAKmW,OAAO7F,WAAYpgC,KACjC8vB,EAAK6jB,iBAAiBzqB,SAASlpB,GAAGmyC,UAAY,qDAEhD3R,EAASp7B,KAAK,oEAKpB,SAAS0pC,KACLhf,EAAK4a,kBAAkBxI,UAAU1W,IAAI,YACrC,MAAMsf,EAAc1I,EAAc,MAAO,yBACzC0I,EAAY7W,YAAYmO,EAAc,OAAQ,oBAAqBtS,EAAKoW,KAAKlF,mBAC7E,MAAM9lB,EAAcknB,EAAc,MAAO,mBAEzC,OADA0I,EAAY7W,YAAY/Y,GACjB,CACH4vB,cACA5vB,eAGR,SAAS61B,GAAYn0C,EAAOk3C,GAAW,GACnC,MAAMxH,EAAQwH,EAAWl3C,EAAQA,EAAQkzB,EAAKwZ,aACzCgD,EAAQ,IAAkC,IAA7Bxc,EAAKikB,qBAClBzH,EAAQ,IAAkC,IAA7Bxc,EAAKkkB,sBAEvBlkB,EAAKwZ,cAAgBgD,GACjBxc,EAAKwZ,aAAe,GAAKxZ,EAAKwZ,aAAe,MAC7CxZ,EAAK0Z,aAAe1Z,EAAKwZ,aAAe,GAAK,GAAK,EAClDxZ,EAAKwZ,cAAgBxZ,EAAKwZ,aAAe,IAAM,GAC/CiB,GAAa,gBACb4D,KAEJc,IACA1E,GAAa,iBACb8I,MAEJ,SAASY,GAAMC,GAAqB,EAAMC,GAAY,GAYlD,GAXArkB,EAAK6K,MAAM/9B,MAAQ,QACGD,IAAlBmzB,EAAKiN,WACLjN,EAAKiN,SAASngC,MAAQ,SACDD,IAArBmzB,EAAKskB,cACLtkB,EAAKskB,YAAYx3C,MAAQ,IAC7BkzB,EAAKma,cAAgB,GACrBna,EAAKqa,2BAAwBxtC,GACX,IAAdw3C,IACArkB,EAAK0Z,YAAc1Z,EAAKukB,aAAa5V,cACrC3O,EAAKwZ,aAAexZ,EAAKukB,aAAazO,aAEX,IAA3B9V,EAAKmW,OAAOnI,WAAqB,CACjC,MAAM,MAAE3R,EAAK,QAAEC,EAAO,QAAEC,GAAYgc,EAAgBvY,EAAKmW,QACzD7H,EAASjS,EAAOC,EAASC,GAE7ByD,EAAKse,SACD8F,GACA3J,GAAa,YAErB,SAAS+J,KACLxkB,EAAK4Z,QAAS,EACT5Z,EAAKqW,gBACyBxpC,IAA3BmzB,EAAK4a,mBACL5a,EAAK4a,kBAAkBxI,UAAUC,OAAO,aAExBxlC,IAAhBmzB,EAAKwb,QACLxb,EAAKwb,OAAOpJ,UAAUC,OAAO,WAGrCoI,GAAa,WAEjB,SAASgK,UACe53C,IAAhBmzB,EAAKmW,QACLsE,GAAa,aACjB,IAAK,IAAIvqC,EAAI8vB,EAAK4c,UAAUhwC,OAAQsD,KAChC8vB,EAAK4c,UAAU1sC,GAAGmiC,SAGtB,GADArS,EAAK4c,UAAY,GACb5c,EAAKskB,YACDtkB,EAAKskB,YAAYjgB,YACjBrE,EAAKskB,YAAYjgB,WAAWC,YAAYtE,EAAKskB,aACjDtkB,EAAKskB,iBAAcz3C,OAElB,GAAImzB,EAAK4a,mBAAqB5a,EAAK4a,kBAAkBvW,WACtD,GAAIrE,EAAKmW,OAAO5F,QAAUvQ,EAAK4a,kBAAkBvW,WAAY,CACzD,MAAM0O,EAAU/S,EAAK4a,kBAAkBvW,WAEvC,GADA0O,EAAQ2R,WAAa3R,EAAQzO,YAAYyO,EAAQ2R,WAC7C3R,EAAQ1O,WAAY,CACpB,MAAO0O,EAAQN,WACXM,EAAQ1O,WAAWmb,aAAazM,EAAQN,WAAYM,GACxDA,EAAQ1O,WAAWC,YAAYyO,SAInC/S,EAAK4a,kBAAkBvW,WAAWC,YAAYtE,EAAK4a,mBAEvD5a,EAAKiN,WACLjN,EAAK6K,MAAM/7B,KAAO,OACdkxB,EAAKiN,SAAS5I,YACdrE,EAAKiN,SAAS5I,WAAWC,YAAYtE,EAAKiN,iBACvCjN,EAAKiN,UAEZjN,EAAK6K,QACL7K,EAAK6K,MAAM/7B,KAAOkxB,EAAK6K,MAAM8Z,MAC7B3kB,EAAK6K,MAAMuH,UAAUC,OAAO,mBAC5BrS,EAAK6K,MAAM+Z,gBAAgB,aAE/B,CACI,iBACA,wBACA,sBACA,sBACA,uBACA,uBACA,WACA,SACA,mBACA,iBACA,iBACA,OACA,gBACA,SACA,mBACA,iBACA,aACA,WACA,gBACA,oBACA,mBACA,eACA,eACA,0BACA,sBACA,qBACA,yBACA,mBACA,UACFx0C,QAASy0C,IACP,WACW7kB,EAAK6kB,GAEhB,MAAOjgB,OAGf,SAASkgB,GAAe3S,GACpB,SAAInS,EAAKmW,OAAOmJ,WAAYtf,EAAKmW,OAAOmJ,SAAS1W,SAASuJ,KAEnDnS,EAAK4a,kBAAkBhS,SAASuJ,GAE3C,SAASmL,GAAcvd,GACnB,GAAIC,EAAK4Z,SAAW5Z,EAAKmW,OAAOzjC,OAAQ,CACpC,MAAM6pC,EAAclJ,EAAetT,GAC7BglB,EAAoBD,GAAevI,GACnCyI,EAAUzI,IAAgBvc,EAAK6K,OACjC0R,IAAgBvc,EAAKiN,UACrBjN,EAAKiZ,QAAQrQ,SAAS2T,IACrBxc,EAAEwT,MACCxT,EAAEwT,KAAKlN,WACLtG,EAAEwT,KAAKlN,QAAQrG,EAAK6K,SACjB9K,EAAEwT,KAAKlN,QAAQrG,EAAKiN,WAC3BgY,EAAuB,SAAXllB,EAAEjxB,KACdk2C,GACEjlB,EAAEmlB,gBACDJ,GAAe/kB,EAAEmlB,gBACnBF,IACED,IACAD,GAAe/kB,EAAEmlB,eACpBC,GAAanlB,EAAKmW,OAAOtH,qBAAqBlG,KAAMwJ,GAASA,EAAKvJ,SAAS2T,IAC7E0I,GAAaE,SACct4C,IAAvBmzB,EAAK2d,oBACkB9wC,IAAvBmzB,EAAK8b,oBACgBjvC,IAArBmzB,EAAK6b,aACgB,KAArB7b,EAAK6K,MAAM/9B,YACUD,IAArBmzB,EAAK6K,MAAM/9B,OACXouC,IAEJlb,EAAKwkB,QACDxkB,EAAKmW,QACgB,UAArBnW,EAAKmW,OAAOnH,MACkB,IAA9BhP,EAAKma,cAAcvtC,SACnBozB,EAAKmkB,OAAM,GACXnkB,EAAKse,YAKrB,SAAS7B,GAAW2I,GAChB,IAAKA,GACAplB,EAAKmW,OAAOqC,SAAW4M,EAAUplB,EAAKmW,OAAOqC,QAAQ7J,eACrD3O,EAAKmW,OAAOyC,SAAWwM,EAAUplB,EAAKmW,OAAOyC,QAAQjK,cACtD,OACJ,MAAM0W,EAAaD,EAASE,EAAYtlB,EAAK0Z,cAAgB2L,EAC7DrlB,EAAK0Z,YAAc2L,GAAcrlB,EAAK0Z,YAClC1Z,EAAKmW,OAAOyC,SACZ5Y,EAAK0Z,cAAgB1Z,EAAKmW,OAAOyC,QAAQjK,cACzC3O,EAAKwZ,aAAe/zB,KAAKwM,IAAI+N,EAAKmW,OAAOyC,QAAQ9C,WAAY9V,EAAKwZ,cAE7DxZ,EAAKmW,OAAOqC,SACjBxY,EAAK0Z,cAAgB1Z,EAAKmW,OAAOqC,QAAQ7J,gBACzC3O,EAAKwZ,aAAe/zB,KAAKI,IAAIma,EAAKmW,OAAOqC,QAAQ1C,WAAY9V,EAAKwZ,eAElE8L,IACAtlB,EAAKse,SACL7D,GAAa,gBACb4D,KAGR,SAASwB,GAAUpoC,EAAMm/B,GAAW,GAChC,IAAItiC,EACJ,MAAMixC,EAAcvlB,EAAKmX,UAAU1/B,OAAM5K,EAAW+pC,GACpD,GAAK5W,EAAKmW,OAAOqC,SACb+M,GACAxN,EAAawN,EAAavlB,EAAKmW,OAAOqC,aAAsB3rC,IAAb+pC,EAAyBA,GAAY5W,EAAKkc,gBAAkB,GAC1Glc,EAAKmW,OAAOyC,SACT2M,GACAxN,EAAawN,EAAavlB,EAAKmW,OAAOyC,aAAsB/rC,IAAb+pC,EAAyBA,GAAY5W,EAAKqc,gBAAkB,EAC/G,OAAO,EACX,IAAKrc,EAAKmW,OAAOqP,QAAyC,IAA/BxlB,EAAKmW,OAAOtI,QAAQjhC,OAC3C,OAAO,EACX,QAAoBC,IAAhB04C,EACA,OAAO,EACX,MAAM3T,IAAS5R,EAAKmW,OAAOqP,OAAQC,EAAsC,QAA7BnxC,EAAK0rB,EAAKmW,OAAOqP,cAA2B,IAAPlxC,EAAgBA,EAAK0rB,EAAKmW,OAAOtI,QAClH,IAAK,IAAWvN,EAAPpwB,EAAI,EAAMA,EAAIu1C,EAAM74C,OAAQsD,IAAK,CAEtC,GADAowB,EAAImlB,EAAMv1C,GACO,oBAANowB,GACPA,EAAEilB,GACF,OAAO3T,EACN,GAAItR,aAAa3D,WACF9vB,IAAhB04C,GACAjlB,EAAE+N,YAAckX,EAAYlX,UAC5B,OAAOuD,EACN,GAAiB,kBAANtR,EAAgB,CAC5B,MAAMolB,EAAS1lB,EAAKmX,UAAU7W,OAAGzzB,GAAW,GAC5C,OAAO64C,GAAUA,EAAOrX,YAAckX,EAAYlX,UAC5CuD,GACCA,EAEN,GAAiB,kBAANtR,QACIzzB,IAAhB04C,GACAjlB,EAAEpvB,MACFovB,EAAEqlB,IACFJ,EAAYlX,WAAa/N,EAAEpvB,KAAKm9B,WAChCkX,EAAYlX,WAAa/N,EAAEqlB,GAAGtX,UAC9B,OAAOuD,EAEf,OAAQA,EAEZ,SAASyP,GAASlP,GACd,YAA2BtlC,IAAvBmzB,EAAK6a,iBACyC,IAAtC1I,EAAK98B,UAAUgxB,QAAQ,YACuB,IAAlD8L,EAAK98B,UAAUgxB,QAAQ,uBACvBrG,EAAK6a,cAAcjS,SAASuJ,IAGxC,SAAS2L,GAAO/d,GACZ,MAAMilB,EAAUjlB,EAAE9vB,SAAW+vB,EAAKwb,QAC9BwJ,KACChlB,EAAKma,cAAcvtC,OAAS,GAAKozB,EAAKwb,OAAO1uC,MAAMF,OAAS,IAC3DmzB,EAAEmlB,eAAiBJ,GAAe/kB,EAAEmlB,gBACtCllB,EAAKuO,QAAQvO,EAAKwb,OAAO1uC,OAAO,EAAMizB,EAAE9vB,SAAW+vB,EAAKiN,SAClDjN,EAAKmW,OAAOnJ,UACZhN,EAAKmW,OAAO1I,YAG1B,SAASgC,GAAU1P,GACf,MAAMwc,EAAclJ,EAAetT,GAC7BilB,EAAUhlB,EAAKmW,OAAO9X,KACtB4a,EAAQrQ,SAAS2T,GACjBA,IAAgBvc,EAAKwb,OACrB1O,EAAa9M,EAAKmW,OAAOrJ,WACzB8Y,EAAe5lB,EAAK4Z,UAAY9M,IAAekY,GAC/Ca,EAAqB7lB,EAAKmW,OAAOzjC,QAAUsyC,IAAYlY,EAC7D,GAAkB,KAAd/M,EAAEgK,SAAkBib,EAAS,CAC7B,GAAIlY,EAIA,OAHA9M,EAAKuO,QAAQvO,EAAKwb,OAAO1uC,OAAO,EAAMyvC,IAAgBvc,EAAKiN,SACrDjN,EAAKmW,OAAOnJ,UACZhN,EAAKmW,OAAO1I,YACX8O,EAAYjU,OAGnBtI,EAAKmH,YAGR,GAAI2d,GAAevI,IACpBqJ,GACAC,EAAoB,CACpB,MAAMC,IAAc9lB,EAAK2d,eACrB3d,EAAK2d,cAAc/U,SAAS2T,GAChC,OAAQxc,EAAEgK,SACN,KAAK,GACG+b,GACA/lB,EAAEyI,iBACF0S,IACA6K,MAGArI,GAAW3d,GACf,MACJ,KAAK,GACDA,EAAEyI,iBACFud,KACA,MACJ,KAAK,EACL,KAAK,GACGf,IAAYhlB,EAAKmW,OAAOrJ,aACxB/M,EAAEyI,iBACFxI,EAAKmkB,SAET,MACJ,KAAK,GACL,KAAK,GACD,GAAK2B,GAAcd,EAeVhlB,EAAK6b,aACV7b,EAAK6b,YAAYhT,aAdjB,GADA9I,EAAEyI,sBACyB37B,IAAvBmzB,EAAK6a,iBACW,IAAf/N,GACI7I,SAASqd,eAAiBD,GAASpd,SAASqd,gBAAkB,CACnE,MAAM9E,EAAsB,KAAdzc,EAAEgK,QAAiB,GAAK,EACjChK,EAAEimB,SAGHjmB,EAAEuM,kBACF2U,GAAYzE,GACZ0E,EAAWX,EAAqB,GAAI,IAJpCW,OAAWr0C,EAAW2vC,GAUlC,MACJ,KAAK,GACL,KAAK,GACDzc,EAAEyI,iBACF,MAAMgU,EAAsB,KAAdzc,EAAEgK,QAAiB,GAAK,EACjC/J,EAAK6a,oBACahuC,IAAnB0vC,EAAYwD,IACZxD,IAAgBvc,EAAK6K,OACrB0R,IAAgBvc,EAAKiN,SACjBlN,EAAEimB,SACFjmB,EAAEuM,kBACFmQ,GAAWzc,EAAK0Z,YAAc8C,GAC9B0E,EAAWX,EAAqB,GAAI,IAE9BuF,GACN5E,OAAWr0C,EAAmB,EAAR2vC,GAErBD,IAAgBvc,EAAKsjB,mBAC1B7G,GAAWzc,EAAK0Z,YAAc8C,GAEzBxc,EAAKmW,OAAOnI,cACZ8X,GAAa9lB,EAAK6b,aACnB7b,EAAK6b,YAAYhT,QACrBqS,EAAWnb,GACXC,EAAK0b,oBAET,MACJ,KAAK,EACD,GAAIoK,EAAW,CACX,MAAMG,EAAQ,CACVjmB,EAAK6b,YACL7b,EAAK8b,cACL9b,EAAK+b,cACL/b,EAAKqR,MAEJr+B,OAAOgtB,EAAKkmB,gBACZx2C,OAAQy2C,GAAMA,GACbj2C,EAAI+1C,EAAM5f,QAAQkW,GACxB,IAAW,IAAPrsC,EAAU,CACV,MAAMD,EAASg2C,EAAM/1C,GAAK6vB,EAAEqmB,UAAY,EAAI,IAC5CrmB,EAAEyI,kBACDv4B,GAAU+vB,EAAKwb,QAAQ3S,cAGtB7I,EAAKmW,OAAOhH,YAClBnP,EAAK6a,eACL7a,EAAK6a,cAAcjS,SAAS2T,IAC5Bxc,EAAEqmB,WACFrmB,EAAEyI,iBACFxI,EAAKwb,OAAO3S,SAEhB,MACJ,QACI,OAGZ,QAAkBh8B,IAAdmzB,EAAKqR,MAAsBkL,IAAgBvc,EAAKqR,KAChD,OAAQtR,EAAErzB,KACN,KAAKszB,EAAKoW,KAAK/E,KAAK,GAAGgV,OAAO,GAC9B,KAAKrmB,EAAKoW,KAAK/E,KAAK,GAAGgV,OAAO,GAAGjgB,cAC7BpG,EAAKqR,KAAKkB,YAAcvS,EAAKoW,KAAK/E,KAAK,GACvCoK,IACAxT,KACA,MACJ,KAAKjI,EAAKoW,KAAK/E,KAAK,GAAGgV,OAAO,GAC9B,KAAKrmB,EAAKoW,KAAK/E,KAAK,GAAGgV,OAAO,GAAGjgB,cAC7BpG,EAAKqR,KAAKkB,YAAcvS,EAAKoW,KAAK/E,KAAK,GACvCoK,IACAxT,KACA,OAGR+c,GAAWF,GAAevI,KAC1B9B,GAAa,YAAa1a,GAGlC,SAASqd,GAAYjL,GACjB,GAAkC,IAA9BnS,EAAKma,cAAcvtC,QAClBulC,KACKA,EAAKC,UAAUxJ,SAAS,kBACtBuJ,EAAKC,UAAUxJ,SAAS,uBAChC,OACJ,MAAM0d,EAAYnU,EACZA,EAAK4B,QAAQ1F,UACbrO,EAAKtT,KAAK65B,kBAAkBxS,QAAQ1F,UAAWmY,EAAcxmB,EAAKmX,UAAUnX,EAAKma,cAAc,QAAIttC,GAAW,GAAMwhC,UAAWoY,EAAiBhhC,KAAKwM,IAAIq0B,EAAWtmB,EAAKma,cAAc,GAAG9L,WAAYqY,EAAejhC,KAAKI,IAAIygC,EAAWtmB,EAAKma,cAAc,GAAG9L,WACrQ,IAAIsY,GAAmB,EACnBC,EAAW,EAAGC,EAAW,EAC7B,IAAK,IAAI/mB,EAAI2mB,EAAgB3mB,EAAI4mB,EAAc5mB,GAAKrT,EAAS6rB,IACpDuH,GAAU,IAAIljB,KAAKmD,IAAI,KACxB6mB,EACIA,GAAqB7mB,EAAI2mB,GAAkB3mB,EAAI4mB,EAC/C5mB,EAAI0mB,KAAiBI,GAAY9mB,EAAI8mB,GACrCA,EAAW9mB,EACNA,EAAI0mB,KAAiBK,GAAY/mB,EAAI+mB,KAC1CA,EAAW/mB,IAGvB,IAAK,IAAIM,EAAI,EAAGA,EAAIJ,EAAKmW,OAAO7F,WAAYlQ,IAAK,CAC7C,MAAMuV,EAAQ3V,EAAK6a,cAAczhB,SAASgH,GAC1C,IAAK,IAAIlwB,EAAI,EAAGiwB,EAAIwV,EAAMvc,SAASxsB,OAAQsD,EAAIiwB,EAAGjwB,IAAK,CACnD,MAAM42C,EAAUnR,EAAMvc,SAASlpB,GAAIuH,EAAOqvC,EAAQ/S,QAC5CgT,EAAYtvC,EAAK42B,UACjB2Y,EAAcJ,EAAW,GAAKG,EAAYH,GAC3CC,EAAW,GAAKE,EAAYF,EAC7BG,GACAF,EAAQ1U,UAAU1W,IAAI,cACtB,CAAC,UAAW,aAAc,YAAYtrB,QAASiwB,IAC3CymB,EAAQ1U,UAAUC,OAAOhS,MAIxBsmB,IAAqBK,IAE9B,CAAC,aAAc,UAAW,WAAY,cAAc52C,QAASiwB,IACzDymB,EAAQ1U,UAAUC,OAAOhS,UAEhBxzB,IAATslC,IACAA,EAAKC,UAAU1W,IAAI4qB,GAAatmB,EAAKma,cAAc,GAAG9L,UAChD,aACA,YACFmY,EAAcF,GAAaS,IAAcP,EACzCM,EAAQ1U,UAAU1W,IAAI,cACjB8qB,EAAcF,GAAaS,IAAcP,GAC9CM,EAAQ1U,UAAU1W,IAAI,YACtBqrB,GAAaH,IACC,IAAbC,GAAkBE,GAAaF,IAChC3O,EAAU6O,EAAWP,EAAaF,IAClCQ,EAAQ1U,UAAU1W,IAAI,eAK1C,SAASyhB,MACDnd,EAAK4Z,QAAW5Z,EAAKmW,OAAO5F,QAAWvQ,EAAKmW,OAAOzjC,QACnD8nC,KAER,SAASrT,GAAKpH,EAAGoQ,EAAkBnQ,EAAKinB,kBACpC,IAAsB,IAAlBjnB,EAAKqW,SAAmB,CACxB,GAAItW,EAAG,CACHA,EAAEyI,iBACF,MAAM+T,EAAclJ,EAAetT,GAC/Bwc,GACAA,EAAYjU,OAQpB,YALyBz7B,IAArBmzB,EAAKskB,cACLtkB,EAAKskB,YAAYzb,QACjB7I,EAAKskB,YAAYvY,cAErB0O,GAAa,UAGZ,GAAIza,EAAKwb,OAAOtuC,UAAY8yB,EAAKmW,OAAOzjC,OACzC,OAEJ,MAAMw0C,EAAUlnB,EAAK4Z,OACrB5Z,EAAK4Z,QAAS,EACTsN,IACDlnB,EAAK4a,kBAAkBxI,UAAU1W,IAAI,QACrCsE,EAAKwb,OAAOpJ,UAAU1W,IAAI,UAC1B+e,GAAa,UACbD,GAAiBrK,KAEU,IAA3BnQ,EAAKmW,OAAOnI,aAAkD,IAA3BhO,EAAKmW,OAAOhH,cAChB,IAA3BnP,EAAKmW,OAAOrJ,iBACLjgC,IAANkzB,GACIC,EAAK2d,cAAc/U,SAAS7I,EAAEmlB,gBACnCrmB,WAAW,IAAMmB,EAAK6b,YAAY5Z,SAAU,KAIxD,SAASklB,GAAiBr4C,GACtB,OAAQ2I,IACJ,MAAMs8B,EAAW/T,EAAKmW,OAAO,IAAIrnC,SAAckxB,EAAKmX,UAAU1/B,EAAMuoB,EAAKmW,OAAO1I,YAC1E2Z,EAAiBpnB,EAAKmW,OAAO,IAAa,QAATrnC,EAAiB,MAAQ,kBAChDjC,IAAZknC,IACA/T,EAAc,QAATlxB,EAAiB,iBAAmB,kBACrCilC,EAAQS,WAAa,GACjBT,EAAQiC,aAAe,GACvBjC,EAAQgC,aAAe,GAE/B/V,EAAKma,gBACLna,EAAKma,cAAgBna,EAAKma,cAAczqC,OAAQ4wB,GAAMuf,GAAUvf,IAC3DN,EAAKma,cAAcvtC,QAAmB,QAATkC,GAC9BsrC,EAAiBrG,GACrB9L,MAEAjI,EAAK6a,gBACLyD,UACgBzxC,IAAZknC,EACA/T,EAAKsjB,mBAAmBx0C,GAAQilC,EAAQpF,cAAczN,WAEtDlB,EAAKsjB,mBAAmBsB,gBAAgB91C,GAC5CkxB,EAAKsjB,mBAAmBp2C,WAClBk6C,QACcv6C,IAAZknC,GACAqT,EAAezY,gBAAkBoF,EAAQpF,gBAI7D,SAASkL,KACL,MAAMwN,EAAW,CACb,OACA,cACA,aACA,sBACA,aACA,YACA,aACA,aACA,WACA,wBACA,SACA,SACA,gBACA,iBAEEC,EAAa/3C,OAAO4pC,OAAO5pC,OAAO4pC,OAAO,GAAI3U,KAAK+iB,MAAM/iB,KAAKC,UAAUwU,EAAQuO,SAAW,MAAOtO,GACjGuO,EAAU,GAChBznB,EAAKmW,OAAOgB,UAAYmQ,EAAWnQ,UACnCnX,EAAKmW,OAAOK,WAAa8Q,EAAW9Q,WACpCjnC,OAAOiB,eAAewvB,EAAKmW,OAAQ,SAAU,CACzC5V,IAAK,IAAMP,EAAKmW,OAAOuR,QACvBC,IAAMh9B,IACFqV,EAAKmW,OAAOuR,QAAUE,GAAej9B,MAG7Cpb,OAAOiB,eAAewvB,EAAKmW,OAAQ,UAAW,CAC1C5V,IAAK,IAAMP,EAAKmW,OAAOtJ,SACvB8a,IAAMh9B,IACFqV,EAAKmW,OAAOtJ,SAAW+a,GAAej9B,MAG9C,MAAMk9B,EAA+B,SAApBP,EAAWtY,KAC5B,IAAKsY,EAAW7Z,aAAe6Z,EAAWtZ,YAAc6Z,GAAW,CAC/D,MAAMC,EAAoB1O,EAAUC,cAAc5L,YAAc,EAAeA,WAC/Ega,EAAQha,WACJ6Z,EAAWnY,YAAc0Y,EACnB,OAASP,EAAWvZ,cAAgB,KAAO,IAC3C+Z,EAAoB,QAAUR,EAAWvZ,cAAgB,KAAO,IAE9E,GAAIuZ,EAAWra,WACVqa,EAAWtZ,YAAc6Z,KACzBP,EAAWta,UAAW,CACvB,MAAM+a,EAAmB3O,EAAUC,cAAcrM,WAAa,EAAeA,UAC7Eya,EAAQza,UACJsa,EAAWnY,YAAc0Y,EACnB,OAASP,EAAWvZ,cAAgB,OAAS,MAC7Cga,EAAmB,OAAOT,EAAWvZ,cAAgB,KAAO,OAE1Ex+B,OAAOiB,eAAewvB,EAAKmW,OAAQ,UAAW,CAC1C5V,IAAK,IAAMP,EAAKmW,OAAO6R,SACvBL,IAAKR,GAAiB,SAE1B53C,OAAOiB,eAAewvB,EAAKmW,OAAQ,UAAW,CAC1C5V,IAAK,IAAMP,EAAKmW,OAAO8R,SACvBN,IAAKR,GAAiB,SAE1B,MAAMe,EAAoBp5C,GAAU+oC,IAChC7X,EAAKmW,OAAgB,QAATrnC,EAAiB,WAAa,YAAckxB,EAAKmX,UAAUU,EAAK,UAEhFtoC,OAAOiB,eAAewvB,EAAKmW,OAAQ,UAAW,CAC1C5V,IAAK,IAAMP,EAAKmW,OAAOgS,SACvBR,IAAKO,EAAiB,SAE1B34C,OAAOiB,eAAewvB,EAAKmW,OAAQ,UAAW,CAC1C5V,IAAK,IAAMP,EAAKmW,OAAOiS,SACvBT,IAAKO,EAAiB,SAEF,SAApBZ,EAAWtY,OACXhP,EAAKmW,OAAOhH,YAAa,EACzBnP,EAAKmW,OAAOnI,YAAa,GAE7Bz+B,OAAO4pC,OAAOnZ,EAAKmW,OAAQsR,EAASH,GACpC,IAAK,IAAIp3C,EAAI,EAAGA,EAAIm3C,EAASz6C,OAAQsD,IACjC8vB,EAAKmW,OAAOkR,EAASn3C,KACY,IAA7B8vB,EAAKmW,OAAOkR,EAASn3C,KACY,SAA7B8vB,EAAKmW,OAAOkR,EAASn3C,IACjC08B,EAAMl9B,OAAQ24C,QAA+Bx7C,IAAtBmzB,EAAKmW,OAAOkS,IAAqBj4C,QAASi4C,IAC7DroB,EAAKmW,OAAOkS,GAAQpW,EAASjS,EAAKmW,OAAOkS,IAAS,IAAIh7C,IAAIqtC,KAE9D1a,EAAKqW,UACArW,EAAKmW,OAAOrI,gBACR9N,EAAKmW,OAAOzjC,QACQ,WAArBstB,EAAKmW,OAAOnH,OACXhP,EAAKmW,OAAOtI,QAAQjhC,SACpBozB,EAAKmW,OAAOqP,SACZxlB,EAAKmW,OAAO/qB,aACb,iEAAiEG,KAAK6hB,UAAUlP,WACxF,IAAK,IAAIhuB,EAAI,EAAGA,EAAI8vB,EAAKmW,OAAOlG,QAAQrjC,OAAQsD,IAAK,CACjD,MAAMo4C,EAAatoB,EAAKmW,OAAOlG,QAAQ//B,GAAG8vB,IAAS,GACnD,IAAK,MAAMtzB,KAAO47C,EACV1b,EAAMvG,QAAQ35B,IAAQ,EACtBszB,EAAKmW,OAAOzpC,GAAOulC,EAASqW,EAAW57C,IAClCW,IAAIqtC,GACJ1nC,OAAOgtB,EAAKmW,OAAOzpC,IAEQ,qBAApB46C,EAAW56C,KACvBszB,EAAKmW,OAAOzpC,GAAO47C,EAAW57C,IAGrC46C,EAAWpa,gBACZlN,EAAKmW,OAAOjJ,cACRqb,KAAelzC,UAAY,IAAM2qB,EAAKmW,OAAOjJ,eAErDuN,GAAa,iBAEjB,SAAS8N,KACL,OAAOvoB,EAAKmW,OAAO9X,KACb4a,EAAQ9O,cAAc,gBACtB8O,EAEV,SAASa,KAC6B,kBAAvB9Z,EAAKmW,OAAOrH,QAC4B,qBAAxCsK,EAAUoP,MAAMxoB,EAAKmW,OAAOrH,SACnC9O,EAAKmW,OAAOlI,aAAa,IAAIh4B,MAAM,6BAA6B+pB,EAAKmW,OAAOrH,SAChF9O,EAAKoW,KAAO7mC,OAAO4pC,OAAO5pC,OAAO4pC,OAAO,GAAIC,EAAUoP,MAAMz5C,SAAyC,kBAAvBixB,EAAKmW,OAAOrH,OACpF9O,EAAKmW,OAAOrH,OACW,YAAvB9O,EAAKmW,OAAOrH,OACRsK,EAAUoP,MAAMxoB,EAAKmW,OAAOrH,aAC5BjiC,GACVgpC,EAAWtB,EAAI,IAAIvU,EAAKoW,KAAK/E,KAAK,MAAMrR,EAAKoW,KAAK/E,KAAK,MAAMrR,EAAKoW,KAAK/E,KAAK,GAAGjL,iBAAiBpG,EAAKoW,KAAK/E,KAAK,GAAGjL,iBAClH,MAAMkhB,EAAa/3C,OAAO4pC,OAAO5pC,OAAO4pC,OAAO,GAAID,GAAiB1U,KAAK+iB,MAAM/iB,KAAKC,UAAUwU,EAAQuO,SAAW,WACpF36C,IAAzBy6C,EAAW9W,gBAC2B3jC,IAAtCusC,EAAUC,cAAc7I,YACxBxQ,EAAKmW,OAAO3F,UAAYxQ,EAAKoW,KAAK5F,WAEtCxQ,EAAKwW,WAAaN,EAAoBlW,GACtCA,EAAKmX,UAAYT,EAAiB,CAAEP,OAAQnW,EAAKmW,OAAQC,KAAMpW,EAAKoW,OAExE,SAASoE,GAAiBiO,GACtB,GAAoC,oBAAzBzoB,EAAKmW,OAAOjG,SACnB,YAAYlQ,EAAKmW,OAAOjG,SAASlQ,EAAMyoB,GAE3C,QAA+B57C,IAA3BmzB,EAAK4a,kBACL,OACJH,GAAa,yBACb,MAAMtK,EAAkBsY,GAAyBzoB,EAAKinB,iBAChDyB,EAAiB76B,MAAM3Z,UAAUqxB,OAAOxkB,KAAKif,EAAK4a,kBAAkBxhB,SAAU,CAAEuvB,EAAKC,IAAUD,EAAMC,EAAM71B,aAAe,GAAI81B,EAAgB7oB,EAAK4a,kBAAkBG,YAAa+N,EAAY9oB,EAAKmW,OAAOjG,SAAStqB,MAAM,KAAMmjC,EAAoBD,EAAU,GAAIE,EAAsBF,EAAUl8C,OAAS,EAAIk8C,EAAU,GAAK,KAAMG,EAAc9Y,EAAgBxqB,wBAAyBujC,EAAqBxlB,OAAOylB,YAAcF,EAAYhjC,OAAQmjC,EAAkC,UAAtBL,GAC/a,UAAtBA,GACGG,EAAqBR,GACrBO,EAAYzkC,IAAMkkC,EACpBlkC,EAAMkf,OAAOI,YACfmlB,EAAYzkC,KACV4kC,GAAgDV,EAAiB,EAArDvY,EAAgBpd,aAAe,GAGjD,GAFAmf,EAAYlS,EAAK4a,kBAAmB,YAAawO,GACjDlX,EAAYlS,EAAK4a,kBAAmB,cAAewO,GAC/CppB,EAAKmW,OAAOzjC,OACZ,OACJ,IAAIyR,EAAOuf,OAAOE,YAAcqlB,EAAY9kC,KACxCklC,GAAW,EACXC,GAAU,EACc,WAAxBN,GACA7kC,IAAS0kC,EAAgBI,EAAYjhC,OAAS,EAC9CqhC,GAAW,GAEkB,UAAxBL,IACL7kC,GAAQ0kC,EAAgBI,EAAYjhC,MACpCshC,GAAU,GAEdpX,EAAYlS,EAAK4a,kBAAmB,aAAcyO,IAAaC,GAC/DpX,EAAYlS,EAAK4a,kBAAmB,cAAeyO,GACnDnX,EAAYlS,EAAK4a,kBAAmB,aAAc0O,GAClD,MAAMllC,EAAQsf,OAAOO,SAASC,KAAK6W,aAC9BrX,OAAOE,YAAcqlB,EAAY7kC,OAChCmlC,EAAYplC,EAAO0kC,EAAgBnlB,OAAOO,SAASC,KAAK6W,YACxDyO,EAAaplC,EAAQykC,EAAgBnlB,OAAOO,SAASC,KAAK6W,YAEhE,GADA7I,EAAYlS,EAAK4a,kBAAmB,YAAa2O,IAC7CvpB,EAAKmW,OAAO5F,OAGhB,GADAvQ,EAAK4a,kBAAkBxgC,MAAMoK,IAASA,EAAH,KAC9B+kC,EAIA,GAAKC,EAIL,CACD,MAAMC,EAAMC,KACZ,QAAY78C,IAAR48C,EACA,OACJ,MAAME,EAAYjmB,OAAOO,SAASC,KAAK6W,YACjC6O,EAAankC,KAAKI,IAAI,EAAG8jC,EAAY,EAAId,EAAgB,GACzDgB,EAAe,wCACfC,EAAc,uCACdC,EAAcN,EAAIO,SAASp9C,OAC3Bq9C,EAAc,SAAShB,EAAY9kC,sBACzC+tB,EAAYlS,EAAK4a,kBAAmB,aAAa,GACjD1I,EAAYlS,EAAK4a,kBAAmB,cAAc,GAClD6O,EAAIS,WAAW,GAAGL,KAAgBC,IAAcG,IAAeF,GAC/D/pB,EAAK4a,kBAAkBxgC,MAAM+J,KAAUylC,EAAH,KACpC5pB,EAAK4a,kBAAkBxgC,MAAMgK,MAAQ,YAjBrC4b,EAAK4a,kBAAkBxgC,MAAM+J,KAAO,OACpC6b,EAAK4a,kBAAkBxgC,MAAMgK,MAAWA,EAAH,UALrC4b,EAAK4a,kBAAkBxgC,MAAM+J,KAAUA,EAAH,KACpC6b,EAAK4a,kBAAkBxgC,MAAMgK,MAAQ,OAuB7C,SAASslC,KACL,IAAIS,EAAgB,KACpB,IAAK,IAAIj6C,EAAI,EAAGA,EAAI+zB,SAASmmB,YAAYx9C,OAAQsD,IAAK,CAClD,MAAMm6C,EAAQpmB,SAASmmB,YAAYl6C,GACnC,IACIm6C,EAAML,SAEV,MAAO9b,GACH,SAEJic,EAAgBE,EAChB,MAEJ,OAAwB,MAAjBF,EAAwBA,EAAgBG,KAEnD,SAASA,KACL,MAAMlwC,EAAQ6pB,SAASqO,cAAc,SAErC,OADArO,SAASsmB,KAAKpmB,YAAY/pB,GACnBA,EAAMiwC,MAEjB,SAAS/L,KACDte,EAAKmW,OAAOhH,YAAcnP,EAAKqW,WAEnCgI,IACAkF,KACApE,KAEJ,SAAS4G,KACL/lB,EAAKwb,OAAO3S,SACwC,IAAhDnF,OAAO0J,UAAUlP,UAAUmI,QAAQ,cACJx5B,IAA/BugC,UAAUod,iBACV3rB,WAAWmB,EAAKwkB,MAAO,GAGvBxkB,EAAKwkB,QAGb,SAAS9G,GAAW3d,GAChBA,EAAEyI,iBACFzI,EAAEuM,kBACF,MAAMme,EAAgBnW,GAAQA,EAAIlC,WAC9BkC,EAAIlC,UAAUxJ,SAAS,mBACtB0L,EAAIlC,UAAUxJ,SAAS,wBACvB0L,EAAIlC,UAAUxJ,SAAS,cACtB9I,EAAI4S,EAAWW,EAAetT,GAAI0qB,GACxC,QAAU59C,IAANizB,EACA,OACJ,MAAM7vB,EAAS6vB,EACT4qB,EAAgB1qB,EAAKqa,sBAAwB,IAAI1d,KAAK1sB,EAAO8jC,QAAQ1F,WACrEsc,GAAqBD,EAAa5U,WAAa9V,EAAKwZ,cACtDkR,EAAa5U,WACT9V,EAAKwZ,aAAexZ,EAAKmW,OAAO7F,WAAa,IAC5B,UAArBtQ,EAAKmW,OAAOnH,KAEhB,GADAhP,EAAKkgB,iBAAmBjwC,EACC,WAArB+vB,EAAKmW,OAAOnH,KACZhP,EAAKma,cAAgB,CAACuQ,QACrB,GAAyB,aAArB1qB,EAAKmW,OAAOnH,KAAqB,CACtC,MAAM4b,EAAgB3K,GAAeyK,GACjCE,EACA5qB,EAAKma,cAAc4J,OAAO5O,SAASyV,GAAgB,GAEnD5qB,EAAKma,cAAcrqC,KAAK46C,OAEF,UAArB1qB,EAAKmW,OAAOnH,OACiB,IAA9BhP,EAAKma,cAAcvtC,QACnBozB,EAAKmkB,OAAM,GAAO,GAEtBnkB,EAAKqa,sBAAwBqQ,EAC7B1qB,EAAKma,cAAcrqC,KAAK46C,GACwC,IAA5D3S,EAAa2S,EAAc1qB,EAAKma,cAAc,IAAI,IAClDna,EAAKma,cAAczlB,KAAK,CAACG,EAAGC,IAAMD,EAAEwZ,UAAYvZ,EAAEuZ,YAG1D,GADAoN,IACIkP,EAAmB,CACnB,MAAMrF,EAAYtlB,EAAK0Z,cAAgBgR,EAAa/b,cACpD3O,EAAK0Z,YAAcgR,EAAa/b,cAChC3O,EAAKwZ,aAAekR,EAAa5U,WAC7BwP,IACA7K,GAAa,gBACb4D,KAEJ5D,GAAa,iBAejB,GAbA8I,KACApE,IACAlX,KACK0iB,GACoB,UAArB3qB,EAAKmW,OAAOnH,MACe,IAA3BhP,EAAKmW,OAAO7F,gBAEmBzjC,IAA1BmzB,EAAKkgB,uBACWrzC,IAArBmzB,EAAK6b,aACL7b,EAAKkgB,kBAAoBlgB,EAAKkgB,iBAAiBrX,QAH/CwX,EAAepwC,QAKMpD,IAArBmzB,EAAK6b,kBACgBhvC,IAArBmzB,EAAK6b,aAA6B7b,EAAK6b,YAAYhT,QACnD7I,EAAKmW,OAAO/Q,cAAe,CAC3B,MAAMylB,EAA8B,WAArB7qB,EAAKmW,OAAOnH,OAAsBhP,EAAKmW,OAAOnI,WACvDttB,EAA6B,UAArBsf,EAAKmW,OAAOnH,MACQ,IAA9BhP,EAAKma,cAAcvtC,SAClBozB,EAAKmW,OAAOnI,YACb6c,GAAUnqC,IACVqlC,KAGRjJ,IA3/CJ9c,EAAKmX,UAAYT,EAAiB,CAAEP,OAAQnW,EAAKmW,OAAQC,KAAMpW,EAAKoW,OACpEpW,EAAK4c,UAAY,GACjB5c,EAAKkmB,eAAiB,GACtBlmB,EAAK8qB,cAAgB,GACrB9qB,EAAK+qB,MAAQpsB,EACbqB,EAAKgrB,kBAAoB5Q,EACzBpa,EAAKirB,kBAAoBzQ,GACzBxa,EAAKihB,YAAcA,GACnBjhB,EAAKyc,WAAaA,GAClBzc,EAAKmkB,MAAQA,GACbnkB,EAAKwkB,MAAQA,GACbxkB,EAAKkrB,eAAiB5Y,EACtBtS,EAAKykB,QAAUA,GACfzkB,EAAK6f,UAAYA,GACjB7f,EAAK+d,WAAaA,EAClB/d,EAAKmH,KAAOA,GACZnH,EAAKse,OAASA,GACdte,EAAK2nB,IAAMA,GACX3nB,EAAKuO,QAAUA,GACfvO,EAAKyD,OAASA,GA0+Cd,MAAM0nB,GAAY,CACdrc,OAAQ,CAACgL,GAAagK,IACtBxT,WAAY,CAACyS,EAAazI,EAAkB4E,IAC5C1G,QAAS,CAACuF,GACVnF,QAAS,CAACmF,GACVxQ,WAAY,CACR,MACmC,IAA3BvN,EAAKmW,OAAO5I,YACZ5O,EAAKqB,EAAKwb,OAAQ,QAASxb,EAAKmH,MAChCxI,EAAKqB,EAAKwb,OAAQ,QAASxb,EAAKmH,QAGhCnH,EAAKwb,OAAOqB,oBAAoB,QAAS7c,EAAKmH,MAC9CnH,EAAKwb,OAAOqB,oBAAoB,QAAS7c,EAAKmH,UAK9D,SAASwgB,GAAIl7C,EAAQK,GACjB,GAAe,OAAXL,GAAqC,kBAAXA,EAAqB,CAC/C8C,OAAO4pC,OAAOnZ,EAAKmW,OAAQ1pC,GAC3B,IAAK,MAAMC,KAAOD,OACSI,IAAnBs+C,GAAUz+C,IACVy+C,GAAUz+C,GAAK0D,QAAS+1C,GAAMA,UAItCnmB,EAAKmW,OAAO1pC,GAAUK,OACID,IAAtBs+C,GAAU1+C,GACV0+C,GAAU1+C,GAAQ2D,QAAS+1C,GAAMA,KAC5BvZ,EAAMvG,QAAQ55B,IAAW,IAC9BuzB,EAAKmW,OAAO1pC,GAAUwlC,EAASnlC,IAEvCkzB,EAAKse,SACLrW,IAAY,GAEhB,SAASmjB,GAAgBC,EAAWl9B,GAChC,IAAIxD,EAAQ,GACZ,GAAI0gC,aAAqBx9B,MACrBlD,EAAQ0gC,EAAUh+C,IAAKizB,GAAMN,EAAKmX,UAAU7W,EAAGnS,SAC9C,GAAIk9B,aAAqB1uB,MAA6B,kBAAd0uB,EACzC1gC,EAAQ,CAACqV,EAAKmX,UAAUkU,EAAWl9B,SAClC,GAAyB,kBAAdk9B,EACZ,OAAQrrB,EAAKmW,OAAOnH,MAChB,IAAK,SACL,IAAK,OACDrkB,EAAQ,CAACqV,EAAKmX,UAAUkU,EAAWl9B,IACnC,MACJ,IAAK,WACDxD,EAAQ0gC,EACHzlC,MAAMoa,EAAKmW,OAAO3I,aAClBngC,IAAKoK,GAASuoB,EAAKmX,UAAU1/B,EAAM0W,IACxC,MACJ,IAAK,QACDxD,EAAQ0gC,EACHzlC,MAAMoa,EAAKoW,KAAKnF,gBAChB5jC,IAAKoK,GAASuoB,EAAKmX,UAAU1/B,EAAM0W,IACxC,MACJ,QACI,WAIR6R,EAAKmW,OAAOlI,aAAa,IAAIh4B,MAAM,0BAA0BuuB,KAAKC,UAAU4mB,KAChFrrB,EAAKma,cAAiBna,EAAKmW,OAAOpJ,oBAC5BpiB,EACAA,EAAMjb,OAAQ4wB,GAAMA,aAAa3D,MAAQkjB,GAAUvf,GAAG,IACnC,UAArBN,EAAKmW,OAAOnH,MACZhP,EAAKma,cAAczlB,KAAK,CAACG,EAAGC,IAAMD,EAAEwZ,UAAYvZ,EAAEuZ,WAE1D,SAASE,GAAQ92B,EAAMqlC,GAAgB,EAAO3uB,EAAS6R,EAAKmW,OAAO1I,YAC/D,GAAc,IAATh2B,IAAeA,GAAUA,aAAgBoW,OAAyB,IAAhBpW,EAAK7K,OACxD,OAAOozB,EAAKmkB,MAAMrH,GACtBsO,GAAgB3zC,EAAM0W,GACtB6R,EAAKqa,sBACDra,EAAKma,cAAcna,EAAKma,cAAcvtC,OAAS,GACnDozB,EAAKse,SACLP,OAAWlxC,EAAWiwC,GACtB1C,IACkC,IAA9Bpa,EAAKma,cAAcvtC,QACnBozB,EAAKmkB,OAAM,GAEflc,GAAY6U,GACRA,GACArC,GAAa,YAErB,SAASmN,GAAenR,GACpB,OAAOA,EACFtY,QACA9wB,IAAKi+C,GACc,kBAATA,GACS,kBAATA,GACPA,aAAgB3uB,KACTqD,EAAKmX,UAAUmU,OAAMz+C,GAAW,GAElCy+C,GACW,kBAATA,GACPA,EAAKp6C,MACLo6C,EAAK3F,GACE,CACHz0C,KAAM8uB,EAAKmX,UAAUmU,EAAKp6C,UAAMrE,GAChC84C,GAAI3lB,EAAKmX,UAAUmU,EAAK3F,QAAI94C,IAE7By+C,GAEN57C,OAAQy2C,GAAMA,GAEvB,SAASnM,KACLha,EAAKma,cAAgB,GACrBna,EAAKoP,IAAMpP,EAAKmX,UAAUnX,EAAKmW,OAAO/G,MAAQ,IAAIzS,KAClD,MAAM4uB,EAAgBvrB,EAAKmW,OAAOgF,cACJ,UAAxBnb,EAAK6K,MAAM2gB,UACe,aAAxBxrB,EAAK6K,MAAM2gB,WACXxrB,EAAK6K,MAAM5F,aACXjF,EAAK6K,MAAM/9B,QAAUkzB,EAAK6K,MAAM5F,YAE9BjF,EAAK6K,MAAM/9B,MADX,MAENy+C,GACAH,GAAgBG,EAAevrB,EAAKmW,OAAO1I,YAC/CzN,EAAKukB,aACDvkB,EAAKma,cAAcvtC,OAAS,EACtBozB,EAAKma,cAAc,GACnBna,EAAKmW,OAAOqC,SACVxY,EAAKmW,OAAOqC,QAAQnK,UAAYrO,EAAKoP,IAAIf,UACvCrO,EAAKmW,OAAOqC,QACZxY,EAAKmW,OAAOyC,SACV5Y,EAAKmW,OAAOyC,QAAQvK,UAAYrO,EAAKoP,IAAIf,UACvCrO,EAAKmW,OAAOyC,QACZ5Y,EAAKoP,IACvBpP,EAAK0Z,YAAc1Z,EAAKukB,aAAa5V,cACrC3O,EAAKwZ,aAAexZ,EAAKukB,aAAazO,WAClC9V,EAAKma,cAAcvtC,OAAS,IAC5BozB,EAAKqa,sBAAwBra,EAAKma,cAAc,SACxBttC,IAAxBmzB,EAAKmW,OAAO8F,UACZjc,EAAKmW,OAAO8F,QAAUjc,EAAKmX,UAAUnX,EAAKmW,OAAO8F,QAAS,aAClCpvC,IAAxBmzB,EAAKmW,OAAOiG,UACZpc,EAAKmW,OAAOiG,QAAUpc,EAAKmX,UAAUnX,EAAKmW,OAAOiG,QAAS,QAC9Dpc,EAAKkc,iBACClc,EAAKmW,OAAOqC,UACTxY,EAAKmW,OAAOqC,QAAQhE,WAAa,GAC9BxU,EAAKmW,OAAOqC,QAAQxC,aAAe,GACnChW,EAAKmW,OAAOqC,QAAQzC,aAAe,GAC/C/V,EAAKqc,iBACCrc,EAAKmW,OAAOyC,UACT5Y,EAAKmW,OAAOyC,QAAQpE,WAAa,GAC9BxU,EAAKmW,OAAOyC,QAAQ5C,aAAe,GACnChW,EAAKmW,OAAOyC,QAAQ7C,aAAe,GAEnD,SAASgE,KACL/Z,EAAK6K,MAAQ0d,KACRvoB,EAAK6K,OAIV7K,EAAK6K,MAAM8Z,MAAQ3kB,EAAK6K,MAAM/7B,KAC9BkxB,EAAK6K,MAAM/7B,KAAO,OAClBkxB,EAAK6K,MAAMuH,UAAU1W,IAAI,mBACzBsE,EAAKwb,OAASxb,EAAK6K,MACf7K,EAAKmW,OAAOlJ,WACZjN,EAAKiN,SAAWqF,EAActS,EAAK6K,MAAM2gB,SAAUxrB,EAAKmW,OAAOjJ,eAC/DlN,EAAKwb,OAASxb,EAAKiN,SACnBjN,EAAKiN,SAAShI,YAAcjF,EAAK6K,MAAM5F,YACvCjF,EAAKiN,SAAS//B,SAAW8yB,EAAK6K,MAAM39B,SACpC8yB,EAAKiN,SAASz5B,SAAWwsB,EAAK6K,MAAMr3B,SACpCwsB,EAAKiN,SAAS4R,SAAW7e,EAAK6K,MAAMgU,SACpC7e,EAAKiN,SAASn+B,KAAO,OACrBkxB,EAAK6K,MAAMuI,aAAa,OAAQ,WAC3BpT,EAAKmW,OAAO5F,QAAUvQ,EAAK6K,MAAMxG,YAClCrE,EAAK6K,MAAMxG,WAAWmb,aAAaxf,EAAKiN,SAAUjN,EAAK6K,MAAM4U,cAEhEzf,EAAKmW,OAAOrJ,YACb9M,EAAKwb,OAAOpI,aAAa,WAAY,YACzCpT,EAAKinB,iBAAmBjnB,EAAKmW,OAAOhG,iBAAmBnQ,EAAKwb,QArBxDxb,EAAKmW,OAAOlI,aAAa,IAAIh4B,MAAM,oCAuB3C,SAASgnC,KACL,MAAMwO,EAAYzrB,EAAKmW,OAAOnI,WACxBhO,EAAKmW,OAAOhH,WACR,OACA,iBACJ,OACNnP,EAAKskB,YAAchS,EAAc,QAAStS,EAAK6K,MAAMx1B,UAAY,qBACjE2qB,EAAKskB,YAAYzF,SAAW,EAC5B7e,EAAKskB,YAAYx1C,KAAO28C,EACxBzrB,EAAKskB,YAAYp3C,SAAW8yB,EAAK6K,MAAM39B,SACvC8yB,EAAKskB,YAAY9wC,SAAWwsB,EAAK6K,MAAMr3B,SACvCwsB,EAAKskB,YAAYrf,YAAcjF,EAAK6K,MAAM5F,YAC1CjF,EAAK0rB,gBACa,mBAAdD,EACM,gBACc,SAAdA,EACI,QACA,QACVzrB,EAAKma,cAAcvtC,OAAS,IAC5BozB,EAAKskB,YAAYqH,aAAe3rB,EAAKskB,YAAYx3C,MAAQkzB,EAAKwW,WAAWxW,EAAKma,cAAc,GAAIna,EAAK0rB,kBAErG1rB,EAAKmW,OAAOqC,UACZxY,EAAKskB,YAAYryB,IAAM+N,EAAKwW,WAAWxW,EAAKmW,OAAOqC,QAAS,UAC5DxY,EAAKmW,OAAOyC,UACZ5Y,EAAKskB,YAAYz+B,IAAMma,EAAKwW,WAAWxW,EAAKmW,OAAOyC,QAAS,UAC5D5Y,EAAK6K,MAAM+Y,aAAa,UACxB5jB,EAAKskB,YAAYsH,KAAO5+C,OAAOgzB,EAAK6K,MAAM+Y,aAAa,UAC3D5jB,EAAK6K,MAAM/7B,KAAO,cACIjC,IAAlBmzB,EAAKiN,WACLjN,EAAKiN,SAASn+B,KAAO,UACzB,IACQkxB,EAAK6K,MAAMxG,YACXrE,EAAK6K,MAAMxG,WAAWmb,aAAaxf,EAAKskB,YAAatkB,EAAK6K,MAAM4U,aAExE,MAAOnrC,IACPqqB,EAAKqB,EAAKskB,YAAa,SAAWvkB,IAC9BC,EAAKuO,QAAQ8E,EAAetT,GAAGjzB,OAAO,EAAOkzB,EAAK0rB,iBAClDjR,GAAa,YACbA,GAAa,aAGrB,SAAShX,GAAO1D,GACZ,IAAoB,IAAhBC,EAAK4Z,OACL,OAAO5Z,EAAKwkB,QAChBxkB,EAAKmH,KAAKpH,GAEd,SAAS0a,GAAazoC,EAAOQ,GACzB,QAAoB3F,IAAhBmzB,EAAKmW,OACL,OACJ,MAAM0V,EAAQ7rB,EAAKmW,OAAOnkC,GAC1B,QAAcnF,IAAVg/C,GAAuBA,EAAMj/C,OAAS,EACtC,IAAK,IAAIsD,EAAI,EAAG27C,EAAM37C,IAAMA,EAAI27C,EAAMj/C,OAAQsD,IAC1C27C,EAAM37C,GAAG8vB,EAAKma,cAAena,EAAK6K,MAAM/9B,MAAOkzB,EAAMxtB,GAE/C,aAAVR,IACAguB,EAAK6K,MAAM6T,cAAcD,GAAY,WACrCze,EAAK6K,MAAM6T,cAAcD,GAAY,WAG7C,SAASA,GAAYlxC,GACjB,MAAMwyB,EAAIkE,SAASwa,YAAY,SAE/B,OADA1e,EAAE+rB,UAAUv+C,GAAM,GAAM,GACjBwyB,EAEX,SAASkgB,GAAexoC,GACpB,IAAK,IAAIvH,EAAI,EAAGA,EAAI8vB,EAAKma,cAAcvtC,OAAQsD,IAC3C,GAAkD,IAA9C6nC,EAAa/X,EAAKma,cAAcjqC,GAAIuH,GACpC,MAAO,GAAKvH,EAEpB,OAAO,EAEX,SAASiwC,GAAc1oC,GACnB,QAAyB,UAArBuoB,EAAKmW,OAAOnH,MAAoBhP,EAAKma,cAAcvtC,OAAS,KAExDmrC,EAAatgC,EAAMuoB,EAAKma,cAAc,KAAO,GACjDpC,EAAatgC,EAAMuoB,EAAKma,cAAc,KAAO,GAErD,SAASoJ,KACDvjB,EAAKmW,OAAOhH,YAAcnP,EAAKqW,WAAarW,EAAKwd,WAErDxd,EAAKijB,aAAa7yC,QAAQ,CAACyyC,EAAa3yC,KACpC,MAAMowB,EAAI,IAAI3D,KAAKqD,EAAK0Z,YAAa1Z,EAAKwZ,aAAc,GACxDlZ,EAAE2T,SAASjU,EAAKwZ,aAAetpC,GAC3B8vB,EAAKmW,OAAO7F,WAAa,GACS,WAAlCtQ,EAAKmW,OAAOlH,kBACZjP,EAAKkjB,cAAchzC,GAAGqiC,YAClBmB,EAAWpT,EAAEwV,WAAY9V,EAAKmW,OAAO9F,sBAAuBrQ,EAAKoW,MAAQ,IAG7EpW,EAAKoiB,wBAAwBt1C,MAAQwzB,EAAEwV,WAAW5U,WAEtD2hB,EAAY/1C,MAAQwzB,EAAEqO,cAAczN,aAExClB,EAAKikB,yBACuBp3C,IAAxBmzB,EAAKmW,OAAOqC,UACPxY,EAAK0Z,cAAgB1Z,EAAKmW,OAAOqC,QAAQ7J,cACpC3O,EAAKwZ,cAAgBxZ,EAAKmW,OAAOqC,QAAQ1C,WACzC9V,EAAK0Z,YAAc1Z,EAAKmW,OAAOqC,QAAQ7J,eACrD3O,EAAKkkB,yBACuBr3C,IAAxBmzB,EAAKmW,OAAOyC,UACP5Y,EAAK0Z,cAAgB1Z,EAAKmW,OAAOyC,QAAQjK,cACpC3O,EAAKwZ,aAAe,EAAIxZ,EAAKmW,OAAOyC,QAAQ9C,WAC5C9V,EAAK0Z,YAAc1Z,EAAKmW,OAAOyC,QAAQjK,gBAEzD,SAASod,GAAW59B,GAChB,OAAO6R,EAAKma,cACP9sC,IAAK2+C,GAAShsB,EAAKwW,WAAWwV,EAAM79B,IACpCze,OAAO,CAAC4wB,EAAGpwB,EAAGumC,IAA6B,UAArBzW,EAAKmW,OAAOnH,MACnChP,EAAKmW,OAAOnI,YACZyI,EAAIpQ,QAAQ/F,KAAOpwB,GAClBoF,KAA0B,UAArB0qB,EAAKmW,OAAOnH,KAChBhP,EAAKmW,OAAO3I,YACZxN,EAAKoW,KAAKnF,gBAEpB,SAAShJ,GAAY6U,GAAgB,QACRjwC,IAArBmzB,EAAKskB,aAA6BtkB,EAAK0rB,kBACvC1rB,EAAKskB,YAAYx3C,WACkBD,IAA/BmzB,EAAKqa,sBACCra,EAAKwW,WAAWxW,EAAKqa,sBAAuBra,EAAK0rB,iBACjD,IAEd1rB,EAAK6K,MAAM/9B,MAAQi/C,GAAW/rB,EAAKmW,OAAO1I,iBACpB5gC,IAAlBmzB,EAAKiN,WACLjN,EAAKiN,SAASngC,MAAQi/C,GAAW/rB,EAAKmW,OAAOnJ,aAE3B,IAAlB8P,GACArC,GAAa,iBAErB,SAASgD,GAAgB1d,GACrB,MAAMwc,EAAclJ,EAAetT,GAC7BksB,EAAcjsB,EAAKgjB,aAAapa,SAAS2T,GACzC2P,EAAclsB,EAAKmjB,aAAava,SAAS2T,GAC3C0P,GAAeC,EACfjL,GAAYgL,GAAe,EAAI,GAE1BjsB,EAAKijB,aAAa5c,QAAQkW,IAAgB,EAC/CA,EAAYta,SAEPsa,EAAYnK,UAAUxJ,SAAS,WACpC5I,EAAKyc,WAAWzc,EAAK0Z,YAAc,GAE9B6C,EAAYnK,UAAUxJ,SAAS,cACpC5I,EAAKyc,WAAWzc,EAAK0Z,YAAc,GAG3C,SAAS4B,GAAYvb,GACjBA,EAAEyI,iBACF,MAAM2jB,EAAuB,YAAXpsB,EAAEjxB,KAAoBytC,EAAclJ,EAAetT,GAAI8K,EAAQ0R,OAC/D1vC,IAAdmzB,EAAKqR,MAAsBkL,IAAgBvc,EAAKqR,OAChDrR,EAAKqR,KAAKkB,YACNvS,EAAKoW,KAAK/E,KAAK,EAAIrR,EAAKqR,KAAKkB,cAAgBvS,EAAKoW,KAAK/E,KAAK,MAEpE,MAAMpf,EAAMkiB,WAAWtJ,EAAM+Y,aAAa,QAAS/9B,EAAMsuB,WAAWtJ,EAAM+Y,aAAa,QAASgI,EAAOzX,WAAWtJ,EAAM+Y,aAAa,SAAUwI,EAAWjX,SAAStK,EAAM/9B,MAAO,IAAK0vC,EAAQzc,EAAEyc,QAC1L2P,EAAyB,KAAZpsB,EAAEssB,MAAe,GAAK,EAAK,GAC7C,IAAIh7C,EAAW+6C,EAAWR,EAAOpP,EACjC,GAA2B,qBAAhB3R,EAAM/9B,OAAgD,IAAvB+9B,EAAM/9B,MAAMF,OAAc,CAChE,MAAM0/C,EAAazhB,IAAU7K,EAAK6b,YAAa0Q,EAAe1hB,IAAU7K,EAAK8b,cACzEzqC,EAAW4gB,GACX5gB,EACIwU,EACIxU,EACA,GAAKi7C,IACJ,EAAIA,IAAe,GAAKtsB,EAAKqR,OAClCkb,GACAhO,OAAkB1xC,GAAY,EAAGmzB,EAAK6b,cAErCxqC,EAAWwU,IAChBxU,EACIw5B,IAAU7K,EAAK6b,YAAcxqC,EAAWwU,EAAM,GAAKma,EAAKqR,MAAQpf,EAChEs6B,GACAhO,OAAkB1xC,EAAW,EAAGmzB,EAAK6b,cAEzC7b,EAAKqR,MACLib,IACU,IAATV,EACKv6C,EAAW+6C,IAAa,GACxB3mC,KAAKu7B,IAAI3vC,EAAW+6C,GAAYR,KACtC5rB,EAAKqR,KAAKkB,YACNvS,EAAKoW,KAAK/E,KAAK,EAAIrR,EAAKqR,KAAKkB,cAAgBvS,EAAKoW,KAAK/E,KAAK,MAEpExG,EAAM/9B,MAAQ4kC,EAAIrgC,IAI1B,OADAsoC,IACO3Z,EAEX,SAASwsB,EAAWC,EAAUtW,GAC1B,MAAMlyB,EAAQ4J,MAAM3Z,UAAUiqB,MACzBpd,KAAK0rC,GACL/8C,OAAQy2C,GAAMA,aAAauG,aAC1BC,EAAY,GAClB,IAAK,IAAIz8C,EAAI,EAAGA,EAAI+T,EAAMrX,OAAQsD,IAAK,CACnC,MAAMwlB,EAAOzR,EAAM/T,GACnB,IACI,GAA0C,OAAtCwlB,EAAKkuB,aAAa,gBAClB,cACoB/2C,IAApB6oB,EAAK82B,aACL92B,EAAK82B,WAAW/H,UAChB/uB,EAAK82B,gBAAa3/C,GAEtB6oB,EAAK82B,WAAaxT,EAAkBtjB,EAAMygB,GAAU,IACpDwW,EAAU78C,KAAK4lB,EAAK82B,YAExB,MAAOzsB,GACH0F,QAAQ+N,MAAMzT,IAGtB,OAA4B,IAArB4sB,EAAU//C,OAAe+/C,EAAU,GAAKA,EAExB,qBAAhBD,aACmB,qBAAnBE,gBACa,qBAAbC,WACPD,eAAe14C,UAAUklC,UAAYyT,SAAS34C,UAAUklC,UAAY,SAAUjD,GAC1E,OAAOqW,EAAWngD,KAAM8pC,IAE5BuW,YAAYx4C,UAAUklC,UAAY,SAAUjD,GACxC,OAAOqW,EAAW,CAACngD,MAAO8pC,KAGlC,IAAIiD,EAAY,SAAU0T,EAAU3W,GAChC,MAAwB,kBAAb2W,EACAN,EAAW9oB,OAAOO,SAAS+Y,iBAAiB8P,GAAW3W,GAEzD2W,aAAoBC,KAClBP,EAAW,CAACM,GAAW3W,GAGvBqW,EAAWM,EAAU3W,IAGpCiD,EAAUC,cAAgB,GAC1BD,EAAUoP,MAAQ,CACdwE,GAAIz9C,OAAO4pC,OAAO,GAAI,GACtBpqC,QAASQ,OAAO4pC,OAAO,GAAI,IAE/BC,EAAU6T,SAAY7W,IAClBgD,EAAUoP,MAAMz5C,QAAUQ,OAAO4pC,OAAO5pC,OAAO4pC,OAAO,GAAIC,EAAUoP,MAAMz5C,SAAUqnC,IAExFgD,EAAU8T,YAAe/W,IACrBiD,EAAUC,cAAgB9pC,OAAO4pC,OAAO5pC,OAAO4pC,OAAO,GAAIC,EAAUC,eAAgBlD,IAExFiD,EAAUjC,UAAYT,EAAiB,IACvC0C,EAAU5C,WAAaN,EAAoB,IAC3CkD,EAAUrB,aAAeA,EACH,qBAAXoV,QAA+C,qBAAdA,OAAOrb,KAC/Cqb,OAAOrb,GAAGsH,UAAY,SAAUjD,GAC5B,OAAOqW,EAAWngD,KAAM8pC,KAGhCxZ,KAAKzoB,UAAUk5C,QAAU,SAAU1gC,GAC/B,OAAO,IAAIiQ,KAAKtwB,KAAKsiC,cAAetiC,KAAKypC,WAAYzpC,KAAKmiC,WAA6B,kBAAT9hB,EAAoByoB,SAASzoB,EAAM,IAAMA,KAErG,qBAAXgX,SACPA,OAAO0V,UAAYA,GAER,gB,oCCt7Dc,oBAAlB7pC,OAAO4pC,SACd5pC,OAAO4pC,OAAS,SAAUlpC,KAAW4mB,GACjC,IAAK5mB,EACD,MAAMkxB,UAAU,8CAEpB,IAAK,MAAMhxB,KAAU0mB,EACb1mB,GACAZ,OAAOD,KAAKa,GAAQC,QAAS1D,GAASuD,EAAOvD,GAAOyD,EAAOzD,IAGnE,OAAOuD,K,uBCXfhB,EAAOC,QAAU,IAA0B,0C,6DCA3C;;;;;;;;;;;;;;;AAgBA,IAAIm+C,EAAgB,SAAS/sB,EAAGxL,GAI5B,OAHAu4B,EAAgB99C,OAAO+9C,gBAClB,CAAEC,UAAW,cAAgB1/B,OAAS,SAAUyS,EAAGxL,GAAKwL,EAAEitB,UAAYz4B,IACvE,SAAUwL,EAAGxL,GAAK,IAAK,IAAIgM,KAAKhM,EAAOvlB,OAAO2E,UAAU2sB,eAAe9f,KAAK+T,EAAGgM,KAAIR,EAAEQ,GAAKhM,EAAEgM,KACzFusB,EAAc/sB,EAAGxL,IAGrB,SAAS04B,EAAUltB,EAAGxL,GACzB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIqM,UAAU,uBAAyBn0B,OAAO8nB,GAAK,iCAE7D,SAAS24B,IAAOphD,KAAK40B,YAAcX,EADnC+sB,EAAc/sB,EAAGxL,GAEjBwL,EAAEpsB,UAAkB,OAAN4gB,EAAavlB,OAAOqxB,OAAO9L,IAAM24B,EAAGv5C,UAAY4gB,EAAE5gB,UAAW,IAAIu5C,GAG5E,IAAIC,EAAW,WAQlB,OAPAA,EAAWn+C,OAAO4pC,QAAU,SAAkBrZ,GAC1C,IAAK,IAAIiB,EAAG7wB,EAAI,EAAG+vB,EAAItzB,UAAUC,OAAQsD,EAAI+vB,EAAG/vB,IAE5C,IAAK,IAAI4wB,KADTC,EAAIp0B,UAAUuD,GACA6wB,EAAOxxB,OAAO2E,UAAU2sB,eAAe9f,KAAKggB,EAAGD,KAAIhB,EAAEgB,GAAKC,EAAED,IAE9E,OAAOhB,GAEJ4tB,EAAS39C,MAAM1D,KAAMM,YAoEH4C,OAAOqxB,OAyD7B,SAAS+sB,EAAchI,EAAIz0C,EAAM08C,GACpC,GAAIA,GAA6B,IAArBjhD,UAAUC,OAAc,IAAK,IAA4BihD,EAAxB39C,EAAI,EAAGiwB,EAAIjvB,EAAKtE,OAAYsD,EAAIiwB,EAAGjwB,KACxE29C,GAAQ39C,KAAKgB,IACR28C,IAAIA,EAAKhgC,MAAM3Z,UAAUiqB,MAAMpd,KAAK7P,EAAM,EAAGhB,IAClD29C,EAAG39C,GAAKgB,EAAKhB,IAGrB,OAAOy1C,EAAG3yC,OAAO66C,GAAMhgC,MAAM3Z,UAAUiqB,MAAMpd,KAAK7P,IAsC7B3B,OAAOqxB,Q,0TCjNhC,SAASktB,EAAgBvyC,EAAUwyC,GAAe,KAAMxyC,aAAoBwyC,GAAgB,MAAM,IAAI5sB,UAAU,qCAEhH,SAAS6sB,EAAkB/9C,EAAQtE,GAAS,IAAK,IAAIuE,EAAI,EAAGA,EAAIvE,EAAMiB,OAAQsD,IAAK,CAAE,IAAI+9C,EAAatiD,EAAMuE,GAAI+9C,EAAWp+C,WAAao+C,EAAWp+C,aAAc,EAAOo+C,EAAWv9C,cAAe,EAAU,UAAWu9C,IAAYA,EAAWt9C,UAAW,GAAMpB,OAAOiB,eAAeP,EAAQg+C,EAAWvhD,IAAKuhD,IAE7S,SAASC,EAAaH,EAAaI,EAAYC,GAAmJ,OAAhID,GAAYH,EAAkBD,EAAY75C,UAAWi6C,GAAiBC,GAAaJ,EAAkBD,EAAaK,GAAqBL,EAuCzM,IAAIM,EAAqB,4BAErB,EAAkC,WACpC,SAASC,EAAmBjyC,EAAIvQ,EAASyiD,GACvCT,EAAgBzhD,KAAMiiD,GAEtBjiD,KAAKgQ,GAAKA,EACVhQ,KAAKmiD,SAAW1iD,EAAQ0iD,SACxBniD,KAAKoiD,OAAS3iD,EAAQ2iD,QAAU,EAChCpiD,KAAKqiD,KAAO5iD,EAAQ4iD,OAAQ,EAC5BriD,KAAKsiD,SAAW,KAChBtiD,KAAKuiD,aAAU/hD,EACfR,KAAKwiD,UAAW,EAEhBxiD,KAAKyiD,eAAeP,GAgFtB,OA7EAL,EAAaI,EAAoB,CAAC,CAChC5hD,IAAK,iBACLI,MAAO,SAAwByhD,GAC7B,IAAInhD,EAAQf,KASZ,GANIA,KAAKsiD,UAEPtiD,KAAK0iD,QAIH1iD,KAAKwiD,UAAa,eAAWxiD,KAAKmiD,UAAtC,CAMA,IAGEniD,KAAKsiD,SAAW,IAAIK,qBAAqB3iD,KAAKkyB,QAAQI,KAAKtyB,MAAO,CAEhE4iD,KAAM,KAENC,WAAY7iD,KAAKoiD,OAEjBU,UAAW,IAEb,MAAOC,GAKP,OAHA/iD,KAAKwiD,UAAW,EAChBxiD,KAAKsiD,cAAW9hD,OAChBR,KAAKmiD,SAAS,MAOhBD,EAAMh6C,QAAQ86C,WAAU,WACtB,gBAAU,WAGJjiD,EAAMuhD,UACRvhD,EAAMuhD,SAASW,QAAQliD,EAAMiP,aAOpC,CACD3P,IAAK,UACLI,MAAO,SAAiBuoB,GACtB,IAAInU,EAAQmU,EAAUA,EAAQ,GAAK,GAC/Bk6B,EAAiBpiD,QAAQ+T,EAAMquC,gBAAkBruC,EAAMsuC,kBAAoB,GAE3ED,IAAmBljD,KAAKuiD,UAC1BviD,KAAKuiD,QAAUW,EACfljD,KAAKmiD,SAASe,GAEVljD,KAAKqiD,MAAQriD,KAAKuiD,UACpBviD,KAAKwiD,UAAW,EAChBxiD,KAAK0iD,WAIV,CACDriD,IAAK,OACLI,MAAO,WAELT,KAAKsiD,UAAYtiD,KAAKsiD,SAASc,aAC/BpjD,KAAKsiD,SAAW,SAIbL,EA5F6B,GA+FlC7J,EAAU,SAAiBpoC,GAC7B,IAAIsyC,EAAWtyC,EAAGgyC,GAEdM,GAAYA,EAASI,MACvBJ,EAASI,cAGJ1yC,EAAGgyC,IAGR,EAAO,SAAchyC,EAAIqzC,EAAMnB,GACjC,IAAIzhD,EAAQ4iD,EAAK5iD,MACb6iD,EAAYD,EAAKC,UAEjB7jD,EAAU,CACZ2iD,OAAQ,MACRC,MAAM,EACNF,SAAU1hD,GAGZ,eAAK6iD,GAAWv/C,SAAQ,SAAUw/C,GAE5B,OAAUrkC,KAAKqkC,GACjB9jD,EAAQ2iD,OAAS,GAAGz7C,OAAO48C,EAAK,MACD,SAAtBA,EAAIxpB,gBACbt6B,EAAQ4iD,MAAO,MAInBjK,EAAQpoC,GAERA,EAAGgyC,GAAsB,IAAI,EAAmBhyC,EAAIvQ,EAASyiD,GAE7DlyC,EAAGgyC,GAAoBwB,eAAiB,eAAMF,IAI5C,EAAmB,SAA0BtzC,EAAIyzC,EAAOvB,GAC1D,IAAIzhD,EAAQgjD,EAAMhjD,MACdwE,EAAWw+C,EAAMx+C,SACjBq+C,EAAYG,EAAMH,UAKtBA,EAAY,eAAMA,IAGdtzC,GAAOvP,IAAUwE,GAAa+K,EAAGgyC,IAAwB,eAAWsB,EAAWtzC,EAAGgyC,GAAoBwB,iBAExG,EAAKxzC,EAAI,CACPvP,MAAOA,EACP6iD,UAAWA,GACVpB,IAKHnqB,EAAS,SAAgB/nB,GAE3BooC,EAAQpoC,IAIC0zC,EAAY,CACrBpxB,KAAM,EACNqxB,iBAAkB,EAClB5rB,OAAQA,GC/MV,SAASj1B,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAASU,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIvD,UAAUC,OAAQsD,IAAK,CAAE,IAAIC,EAAyB,MAAhBxD,UAAUuD,GAAavD,UAAUuD,GAAK,GAAQA,EAAI,EAAKf,EAAQI,OAAOY,IAAS,GAAMC,SAAQ,SAAU1D,GAAO2D,EAAgBJ,EAAQvD,EAAKyD,EAAOzD,OAAsB6C,OAAOe,0BAA6Bf,OAAOgB,iBAAiBN,EAAQV,OAAOe,0BAA0BH,IAAmBhB,EAAQI,OAAOY,IAASC,SAAQ,SAAU1D,GAAO6C,OAAOiB,eAAeP,EAAQvD,EAAK6C,OAAOK,yBAAyBO,EAAQzD,OAAe,OAAOuD,EAE7gB,SAASI,EAAgBI,EAAK/D,EAAKI,GAAiK,OAApJJ,KAAO+D,EAAOlB,OAAOiB,eAAeC,EAAK/D,EAAK,CAAEI,MAAOA,EAAO+C,YAAY,EAAMa,cAAc,EAAMC,UAAU,IAAkBF,EAAI/D,GAAOI,EAAgB2D,EAsBpM,IAAI,EAAQ,eAAsB,eAAST,EAAcA,EAAcA,EAAcA,EAAcA,EAAcA,EAAc,GAAIa,EAAA,MAAU,QAAmB,QAAgB,QAAiB,QAAgB,GAAI,CAC1No/C,QAAS,eAAS,QAElBC,aAAc,eAAS,QAAmB,GAE1CC,SAAU,eAAS,QAAmB,GACtCC,KAAM,eAAS,OAAyB,GAGxC/xB,KAAM,eAAS,OAAkB,WAC9B,QAGMgyB,EAA6B,aAAInkD,OAAO,CACjDqB,KAAM,OACNs3B,WAAY,CACV,YAAakrB,GAGfh/C,OAAQ,CAACu/C,EAAA,KAAgBz/C,EAAA,KAAS,OAAmB,OAAkB,OAAe,OAAgB,OAAe,OAAoB,QACzIlF,MAAO,EACP6G,KAAM,WACJ,MAAO,CACL+9C,WAAY,OAGhBpkD,SAAU,CACRqkD,cAAe,WACb,IAAIC,EAAS,CAGXC,QAASrkD,KAAKskD,cAAgBtkD,KAAK8jD,SAAW,OAAS,MAYzD,OATK9jD,KAAKskD,eAGRF,EAAOjrC,OAASnZ,KAAKkkD,WAGrBE,EAAOG,UAAY,UAGdH,GAETI,gBAAiB,WAIf,OAAO,OAAAC,EAAA,MAAQ,eAAUzkD,KAAK+jD,KAAM,GAAI,IAE1CW,gBAAiB,WACf,OAAO,OAAAD,EAAA,MAAQzkD,KAAKwkD,gBAAiB,eAAUxkD,KAAK4jD,QAAS,KAE/DU,aAAc,WAGZ,OAAOtkD,KAAKwkD,kBAAoBxkD,KAAK0kD,gBAAkB1kD,KAAKwkD,gBAAkB,MAEhFG,cAAe,WACb,IAAI9jD,EAAWb,KAAKa,SAChBsG,EAAWnH,KAAKmH,SACpB,MAAO,CACL3C,GAAIxE,KAAKuG,SACTrF,KAAMlB,KAAKkB,MAAQ,KACnB0jD,KAAM5kD,KAAK4kD,MAAQ,KACnB/jD,SAAUA,EACV+3B,YAAa54B,KAAK44B,aAAe,KACjCzxB,SAAUA,EACV8xB,aAAcj5B,KAAKi5B,cAAgB,KACnCiF,SAAUl+B,KAAKk+B,UAAYl+B,KAAK6kD,UAChCd,KAAM/jD,KAAKskD,aACXtyB,KAAMhyB,KAAKgyB,MAAQ,KACnB,gBAAiBhyB,KAAKmH,SAAW,OAAS,KAC1C,eAAgBnH,KAAKkH,sBAGzB49C,kBAAmB,WACjB,OAAOnhD,EAAcA,EAAc,GAAI3D,KAAK+kD,aAAc,GAAI,CAC5DvmB,MAAOx+B,KAAKglD,QACZC,OAAQjlD,KAAKgjC,SACb/G,KAAMj8B,KAAKyxC,WAIjB3sC,MAAO,CACLogD,WAAY,WACVllD,KAAKmlD,cAGTC,QAAS,WACPplD,KAAKmlD,aAEPjlD,QAAS,CAIPmlD,gBAAiB,SAAyB9C,GACpCA,GAGFviD,KAAKgjD,UAAUhjD,KAAKmlD,YAGxBA,UAAW,WACT,IAAIpkD,EAAQf,KAEZA,KAAKgjD,WAAU,WACb,gBAAU,WACRjiD,EAAMmjD,WAAanjD,EAAMukD,uBAM/BA,cAAe,WACb,GAAItlD,KAAKulD,YAAc,eAAOvlD,KAAKskD,cACjC,OAAO,KAGT,IAAIt0C,EAAKhQ,KAAKwlD,IAGd,IAAK,eAAUx1C,GACb,OAAO,KAIT,IAAIm0C,EAAgB,eAAMn0C,GAEtBy1C,EAAa,eAAQtB,EAAcsB,WAAY,GAE/CC,EAAS,eAAQvB,EAAcwB,eAAgB,GAAK,eAAQxB,EAAcyB,kBAAmB,GAC7FC,EAAU,eAAQ1B,EAAc2B,WAAY,GAAK,eAAQ3B,EAAc4B,cAAe,GAEtFjR,EAAS4Q,EAASG,EAElBt/B,EAAYk/B,EAAazlD,KAAKwkD,gBAAkB1P,EAEhDkR,EAAY,eAASh2C,EAAI,WAAam0C,EAAchrC,OAExD,eAASnJ,EAAI,SAAU,QACvB,IAAIi2C,EAAej2C,EAAGi2C,aAGtB,eAASj2C,EAAI,SAAUg2C,GAEvB,IAAIE,EAAc,OAAAzB,EAAA,OAASwB,EAAeJ,GAAWJ,EAAY,GAE7D1B,EAAO,OAAAU,EAAA,MAAQ,OAAAA,EAAA,MAAQyB,EAAalmD,KAAKwkD,iBAAkBxkD,KAAK0kD,iBAEhEvrC,EAAS,OAAAsrC,EAAA,MAAQ,OAAAA,EAAA,MAASV,EAAO0B,EAAa3Q,GAASvuB,GAG3D,OAAIvmB,KAAK6jD,cAAgB,eAAQmC,EAAW,GAAK7sC,EACxC6sC,EAIF,GAAGr/C,OAAOwS,EAAQ,QAG7BhY,OAAQ,SAAgByF,GACtB,OAAOA,EAAE,WAAY,CACnB/E,MAAO7B,KAAKmmD,cACZp4C,MAAO/N,KAAKmkD,cACZ3rB,WAAY,CAAC,CACXt3B,KAAM,YACNT,MAAOT,KAAKqlD,gBAEZ/B,UAAW,CACT,KAAO,KAGX5hD,MAAO1B,KAAK2kD,cACZ7iD,SAAU,CACRrB,MAAOT,KAAKklD,YAEdhjD,GAAIlC,KAAK8kD,kBACT/7C,IAAK,c,mCC5MX,IAAI4oB,EAAI,EAAQ,QACZy0B,EAAgB,EAAQ,QACxBC,EAAkB,EAAQ,QAC1BC,EAAsB,EAAQ,QAE9BC,EAAa,GAAGt9C,KAEhBu9C,EAAcJ,GAAiBljD,OAC/BujD,EAAgBH,EAAoB,OAAQ,KAIhD30B,EAAE,CAAE/tB,OAAQ,QAAS8iD,OAAO,EAAMn0B,OAAQi0B,IAAgBC,GAAiB,CACzEx9C,KAAM,SAAckuC,GAClB,OAAOoP,EAAW7xC,KAAK2xC,EAAgBrmD,WAAqBQ,IAAd22C,EAA0B,IAAMA,O,kCCflF;;;;;;AAQA,QAAOwP,qBAAuB,IAC9B,IAAIC,EAAmB,EACnBC,EAAc,EACdC,GAA6B,EAc7BC,EAAiC,WACjC,SAASA,EAAgBC,GACrB,IAAIjmD,EAAQf,KACZA,KAAKinD,UAAY,KAEjBjnD,KAAKygD,SAAW,GAChBzgD,KAAKknD,eAAiB,GACtBlnD,KAAKmnD,kBAAmB,EACxBnnD,KAAKonD,mBAAoB,EAEzBpnD,KAAKuN,YAAa,EAClBvN,KAAKqnD,iBAAkB,EACvBrnD,KAAKsnD,gBAAiB,EAGtBtnD,KAAKunD,gBAAkB,SAAUlX,GAC7B,IAAKtvC,EAAMymD,qBACPC,EAAqBpX,IACrBtvC,EAAM2mD,SAASrX,GAAK,CACpB,IAAIsX,EAAM5mD,EAAM6mD,qBAAqBvX,GAAI,GACzCtvC,EAAM8mD,QAAQC,QAAQ,cAAeH,GACrC5mD,EAAMgnD,gBAAgBJ,GACjB5mD,EAAMomD,kBACPvvB,SAAS0Y,iBAAiB,YAAavvC,EAAMinD,iBAEjDpwB,SAAS0Y,iBAAiB,UAAWvvC,EAAMknD,iBAGnDjoD,KAAKgoD,gBAAkB,SAAU3X,GAC7B,IAAIsX,EAAM5mD,EAAM6mD,qBAAqBvX,GACrCtvC,EAAMmnD,aAAaP,GACnB5mD,EAAM8mD,QAAQC,QAAQ,cAAeH,IAEzC3nD,KAAKioD,cAAgB,SAAU5X,GAC3BzY,SAAS4Y,oBAAoB,YAAazvC,EAAMinD,iBAChDpwB,SAAS4Y,oBAAoB,UAAWzvC,EAAMknD,eAC9ClnD,EAAM8mD,QAAQC,QAAQ,YAAa/mD,EAAM6mD,qBAAqBvX,IAC9DtvC,EAAMonD,WAIVnoD,KAAKooD,iBAAmB,SAAU/X,GAC9B,GAAItvC,EAAM2mD,SAASrX,GAAK,CACpBtvC,EAAMsmD,iBAAkB,EACxB,IAAIM,EAAM5mD,EAAMsnD,qBAAqBhY,GAAI,GACzCtvC,EAAM8mD,QAAQC,QAAQ,cAAeH,GACrC5mD,EAAMgnD,gBAAgBJ,GAGtB,IAAIW,EAAWjY,EAAGzsC,OACb7C,EAAMomD,kBACPmB,EAAShY,iBAAiB,YAAavvC,EAAMwnD,iBAEjDD,EAAShY,iBAAiB,WAAYvvC,EAAMynD,gBAC5CF,EAAShY,iBAAiB,cAAevvC,EAAMynD,gBAI/CnxB,OAAOiZ,iBAAiB,SAAUvvC,EAAM0nD,mBAAmB,KAGnEzoD,KAAKuoD,gBAAkB,SAAUlY,GAC7B,IAAIsX,EAAM5mD,EAAMsnD,qBAAqBhY,GACrCtvC,EAAMmnD,aAAaP,GACnB5mD,EAAM8mD,QAAQC,QAAQ,cAAeH,IAEzC3nD,KAAKwoD,eAAiB,SAAUnY,GAC5B,GAAItvC,EAAMwM,WAAY,CAClB,IAAI+6C,EAAWjY,EAAGzsC,OAClB0kD,EAAS9X,oBAAoB,YAAazvC,EAAMwnD,iBAChDD,EAAS9X,oBAAoB,WAAYzvC,EAAMynD,gBAC/CF,EAAS9X,oBAAoB,cAAezvC,EAAMynD,gBAClDnxB,OAAOmZ,oBAAoB,SAAUzvC,EAAM0nD,mBAAmB,GAC9D1nD,EAAM8mD,QAAQC,QAAQ,YAAa/mD,EAAMsnD,qBAAqBhY,IAC9DtvC,EAAMonD,UACNpnD,EAAMsmD,iBAAkB,EACxBqB,MAGR1oD,KAAKyoD,kBAAoB,WACrB1nD,EAAMumD,gBAAiB,GAE3BtnD,KAAK2oD,aAAe,SAAUtY,GAC1B,IAAKtvC,EAAMomD,iBAAkB,CACzB,IAAIyB,EAASvxB,OAAOE,YAAcx2B,EAAM8nD,YAAe9nD,EAAM+nD,UACzDC,EAAS1xB,OAAOI,YAAc12B,EAAMioD,YAAejoD,EAAMkoD,UAC7DloD,EAAM8mD,QAAQC,QAAQ,cAAe,CACjCoB,UAAW7Y,EACX8Y,QAASpoD,EAAMsmD,gBACfJ,UAAWlmD,EAAMkmD,UACjB2B,MAAOA,EACPG,MAAOA,EACPK,OAAQR,EAAQ7nD,EAAMsoD,UACtBC,OAAQP,EAAQhoD,EAAMwoD,cAIlCvpD,KAAKgnD,YAAcA,EACnBhnD,KAAK6nD,QAAU,IAAI,OACnBb,EAAY1W,iBAAiB,YAAatwC,KAAKunD,iBAC/CP,EAAY1W,iBAAiB,aAActwC,KAAKooD,iBAAkB,CAAEoB,SAAS,IAC7EC,IAyHJ,OAvHA1C,EAAgBl/C,UAAUuwC,QAAU,WAChCp4C,KAAKgnD,YAAYxW,oBAAoB,YAAaxwC,KAAKunD,iBACvDvnD,KAAKgnD,YAAYxW,oBAAoB,aAAcxwC,KAAKooD,iBAAkB,CAAEoB,SAAS,IACrFE,KAEJ3C,EAAgBl/C,UAAU6/C,SAAW,SAAUrX,GAC3C,IAAI4W,EAAYjnD,KAAK2pD,eAAetZ,GAChCuZ,EAASvZ,EAAGzsC,OAChB,SAAIqjD,GACEjnD,KAAKknD,iBAAkB,gBAAe0C,EAAQ5pD,KAAKknD,mBACrDlnD,KAAKinD,UAAYA,EACjBjnD,KAAKuN,YAAa,EAClBvN,KAAKsnD,gBAAiB,GACf,IAIfP,EAAgBl/C,UAAUsgD,QAAU,WAChCrB,GAA6B,EAC7B9mD,KAAKuN,YAAa,EAClBvN,KAAKinD,UAAY,KAEjBjnD,KAAK6pD,sBAET9C,EAAgBl/C,UAAU8hD,eAAiB,SAAUtZ,GACjD,OAAIrwC,KAAKygD,SACE,gBAAepQ,EAAGzsC,OAAQ5D,KAAKygD,UAEnCzgD,KAAKgnD,aAEhBD,EAAgBl/C,UAAU2/C,kBAAoB,WAC1C,OAAOZ,GAAoB5mD,KAAKqnD,iBAGpCN,EAAgBl/C,UAAUiiD,kBAAoB,WACtC9pD,KAAKuN,aACLu5C,GAA6B,IAKrCC,EAAgBl/C,UAAUkgD,gBAAkB,SAAU1X,GAC9CrwC,KAAKonD,oBACLpnD,KAAKkoD,aAAa7X,GAClBhZ,OAAOiZ,iBAAiB,SAAUtwC,KAAK2oD,cAAc,KAG7D5B,EAAgBl/C,UAAUqgD,aAAe,SAAU7X,GAC3CrwC,KAAKonD,oBACLpnD,KAAK8oD,UAAYzY,EAAGuY,MACpB5oD,KAAKipD,UAAY5Y,EAAG0Y,MACpB/oD,KAAK6oD,YAAcxxB,OAAOE,YAC1Bv3B,KAAKgpD,YAAc3xB,OAAOI,cAGlCsvB,EAAgBl/C,UAAUgiD,mBAAqB,WACvC7pD,KAAKonD,mBACL/vB,OAAOmZ,oBAAoB,SAAUxwC,KAAK2oD,cAAc,IAKhE5B,EAAgBl/C,UAAU+/C,qBAAuB,SAAUvX,EAAI0Z,GAC3D,IAAIX,EAAS,EACTE,EAAS,EAUb,OARIS,GACA/pD,KAAKqpD,UAAYhZ,EAAGuY,MACpB5oD,KAAKupD,UAAYlZ,EAAG0Y,QAGpBK,EAAS/Y,EAAGuY,MAAQ5oD,KAAKqpD,UACzBC,EAASjZ,EAAG0Y,MAAQ/oD,KAAKupD,WAEtB,CACHL,UAAW7Y,EACX8Y,SAAS,EACTlC,UAAWjnD,KAAKinD,UAChB2B,MAAOvY,EAAGuY,MACVG,MAAO1Y,EAAG0Y,MACVK,OAAQA,EACRE,OAAQA,IAGhBvC,EAAgBl/C,UAAUwgD,qBAAuB,SAAUhY,EAAI0Z,GAC3D,IACInB,EACAG,EAFAiB,EAAU3Z,EAAG2Z,QAGbZ,EAAS,EACTE,EAAS,EAoBb,OAjBIU,GAAWA,EAAQzpD,QACnBqoD,EAAQoB,EAAQ,GAAGpB,MACnBG,EAAQiB,EAAQ,GAAGjB,QAGnBH,EAAQvY,EAAGuY,MACXG,EAAQ1Y,EAAG0Y,OAGXgB,GACA/pD,KAAKqpD,UAAYT,EACjB5oD,KAAKupD,UAAYR,IAGjBK,EAASR,EAAQ5oD,KAAKqpD,UACtBC,EAASP,EAAQ/oD,KAAKupD,WAEnB,CACHL,UAAW7Y,EACX8Y,SAAS,EACTlC,UAAWjnD,KAAKinD,UAChB2B,MAAOA,EACPG,MAAOA,EACPK,OAAQA,EACRE,OAAQA,IAGTvC,EA9NyB,GAiOpC,SAASU,EAAqBpX,GAC1B,OAAqB,IAAdA,EAAG4Z,SAAiB5Z,EAAGsJ,QAIlC,SAAS+O,IACL9B,GAAoB,EACpBp0B,YAAW,WACPo0B,GAAoB,IACrB,QAAOD,sBAId,SAAS8C,IACL5C,GAAe,EACK,IAAhBA,GACAxvB,OAAOiZ,iBAAiB,YAAa4Z,EAAmB,CAAEV,SAAS,IAG3E,SAASE,IACL7C,GAAe,EACVA,GACDxvB,OAAOmZ,oBAAoB,YAAa0Z,EAAmB,CAAEV,SAAS,IAG9E,SAASU,EAAkB7Z,GACnByW,GACAzW,EAAGlU,iBASX,IAAIguB,EAA+B,WAC/B,SAASA,IACLnqD,KAAK0P,WAAY,EACjB1P,KAAKoqD,SAAW,KAChBpqD,KAAKqqD,SAAW,KAChBrqD,KAAKsqD,aAAe,KAEpBtqD,KAAKg4B,WAAaJ,SAASC,KAC3B73B,KAAKqtB,OAAS,KACdrtB,KAAKuqD,eAAiB,EA2G1B,OAzGAJ,EAActiD,UAAUmK,MAAQ,SAAUo4C,EAAUxB,EAAOG,GACvD/oD,KAAKoqD,SAAWA,EAChBpqD,KAAKsqD,aAAetqD,KAAKoqD,SAAS9wC,wBAClCtZ,KAAKwqD,YAAc5B,EAAQvxB,OAAOE,YAClCv3B,KAAKyqD,YAAc1B,EAAQ1xB,OAAOI,YAClCz3B,KAAKopD,OAAS,EACdppD,KAAKspD,OAAS,EACdtpD,KAAK0qD,oBAETP,EAActiD,UAAU8iD,WAAa,SAAU/B,EAAOG,GAClD/oD,KAAKopD,OAAUR,EAAQvxB,OAAOE,YAAev3B,KAAKwqD,YAClDxqD,KAAKspD,OAAUP,EAAQ1xB,OAAOI,YAAez3B,KAAKyqD,YAClDzqD,KAAK0qD,oBAGTP,EAActiD,UAAU+iD,aAAe,SAAUrlB,GACzCA,EACKvlC,KAAK0P,YACF1P,KAAKqqD,WACLrqD,KAAKqqD,SAASt8C,MAAMzB,QAAU,IAElCtM,KAAK0P,UAAY61B,EACjBvlC,KAAK0qD,oBAGJ1qD,KAAK0P,YACN1P,KAAKqqD,WACLrqD,KAAKqqD,SAASt8C,MAAMzB,QAAU,QAElCtM,KAAK0P,UAAY61B,IAIzB4kB,EAActiD,UAAU66C,KAAO,SAAUmI,EAAsB1I,GAC3D,IAAIphD,EAAQf,KACR8qD,EAAO,WACP/pD,EAAMonD,UACNhG,KAEA0I,GACA7qD,KAAKqqD,UACLrqD,KAAK0P,WACL1P,KAAKuqD,iBACJvqD,KAAKopD,QAAUppD,KAAKspD,QAErBtpD,KAAK+qD,kBAAkBD,EAAM9qD,KAAKuqD,gBAGlC/3B,WAAWs4B,EAAM,IAGzBX,EAActiD,UAAUkjD,kBAAoB,SAAU5I,EAAUoI,GAC5D,IAAIF,EAAWrqD,KAAKqqD,SAChBW,EAAoBhrD,KAAKoqD,SAAS9wC,wBACtC+wC,EAASt8C,MAAM8qB,WACX,OAAS0xB,EAAT,WACcA,EAAiB,KACnC,eAAWF,EAAU,CACjBvyC,KAAMkzC,EAAkBlzC,KACxBK,IAAK6yC,EAAkB7yC,MAE3B,gBAAmBkyC,GAAU,WACzBA,EAASt8C,MAAM8qB,WAAa,GAC5BspB,QAGRgI,EAActiD,UAAUsgD,QAAU,WAC1BnoD,KAAKqqD,WACL,gBAAcrqD,KAAKqqD,UACnBrqD,KAAKqqD,SAAW,MAEpBrqD,KAAKoqD,SAAW,MAEpBD,EAActiD,UAAU6iD,iBAAmB,WACnC1qD,KAAKoqD,UAAYpqD,KAAK0P,WACtB,eAAW1P,KAAKirD,cAAe,CAC3BnzC,KAAM9X,KAAKsqD,aAAaxyC,KAAO9X,KAAKopD,OACpCjxC,IAAKnY,KAAKsqD,aAAanyC,IAAMnY,KAAKspD,UAI9Ca,EAActiD,UAAUojD,YAAc,WAClC,IAAIX,EAAetqD,KAAKsqD,aACpBD,EAAWrqD,KAAKqqD,SAoBpB,OAnBKA,IACDA,EAAWrqD,KAAKqqD,SAAWrqD,KAAKoqD,SAASc,WAAU,GAGnDb,EAAStkB,UAAU1W,IAAI,mBACvBg7B,EAAStkB,UAAU1W,IAAI,qBACvB,eAAWg7B,EAAU,CACjBxmB,SAAU,QACVxW,OAAQrtB,KAAKqtB,OACble,WAAY,GACZg8C,UAAW,aACXxvC,MAAO2uC,EAAavyC,MAAQuyC,EAAaxyC,KACzCqB,OAAQmxC,EAAa1wC,OAAS0wC,EAAanyC,IAC3CJ,MAAO,OACP6B,OAAQ,OACRwoC,OAAQ,IAEZpiD,KAAKg4B,WAAWF,YAAYuyB,IAEzBA,GAEJF,EApHuB,GA+H9BiB,EAAiC,SAAUzjD,GAE3C,SAASyjD,EAAgBC,EAAkBC,GACvC,IAAIvqD,EAAQ4G,EAAO+M,KAAK1U,OAASA,KAkBjC,OAjBAe,EAAM4nD,aAAe,WACjB5nD,EAAMgiB,UAAYhiB,EAAMsqD,iBAAiBE,eACzCxqD,EAAMyqD,WAAazqD,EAAMsqD,iBAAiBI,gBAC1C1qD,EAAM2qD,sBAEV3qD,EAAMsqD,iBAAmBA,EACzBtqD,EAAMuqD,cAAgBA,EACtBvqD,EAAMgiB,UAAYhiB,EAAM4qD,cAAgBN,EAAiBE,eACzDxqD,EAAMyqD,WAAazqD,EAAM6qD,eAAiBP,EAAiBI,gBAC3D1qD,EAAM8qD,YAAcR,EAAiBS,iBACrC/qD,EAAMklD,aAAeoF,EAAiBU,kBACtChrD,EAAMwX,YAAc8yC,EAAiBW,iBACrCjrD,EAAMgb,aAAesvC,EAAiBY,kBACtClrD,EAAMmrD,WAAanrD,EAAMorD,oBACrBprD,EAAMuqD,eACNvqD,EAAMimC,iBAAiBsJ,iBAAiB,SAAUvvC,EAAM4nD,cAErD5nD,EA6CX,OAjEA,eAAUqqD,EAAiBzjD,GAsB3ByjD,EAAgBvjD,UAAUuwC,QAAU,WAC5Bp4C,KAAKsrD,eACLtrD,KAAKgnC,iBAAiBwJ,oBAAoB,SAAUxwC,KAAK2oD,eAGjEyC,EAAgBvjD,UAAU0jD,aAAe,WACrC,OAAOvrD,KAAK+iB,WAEhBqoC,EAAgBvjD,UAAU4jD,cAAgB,WACtC,OAAOzrD,KAAKwrD,YAEhBJ,EAAgBvjD,UAAUukD,aAAe,SAAUj0C,GAC/CnY,KAAKqrD,iBAAiBe,aAAaj0C,GAC9BnY,KAAKsrD,gBAGNtrD,KAAK+iB,UAAY3J,KAAKI,IAAIJ,KAAKwM,IAAIzN,EAAKnY,KAAKqsD,mBAAoB,GACjErsD,KAAK0rD,uBAGbN,EAAgBvjD,UAAUykD,cAAgB,SAAUn0C,GAChDnY,KAAKqrD,iBAAiBiB,cAAcn0C,GAC/BnY,KAAKsrD,gBAGNtrD,KAAKwrD,WAAapyC,KAAKI,IAAIJ,KAAKwM,IAAIzN,EAAKnY,KAAKusD,oBAAqB,GACnEvsD,KAAK0rD,uBAGbN,EAAgBvjD,UAAUmkD,eAAiB,WACvC,OAAOhsD,KAAKuY,aAEhB6yC,EAAgBvjD,UAAUokD,gBAAkB,WACxC,OAAOjsD,KAAK+b,cAEhBqvC,EAAgBvjD,UAAUikD,eAAiB,WACvC,OAAO9rD,KAAK6rD,aAEhBT,EAAgBvjD,UAAUkkD,gBAAkB,WACxC,OAAO/rD,KAAKimD,cAEhBmF,EAAgBvjD,UAAU6jD,mBAAqB,aAExCN,EAlEyB,CAmElC,QAEEoB,EAAwC,SAAU7kD,GAElD,SAAS6kD,EAAuBx8C,EAAIs7C,GAChC,OAAO3jD,EAAO+M,KAAK1U,KAAM,IAAI,OAAwBgQ,GAAKs7C,IAAkBtrD,KAQhF,OAVA,eAAUwsD,EAAwB7kD,GAIlC6kD,EAAuB3kD,UAAUm/B,eAAiB,WAC9C,OAAOhnC,KAAKqrD,iBAAiBr7C,IAEjCw8C,EAAuB3kD,UAAUskD,kBAAoB,WACjD,OAAO,gBAAiBnsD,KAAKqrD,iBAAiBr7C,KAE3Cw8C,EAXgC,CAYzCpB,GAEEqB,EAAuC,SAAU9kD,GAEjD,SAAS8kD,EAAsBnB,GAC3B,OAAO3jD,EAAO+M,KAAK1U,KAAM,IAAI,OAA0BsrD,IAAkBtrD,KAkB7E,OApBA,eAAUysD,EAAuB9kD,GAIjC8kD,EAAsB5kD,UAAUm/B,eAAiB,WAC7C,OAAO3P,QAEXo1B,EAAsB5kD,UAAUskD,kBAAoB,WAChD,MAAO,CACHr0C,KAAM9X,KAAKwrD,WACXzzC,MAAO/X,KAAKwrD,WAAaxrD,KAAKuY,YAC9BJ,IAAKnY,KAAK+iB,UACVnJ,OAAQ5Z,KAAK+iB,UAAY/iB,KAAK+b,eAKtC0wC,EAAsB5kD,UAAU6jD,mBAAqB,WACjD1rD,KAAKksD,WAAalsD,KAAKmsD,qBAEpBM,EArB+B,CAsBxCrB,GAKEppB,EAAiC,oBAAhB0qB,YAA6BA,YAAY3pB,IAAMzS,KAAKyS,IAOrE4pB,EAA8B,WAC9B,SAASA,IACL,IAAI5rD,EAAQf,KAEZA,KAAKwzC,WAAY,EACjBxzC,KAAK4sD,YAAc,CAACv1B,OAAQ,gBAC5Br3B,KAAK6sD,cAAgB,GACrB7sD,KAAK8sD,YAAc,IAEnB9sD,KAAK+sD,eAAiB,KACtB/sD,KAAKgtD,eAAiB,KACtBhtD,KAAKitD,aAAc,EACnBjtD,KAAKktD,aAAe,KAEpBltD,KAAKmtD,aAAc,EACnBntD,KAAKotD,eAAgB,EACrBptD,KAAKqtD,eAAgB,EACrBrtD,KAAKstD,gBAAiB,EACtBttD,KAAK8gC,QAAU,WACX,GAAI//B,EAAMksD,YAAa,CACnB,IAAIM,EAAOxsD,EAAMysD,gBAAgBzsD,EAAMgsD,eAAiB11B,OAAOE,YAAax2B,EAAMisD,eAAiB31B,OAAOI,aAC1G,GAAI81B,EAAM,CACN,IAAIxqB,EAAMf,IACVjhC,EAAM0sD,WAAWF,GAAOxqB,EAAMhiC,EAAM2sD,gBAAkB,KACtD3sD,EAAM4sD,iBAAiB5qB,QAGvBhiC,EAAMksD,aAAc,IAsIpC,OAjIAN,EAAa9kD,UAAUmK,MAAQ,SAAU42C,EAAOG,EAAO6E,GAC/C5tD,KAAKwzC,YACLxzC,KAAKktD,aAAeltD,KAAK6tD,YAAYD,GACrC5tD,KAAK+sD,eAAiB,KACtB/sD,KAAKgtD,eAAiB,KACtBhtD,KAAKmtD,aAAc,EACnBntD,KAAKotD,eAAgB,EACrBptD,KAAKqtD,eAAgB,EACrBrtD,KAAKstD,gBAAiB,EACtBttD,KAAK2qD,WAAW/B,EAAOG,KAG/B4D,EAAa9kD,UAAU8iD,WAAa,SAAU/B,EAAOG,GACjD,GAAI/oD,KAAKwzC,UAAW,CAChB,IAAIuZ,EAAiBnE,EAAQvxB,OAAOE,YAChCy1B,EAAiBjE,EAAQ1xB,OAAOI,YAChCq2B,EAAiC,OAAxB9tD,KAAKgtD,eAA0B,EAAIA,EAAiBhtD,KAAKgtD,eAClEe,EAAiC,OAAxB/tD,KAAK+sD,eAA0B,EAAIA,EAAiB/sD,KAAK+sD,eAClEe,EAAS,EACT9tD,KAAKmtD,aAAc,EAEdW,EAAS,IACd9tD,KAAKotD,eAAgB,GAErBW,EAAS,EACT/tD,KAAKqtD,eAAgB,EAEhBU,EAAS,IACd/tD,KAAKstD,gBAAiB,GAE1BttD,KAAK+sD,eAAiBA,EACtB/sD,KAAKgtD,eAAiBA,EACjBhtD,KAAKitD,cACNjtD,KAAKitD,aAAc,EACnBjtD,KAAK2tD,iBAAiB3rB,QAIlC2qB,EAAa9kD,UAAU66C,KAAO,WAC1B,GAAI1iD,KAAKwzC,UAAW,CAChBxzC,KAAKitD,aAAc,EACnB,IAAK,IAAI3iD,EAAK,EAAGrC,EAAKjI,KAAKktD,aAAc5iD,EAAKrC,EAAG1H,OAAQ+J,IAAM,CAC3D,IAAI0jD,EAAc/lD,EAAGqC,GACrB0jD,EAAY5V,UAEhBp4C,KAAKktD,aAAe,OAG5BP,EAAa9kD,UAAU8lD,iBAAmB,SAAU5qB,GAChD/iC,KAAK0tD,eAAiB3qB,EACtBuL,sBAAsBtuC,KAAK8gC,UAE/B6rB,EAAa9kD,UAAU4lD,WAAa,SAAUF,EAAMr9B,GAChD,IAAI89B,EAAcT,EAAKS,YACnBnB,EAAgB7sD,KAAK6sD,cACrBoB,EAAcpB,EAAgBU,EAAKW,SACnCC,EACDF,EAAcA,GAAgBpB,EAAgBA,GAC7C7sD,KAAK8sD,YAAc58B,EACnBk+B,EAAO,EACX,OAAQb,EAAKrsD,MACT,IAAK,OACDktD,GAAQ,EAEZ,IAAK,QACDJ,EAAY1B,cAAc0B,EAAYvC,gBAAkB0C,EAAWC,GACnE,MACJ,IAAK,MACDA,GAAQ,EAEZ,IAAK,SACDJ,EAAY5B,aAAa4B,EAAYzC,eAAiB4C,EAAWC,GACjE,QAIZzB,EAAa9kD,UAAU2lD,gBAAkB,SAAU11C,EAAMK,GAGrD,IAFA,IAAI00C,EAAgB7sD,KAAK6sD,cACrBwB,EAAW,KACN/jD,EAAK,EAAGrC,EAAKjI,KAAKktD,aAAc5iD,EAAKrC,EAAG1H,OAAQ+J,IAAM,CAC3D,IAAI0jD,EAAc/lD,EAAGqC,GACjBsJ,EAAOo6C,EAAY9B,WACnBoC,EAAWx2C,EAAOlE,EAAKkE,KACvBy2C,EAAY36C,EAAKmE,MAAQD,EACzB02C,EAAUr2C,EAAMvE,EAAKuE,IACrBs2C,EAAa76C,EAAKgG,OAASzB,EAE3Bm2C,GAAY,GAAKC,GAAa,GAAKC,GAAW,GAAKC,GAAc,IAC7DD,GAAW3B,GAAiB7sD,KAAKmtD,aAAea,EAAYU,iBAC1DL,GAAYA,EAASH,SAAWM,KAClCH,EAAW,CAAEL,YAAaA,EAAa9sD,KAAM,MAAOgtD,SAAUM,IAE9DC,GAAc5B,GAAiB7sD,KAAKotD,eAAiBY,EAAYW,mBAC/DN,GAAYA,EAASH,SAAWO,KAClCJ,EAAW,CAAEL,YAAaA,EAAa9sD,KAAM,SAAUgtD,SAAUO,IAEjEH,GAAYzB,GAAiB7sD,KAAKqtD,eAAiBW,EAAYY,mBAC7DP,GAAYA,EAASH,SAAWI,KAClCD,EAAW,CAAEL,YAAaA,EAAa9sD,KAAM,OAAQgtD,SAAUI,IAE/DC,GAAa1B,GAAiB7sD,KAAKstD,gBAAkBU,EAAYa,oBAC/DR,GAAYA,EAASH,SAAWK,KAClCF,EAAW,CAAEL,YAAaA,EAAa9sD,KAAM,QAASgtD,SAAUK,KAI5E,OAAOF,GAEX1B,EAAa9kD,UAAUgmD,YAAc,SAAUD,GAC3C,OAAO5tD,KAAK8uD,eAAelB,GAAe5sD,KAAI,SAAUgP,GACpD,OAAIA,IAAOqnB,OACA,IAAIo1B,GAAsB,GAE9B,IAAID,EAAuBx8C,GAAI,OAG9C28C,EAAa9kD,UAAUinD,eAAiB,SAAUlB,GAE9C,IADA,IAAInoC,EAAM,GACDnb,EAAK,EAAGrC,EAAKjI,KAAK4sD,YAAatiD,EAAKrC,EAAG1H,OAAQ+J,IAAM,CAC1D,IAAIykD,EAAQ9mD,EAAGqC,GACM,kBAAVykD,EACPtpC,EAAIhiB,KAAKsrD,GAGTtpC,EAAIhiB,KAAKC,MAAM+hB,EAAKjE,MAAM3Z,UAAUiqB,MAAMpd,KAAK,gBAAUk5C,GAAejd,iBAAiBoe,KAGjG,OAAOtpC,GAEJknC,EAjKsB,GA0K7BqC,EAA2C,SAAUrnD,GAErD,SAASqnD,EAA0BhI,EAAavG,GAC5C,IAAI1/C,EAAQ4G,EAAO+M,KAAK1U,KAAMgnD,IAAgBhnD,KAC9Ce,EAAMimD,YAAcA,EAGpBjmD,EAAMkuD,MAAQ,KACdluD,EAAMmuD,YAAc,EACpBnuD,EAAMouD,oBAAqB,EAC3BpuD,EAAMquD,mBAAoB,EAC1BruD,EAAMsuD,eAAgB,EACtBtuD,EAAMwM,YAAa,EACnBxM,EAAMuuD,cAAe,EACrBvuD,EAAMwuD,qBAAsB,EAC5BxuD,EAAMyuD,eAAiB,KACvBzuD,EAAM0uD,cAAgB,SAAUpf,GACvBtvC,EAAMwM,aACPxM,EAAMsuD,eAAgB,EACtBtuD,EAAMuuD,cAAe,EACrBvuD,EAAMwuD,qBAAsB,EAC5B,gBAAiB33B,SAASC,MAC1B,gBAAmBD,SAASC,MAIvBwY,EAAG8Y,SACJ9Y,EAAG6Y,UAAU/sB,iBAEjBp7B,EAAM8mD,QAAQC,QAAQ,cAAezX,GACjCtvC,EAAMsuD,gBACLtuD,EAAMs/B,QAAQ8mB,mBAEfpmD,EAAM2uD,OAAO9E,cAAa,GAC1B7pD,EAAM2uD,OAAO19C,MAAMq+B,EAAG4W,UAAW5W,EAAGuY,MAAOvY,EAAG0Y,OAC9ChoD,EAAM4uD,WAAWtf,GACZtvC,EAAMmuD,aACPnuD,EAAM6uD,wBAAwBvf,MAK9CtvC,EAAM8uD,cAAgB,SAAUxf,GAC5B,GAAItvC,EAAMsuD,cAAe,CAErB,GADAtuD,EAAM8mD,QAAQC,QAAQ,cAAezX,IAChCtvC,EAAMwuD,oBAAqB,CAC5B,IAAIL,EAAcnuD,EAAMmuD,YACpBY,OAAa,EACb1G,EAAS/Y,EAAG+Y,OAAQE,EAASjZ,EAAGiZ,OACpCwG,EAAa1G,EAASA,EAASE,EAASA,EACpCwG,GAAcZ,EAAcA,GAC5BnuD,EAAM6uD,wBAAwBvf,GAGlCtvC,EAAMwM,aAEoB,WAAtB8iC,EAAG6Y,UAAUzmD,OACb1B,EAAM2uD,OAAO/E,WAAWta,EAAGuY,MAAOvY,EAAG0Y,OACrChoD,EAAMgvD,aAAapF,WAAWta,EAAGuY,MAAOvY,EAAG0Y,QAE/ChoD,EAAM8mD,QAAQC,QAAQ,WAAYzX,MAI9CtvC,EAAMivD,YAAc,SAAU3f,GACtBtvC,EAAMsuD,gBACNtuD,EAAMsuD,eAAgB,EACtB,eAAez3B,SAASC,MACxB,eAAiBD,SAASC,MAC1B92B,EAAM8mD,QAAQC,QAAQ,YAAazX,GAC/BtvC,EAAMwM,aACNxM,EAAMgvD,aAAarN,OACnB3hD,EAAMkvD,YAAY5f,IAElBtvC,EAAMyuD,iBACN7pB,aAAa5kC,EAAMyuD,gBACnBzuD,EAAMyuD,eAAiB,QAInC,IAAInvB,EAAUt/B,EAAMs/B,QAAU,IAAI0mB,EAAgBC,GASlD,OARA3mB,EAAQwnB,QAAQ3lD,GAAG,cAAenB,EAAM0uD,eACxCpvB,EAAQwnB,QAAQ3lD,GAAG,cAAenB,EAAM8uD,eACxCxvB,EAAQwnB,QAAQ3lD,GAAG,YAAanB,EAAMivD,aAClCvP,IACApgB,EAAQogB,SAAWA,GAEvB1/C,EAAM2uD,OAAS,IAAIvF,EACnBppD,EAAMgvD,aAAe,IAAIpD,EAClB5rD,EA+DX,OAvJA,eAAUiuD,EAA2BrnD,GA0FrCqnD,EAA0BnnD,UAAUuwC,QAAU,WAC1Cp4C,KAAKqgC,QAAQ+X,UAGbp4C,KAAKgwD,YAAY,KAErBhB,EAA0BnnD,UAAU8nD,WAAa,SAAUtf,GACvD,IAAItvC,EAAQf,KACc,kBAAfA,KAAKivD,MACZjvD,KAAKwvD,eAAiBh9B,YAAW,WAC7BzxB,EAAMyuD,eAAiB,KACvBzuD,EAAMmvD,eAAe7f,KACtBrwC,KAAKivD,OAGRjvD,KAAKkwD,eAAe7f,IAG5B2e,EAA0BnnD,UAAUqoD,eAAiB,SAAU7f,GAC3DrwC,KAAKsvD,cAAe,EACpBtvD,KAAKmwD,aAAa9f,IAEtB2e,EAA0BnnD,UAAU+nD,wBAA0B,SAAUvf,GACpErwC,KAAKuvD,qBAAsB,EAC3BvvD,KAAKmwD,aAAa9f,IAEtB2e,EAA0BnnD,UAAUsoD,aAAe,SAAU9f,GACrDrwC,KAAKsvD,cAAgBtvD,KAAKuvD,sBACrBvvD,KAAKqgC,QAAQinB,iBAAkBtnD,KAAKmvD,qBACrCnvD,KAAKuN,YAAa,EAClBvN,KAAKovD,mBAAoB,EACzBpvD,KAAK+vD,aAAa/9C,MAAMq+B,EAAGuY,MAAOvY,EAAG0Y,MAAO/oD,KAAKgnD,aACjDhnD,KAAK6nD,QAAQC,QAAQ,YAAazX,IACF,IAA5BrwC,KAAKmvD,oBACLnvD,KAAKqgC,QAAQypB,uBAK7BkF,EAA0BnnD,UAAUooD,YAAc,SAAU5f,GAGxDrwC,KAAK0vD,OAAOhN,KAAK1iD,KAAKovD,kBAAmBpvD,KAAKowD,SAAS99B,KAAKtyB,KAAMqwC,KAEtE2e,EAA0BnnD,UAAUuoD,SAAW,SAAU/f,GACrDrwC,KAAKuN,YAAa,EAClBvN,KAAK6nD,QAAQC,QAAQ,UAAWzX,IAGpC2e,EAA0BnnD,UAAUwoD,cAAgB,SAAU9qB,GAC1DvlC,KAAKqgC,QAAQ8mB,iBAAmB5hB,GAEpCypB,EAA0BnnD,UAAUyoD,mBAAqB,SAAU/qB,GAC/DvlC,KAAK0vD,OAAO9E,aAAarlB,IAE7BypB,EAA0BnnD,UAAU0oD,qBAAuB,SAAUhrB,GACjEvlC,KAAKovD,kBAAoB7pB,GAE7BypB,EAA0BnnD,UAAU2oD,qBAAuB,SAAUjrB,GACjEvlC,KAAK+vD,aAAavc,UAAYjO,GAE3BypB,EAxJmC,CAyJ5C,QAUEyB,EAA+B,WAC/B,SAASA,EAAczgD,GACnBhQ,KAAK0wD,SAAW,gBAAY1gD,GAE5BhQ,KAAKktD,aAAe,gBAAmBl9C,GAAIhP,KAAI,SAAU2vD,GAAY,OAAO,IAAInE,EAAuBmE,GAAU,MAmCrH,OAjCAF,EAAc5oD,UAAUuwC,QAAU,WAC9B,IAAK,IAAI9tC,EAAK,EAAGrC,EAAKjI,KAAKktD,aAAc5iD,EAAKrC,EAAG1H,OAAQ+J,IAAM,CAC3D,IAAI0jD,EAAc/lD,EAAGqC,GACrB0jD,EAAY5V,YAGpBqY,EAAc5oD,UAAU+oD,YAAc,WAElC,IADA,IAAI94C,EAAO9X,KAAK0wD,SAAS54C,KAChBxN,EAAK,EAAGrC,EAAKjI,KAAKktD,aAAc5iD,EAAKrC,EAAG1H,OAAQ+J,IAAM,CAC3D,IAAI0jD,EAAc/lD,EAAGqC,GACrBwN,GAAQk2C,EAAYpC,eAAiBoC,EAAYvC,gBAErD,OAAO3zC,GAEX24C,EAAc5oD,UAAUgpD,WAAa,WAEjC,IADA,IAAI14C,EAAMnY,KAAK0wD,SAASv4C,IACf7N,EAAK,EAAGrC,EAAKjI,KAAKktD,aAAc5iD,EAAKrC,EAAG1H,OAAQ+J,IAAM,CAC3D,IAAI0jD,EAAc/lD,EAAGqC,GACrB6N,GAAO61C,EAAYrC,cAAgBqC,EAAYzC,eAEnD,OAAOpzC,GAEXs4C,EAAc5oD,UAAUipD,iBAAmB,SAAUlI,EAAOG,GAExD,IADA,IAAIgI,EAAQ,CAAEj5C,KAAM8wC,EAAOzwC,IAAK4wC,GACvBz+C,EAAK,EAAGrC,EAAKjI,KAAKktD,aAAc5iD,EAAKrC,EAAG1H,OAAQ+J,IAAM,CAC3D,IAAI0jD,EAAc/lD,EAAGqC,GACrB,IAAK0mD,EAAkBhD,EAAYhnB,oBAC9B,gBAAgB+pB,EAAO/C,EAAY9B,YACpC,OAAO,EAGf,OAAO,GAEJuE,EAvCuB,GA2ClC,SAASO,EAAkB3nC,GACvB,IAAI4nC,EAAU5nC,EAAK4nC,QACnB,MAAmB,SAAZA,GAAkC,SAAZA,EAgBjC,IAAIC,EAA6B,WAC7B,SAASA,EAAYC,EAAUC,GAC3B,IAAIrwD,EAAQf,KAEZA,KAAKqxD,kBAAmB,EACxBrxD,KAAKsxD,gBAAiB,EACtBtxD,KAAKuxD,WAAa,KAClBvxD,KAAKwxD,UAAY,KACjBxxD,KAAKyxD,SAAW,KAChBzxD,KAAK0xD,kBAAoB,SAAUrhB,GAC/B,IAAI8gB,EAAWpwD,EAAMowD,SACrBpwD,EAAMwwD,WAAa,KACnBxwD,EAAMywD,UAAY,KAClBzwD,EAAM0wD,SAAW,KACjB1wD,EAAMqb,cACNrb,EAAM4wD,kBAAkBthB,GACpBtvC,EAAMwwD,aAAexwD,EAAMuwD,gBAC3BH,EAASd,eAAc,GAEvBtvD,EAAM8mD,QAAQC,QAAQ,cAAezX,IAGrC8gB,EAASd,eAAc,IAG/BrwD,KAAK4xD,gBAAkB,SAAUvhB,GAC7BtvC,EAAM8mD,QAAQC,QAAQ,YAAazX,GACnCtvC,EAAM4pD,WAAWta,GAAI,IAEzBrwC,KAAK6xD,eAAiB,SAAUxhB,GAC5BtvC,EAAM8mD,QAAQC,QAAQ,WAAYzX,GAClCtvC,EAAM4pD,WAAWta,IAErBrwC,KAAK8xD,gBAAkB,SAAUzhB,GAC7BtvC,EAAMgxD,cACNhxD,EAAM8mD,QAAQC,QAAQ,YAAazX,IAEvCrwC,KAAKgyD,cAAgB,SAAU3hB,GACvBtvC,EAAMywD,WACNzwD,EAAM8mD,QAAQC,QAAQ,YAAa,MAAM,EAAMzX,GAEnDtvC,EAAM0wD,SAAW1wD,EAAMywD,UACvBzwD,EAAMywD,UAAY,KAClBzwD,EAAM8mD,QAAQC,QAAQ,UAAWzX,IAErCrwC,KAAKoxD,eAAiBA,EACtBD,EAAStJ,QAAQ3lD,GAAG,cAAelC,KAAK0xD,mBACxCP,EAAStJ,QAAQ3lD,GAAG,YAAalC,KAAK4xD,iBACtCT,EAAStJ,QAAQ3lD,GAAG,WAAYlC,KAAK6xD,gBACrCV,EAAStJ,QAAQ3lD,GAAG,YAAalC,KAAK8xD,iBACtCX,EAAStJ,QAAQ3lD,GAAG,UAAWlC,KAAKgyD,eACpChyD,KAAKmxD,SAAWA,EAChBnxD,KAAK6nD,QAAU,IAAI,OAqFvB,OAjFAqJ,EAAYrpD,UAAU8pD,kBAAoB,SAAUthB,GAChD,IAGI4hB,EAHAC,EAAY,CAAEp6C,KAAMu4B,EAAGuY,MAAOzwC,IAAKk4B,EAAG0Y,OACtCoJ,EAAgBD,EAChBjL,EAAY5W,EAAG4W,UAEfA,aAAqB5G,cACrB4R,EAAc,gBAAYhL,GAC1BkL,EAAgB,gBAAeA,EAAeF,IAElD,IAAIV,EAAavxD,KAAKuxD,WAAavxD,KAAKoyD,kBAAkBD,EAAcr6C,KAAMq6C,EAAch6C,KAC5F,GAAIo5C,EAAY,CACZ,GAAIvxD,KAAKqxD,kBAAoBY,EAAa,CACtC,IAAII,EAAoB,gBAAeJ,EAAaV,EAAW39C,MAC3Dy+C,IACAF,EAAgB,gBAAcE,IAGtCryD,KAAKsyD,YAAc,gBAAWH,EAAeD,QAG7ClyD,KAAKsyD,YAAc,CAAEx6C,KAAM,EAAGK,IAAK,IAG3C+4C,EAAYrpD,UAAU8iD,WAAa,SAAUta,EAAIkiB,GAC7C,IAAIC,EAAMxyD,KAAKoyD,kBAAkB/hB,EAAGuY,MAAQ5oD,KAAKsyD,YAAYx6C,KAAMu4B,EAAG0Y,MAAQ/oD,KAAKsyD,YAAYn6C,MAC3Fo6C,GAAgBE,EAAYzyD,KAAKwxD,UAAWgB,KAC5CxyD,KAAKwxD,UAAYgB,EACjBxyD,KAAK6nD,QAAQC,QAAQ,YAAa0K,GAAK,EAAOniB,KAGtD6gB,EAAYrpD,UAAUuU,YAAc,WAChCpc,KAAK0yD,eAAiB,gBAAQ1yD,KAAKoxD,gBAAgB,SAAUuB,GAEzD,OADAA,EAAoBhwD,UAAUyZ,cACvB,IAAIq0C,EAAckC,EAAoB3iD,QAGrDkhD,EAAYrpD,UAAUkqD,YAAc,WAChC,IAAIW,EAAiB1yD,KAAK0yD,eAC1B,IAAK,IAAIluD,KAAMkuD,EACXA,EAAeluD,GAAI4zC,UAEvBp4C,KAAK0yD,eAAiB,IAE1BxB,EAAYrpD,UAAUuqD,kBAAoB,SAAUQ,EAAYv9B,GAC5D,IAAIptB,EAAKjI,KAAMoxD,EAAiBnpD,EAAGmpD,eAAgBsB,EAAiBzqD,EAAGyqD,eACnEG,EAAU,KACd,IAAK,IAAIruD,KAAM4sD,EAAgB,CAC3B,IAAIzuD,EAAYyuD,EAAe5sD,GAAI7B,UAC/BmwD,EAAgBJ,EAAeluD,GACnC,GAAIsuD,GACAA,EAAchC,iBAAiB8B,EAAYv9B,GAAY,CACvD,IAAI09B,EAAaD,EAAclC,cAC3BoC,EAAYF,EAAcjC,aAC1Bn0C,EAAek2C,EAAaG,EAC5Bp2C,EAAc0Y,EAAY29B,EAC1BtC,EAAWoC,EAAcpC,SACzB/0C,EAAQ+0C,EAAS34C,MAAQ24C,EAAS54C,KAClCqB,EAASu3C,EAAS92C,OAAS82C,EAASv4C,IACxC,GAEAuE,GAAgB,GAAKA,EAAef,GAChCgB,GAAe,GAAKA,EAAcxD,EAAQ,CAC1C,IAAIq5C,EAAM7vD,EAAU8Z,SAASC,EAAcC,EAAahB,EAAOxC,GAC3Dq5C,GAEJ,eAFW,CAEQA,EAAInnD,YAAY4nD,YAAaT,EAAI11C,SAASzI,UACvDw+C,GAAWL,EAAIp1C,MAAQy1C,EAAQz1C,SACjCo1C,EAAIU,YAAc1uD,EAClBguD,EAAItqD,QAAUvF,EAAUuF,QAExBsqD,EAAI5+C,KAAKkE,MAAQi7C,EACjBP,EAAI5+C,KAAKmE,OAASg7C,EAClBP,EAAI5+C,KAAKuE,KAAO66C,EAChBR,EAAI5+C,KAAKgG,QAAUo5C,EACnBH,EAAUL,KAK1B,OAAOK,GAEJ3B,EAzIqB,GA2IhC,SAASuB,EAAYU,EAAMC,GACvB,OAAKD,IAASC,GAGVtyD,QAAQqyD,KAAUryD,QAAQsyD,IAGvB,gBAAiBD,EAAKr2C,SAAUs2C,EAAKt2C,UAGhD,SAASu2C,EAA6Bv2C,EAAU5U,GAE5C,IADA,IAAI5I,EAAQ,GACHgL,EAAK,EAAGrC,EAAKC,EAAQwB,YAAY4pD,oBAAqBhpD,EAAKrC,EAAG1H,OAAQ+J,IAAM,CACjF,IAAIipD,EAAYtrD,EAAGqC,GACnB,eAAShL,EAAOi0D,EAAUz2C,EAAU5U,IAGxC,OADA,eAAS5I,EAAOk0D,EAAkB12C,EAAU5U,EAAQuX,UAC7CngB,EAEX,SAASk0D,EAAkBxpD,EAAMyV,GAC7B,MAAO,CACHrU,KAAMqU,EAAQmC,OAAO5X,EAAKqK,MAAMrC,OAChCyhD,QAASh0C,EAAQi0C,UAAU1pD,EAAKqK,MAAMrC,MAAO,CAAE2hD,SAAU3pD,EAAKyC,SAC9DA,OAAQzC,EAAKyC,QAQrB,IAAImnD,EAA8B,SAAUjsD,GAExC,SAASisD,EAAaC,GAClB,IAAI9yD,EAAQ4G,EAAO+M,KAAK1U,KAAM6zD,IAAa7zD,KAC3Ce,EAAM2wD,kBAAoB,SAAU/J,GAChC,IAAIwJ,EAAWpwD,EAAMowD,SACjBvH,EAASjC,EAAIuB,UAAUtlD,OAE3ButD,EAASd,eAAetvD,EAAM4B,UAAUmxD,kBAAkBlK,KAG9D7oD,EAAMixD,cAAgB,SAAU3hB,GAC5B,IAAI1tC,EAAY5B,EAAM4B,UAClB09B,EAAUt/B,EAAMowD,SAAS9wB,QAC7B,IAAKA,EAAQinB,eAAgB,CACzB,IAAIr/C,EAAKlH,EAAMgzD,YAAaxC,EAAatpD,EAAGspD,WAAYE,EAAWxpD,EAAGwpD,SACtE,GAAIF,GAAcE,GAAYgB,EAAYlB,EAAYE,GAAW,CAC7D,IAAIvpD,EAAUvF,EAAUuF,QACpBic,EAAM,eAAS,eAAS,GAAIkvC,EAA6B9B,EAAWz0C,SAAU5U,IAAW,CAAE8U,MAAOu0C,EAAWv0C,MAAOg3C,QAAS3jB,EAAG6Y,UAAWrnC,KAAM3Z,EAAQmZ,SAAWnZ,EAAQ+rD,YAAYpyC,OAC5L3Z,EAAQ2/C,QAAQC,QAAQ,YAAa3jC,MAKjDpjB,EAAMowD,SAAW,IAAInC,EAA0B6E,EAAS7jD,IACxDjP,EAAMowD,SAASpB,aAAavc,WAAY,EACxC,IAAIugB,EAAchzD,EAAMgzD,YAAc,IAAI7C,EAAYnwD,EAAMowD,SAAU,gBAA2B0C,IAGjG,OAFAE,EAAYlM,QAAQ3lD,GAAG,cAAenB,EAAM2wD,mBAC5CqC,EAAYlM,QAAQ3lD,GAAG,UAAWnB,EAAMixD,eACjCjxD,EAKX,OAjCA,eAAU6yD,EAAcjsD,GA8BxBisD,EAAa/rD,UAAUuwC,QAAU,WAC7Bp4C,KAAKmxD,SAAS/Y,WAEXwb,EAlCsB,CAmC/B,QAMEM,EAA+B,SAAUvsD,GAEzC,SAASusD,EAAcL,GACnB,IAAI9yD,EAAQ4G,EAAO+M,KAAK1U,KAAM6zD,IAAa7zD,KAC3Ce,EAAMozD,cAAgB,KACtBpzD,EAAM2wD,kBAAoB,SAAUrhB,GAChC,IAAIpoC,EAAKlH,EAAO4B,EAAYsF,EAAGtF,UAAWwuD,EAAWlpD,EAAGkpD,SACpD1xD,EAAUkD,EAAUuF,QAAQzI,QAC5B20D,EAAY30D,EAAQ+1B,YACpB7yB,EAAUmxD,kBAAkBzjB,EAAG6Y,UAAUtlD,QAE7CutD,EAASd,eAAe+D,GAExBjD,EAASlC,MAAQ5e,EAAG8Y,QAAUkL,EAAyB1xD,GAAa,MAExE5B,EAAM6wD,gBAAkB,SAAUvhB,GAC9BtvC,EAAM4B,UAAUuF,QAAQ+rD,YAAYK,SAASjkB,IAEjDtvC,EAAMwzD,gBAAkB,SAAU/B,EAAKgC,GACnC,IAAItsD,EAAUnH,EAAM4B,UAAUuF,QAC1BisD,EAAgB,KAChBM,GAAY,EAChB,GAAIjC,EAAK,CACL,IAAIjB,EAAaxwD,EAAMgzD,YAAYxC,WAC/BmD,EAAalC,EAAIU,cAAgB3B,EAAW2B,aACzCnyD,EAAMka,oBACLla,EAAMka,kBAAkBs2C,EAAYiB,GACvCkC,IACDP,EAAgBQ,EAAsBpD,EAAYiB,EAAKtqD,EAAQwB,YAAYkrD,4BAE1ET,GAAkB,gBAAqBA,EAAe3B,EAAInnD,YAAanD,KACxEusD,GAAY,EACZN,EAAgB,MAGpBA,EACAjsD,EAAQ2sD,SAAS,CAAEpyD,KAAM,eAAgBqyD,UAAWX,IAE9CK,GACNtsD,EAAQ2sD,SAAS,CAAEpyD,KAAM,mBAExBgyD,EAID,kBAHA,kBAKCD,IACDzzD,EAAMozD,cAAgBA,IAG9BpzD,EAAM+wD,gBAAkB,SAAUnK,GAC1B5mD,EAAMozD,gBAEN,gBAAkBpzD,EAAMozD,cAAexM,EAAK5mD,EAAM4B,UAAUuF,SAC5DnH,EAAMozD,cAAgB,OAG9B,IAAIxxD,EAAYkxD,EAASlxD,UACrBlD,EAAUkD,EAAUuF,QAAQzI,QAC5B0xD,EAAWpwD,EAAMowD,SAAW,IAAInC,EAA0B6E,EAAS7jD,IACvEmhD,EAAShC,oBAAqB,EAC9BgC,EAASjC,YAAczvD,EAAQs1D,mBAAqB,EACpD5D,EAASpB,aAAavc,UAAY/zC,EAAQu1D,WAC1C,IAAIjB,EAAchzD,EAAMgzD,YAAc,IAAI7C,EAAYnwD,EAAMowD,SAAU,gBAA2B0C,IAKjG,OAJAE,EAAYlM,QAAQ3lD,GAAG,cAAenB,EAAM2wD,mBAC5CqC,EAAYlM,QAAQ3lD,GAAG,YAAanB,EAAM6wD,iBAC1CmC,EAAYlM,QAAQ3lD,GAAG,YAAanB,EAAMwzD,iBAC1CR,EAAYlM,QAAQ3lD,GAAG,YAAanB,EAAM+wD,iBACnC/wD,EAKX,OAzEA,eAAUmzD,EAAevsD,GAsEzBusD,EAAcrsD,UAAUuwC,QAAU,WAC9Bp4C,KAAKmxD,SAAS/Y,WAEX8b,EA1EuB,CA2EhC,QACF,SAASG,EAAyB1xD,GAC9B,IAAIlD,EAAUkD,EAAUuF,QAAQzI,QAC5BwvD,EAAQxvD,EAAQw1D,qBAIpB,OAHa,MAAThG,IACAA,EAAQxvD,EAAQy1D,gBAEbjG,EAEX,SAAS0F,EAAsBxB,EAAMC,EAAMwB,GACvC,IAAIO,EAAYhC,EAAKr2C,SACjBs4C,EAAYhC,EAAKt2C,SACjBu4C,EAAK,CACLF,EAAU9gD,MAAMrC,MAChBmjD,EAAU9gD,MAAMpC,IAChBmjD,EAAU/gD,MAAMrC,MAChBojD,EAAU/gD,MAAMpC,KAEpBojD,EAAGhtC,KAAK,SAER,IADA,IAAI/oB,EAAQ,GACHgL,EAAK,EAAGgrD,EAA8BV,EAA2BtqD,EAAKgrD,EAA4B/0D,OAAQ+J,IAAM,CACrH,IAAIirD,EAAcD,EAA4BhrD,GAC1Cwf,EAAMyrC,EAAYpC,EAAMC,GAC5B,IAAY,IAARtpC,EACA,OAAO,KAEPA,GACA,eAASxqB,EAAOwqB,GAKxB,OAFAxqB,EAAM+U,MAAQ,CAAErC,MAAOqjD,EAAG,GAAIpjD,IAAKojD,EAAG,IACtC/1D,EAAMmN,OAAS0oD,EAAU1oD,OAClBnN,EAGX,IAAIk2D,EAA+B,SAAU7tD,GAEzC,SAAS6tD,EAAc3B,GACnB,IAAI9yD,EAAQ4G,EAAO+M,KAAK1U,KAAM6zD,IAAa7zD,KAE3Ce,EAAMkmD,UAAY,KAClBlmD,EAAM00D,WAAa,KACnB10D,EAAMwM,YAAa,EACnBxM,EAAMwL,WAAa,KACnBxL,EAAM20D,eAAiB,KACvB30D,EAAM40D,iBAAmB,KACzB50D,EAAM60D,cAAgB,KACtB70D,EAAM80D,sBAAwB,KAC9B90D,EAAM2wD,kBAAoB,SAAUrhB,GAChC,IAAIylB,EAAazlB,EAAG6Y,UAAUtlD,OAC1BqE,EAAKlH,EAAO4B,EAAYsF,EAAGtF,UAAWwuD,EAAWlpD,EAAGkpD,SACpDzB,EAASyB,EAASzB,OAClBjwD,EAAUkD,EAAUuF,QAAQzI,QAC5Bs2D,EAAiBpzD,EAAUuF,QAC/BnH,EAAMkmD,UAAY5W,EAAG4W,UACrB,IAAIwO,EAAa10D,EAAM00D,WAAa,gBAASplB,EAAG4W,WAC5C16C,EAAaxL,EAAMwL,WAAakpD,EAAWlpD,WAC3CypD,EAAkBzpD,EAAW2C,SAASD,WAC1ClO,EAAM20D,eAAiB,gBAAkBK,EAAeE,iBAAiBr3C,WAAYo3C,GACrF7E,EAASjC,YAAc7e,EAAG8Y,QAAU,EAAI1pD,EAAQy2D,qBAChD/E,EAASlC,MAEJ5e,EAAG8Y,SAAW6M,IAAoBrzD,EAAUrD,MAAM8P,eAC/C+mD,EAAuBxzD,GACvB,KACJlD,EAAQ22D,kBACR1G,EAAO13B,WAAav4B,EAAQ22D,kBAG5B1G,EAAO13B,WAAa,gBAAe89B,EAAY,OAEnDpG,EAAOnF,eAAiB9qD,EAAQ42D,mBAChC,IAAIC,EAAU3zD,EAAU4zD,iBAAiBT,KACpC,gBAAeA,EAAY,qBAChC3E,EAASd,eAAeiG,GAGxBv1D,EAAMwM,WAAa+oD,GACfjmB,EAAG4W,UAAUlhB,UAAUxJ,SAAS,uBAExCx7B,EAAM6wD,gBAAkB,SAAUvhB,GAC9B,IAAI0lB,EAAiBh1D,EAAM4B,UAAUuF,QACjCqE,EAAaxL,EAAMwL,WACnBypD,EAAkBzpD,EAAW2C,SAASD,WACtCohC,EAAG8Y,QAEC6M,IAAoBj1D,EAAM4B,UAAUrD,MAAM8P,gBAC1C2mD,EAAelB,SAAS,CAAEpyD,KAAM,eAAgBuzD,gBAAiBA,IAKrED,EAAelB,SAAS,CAAEpyD,KAAM,mBAEhC1B,EAAMwM,aACNwoD,EAAe9B,YAAYK,SAASjkB,GACpC0lB,EAAelO,QAAQC,QAAQ,iBAAkB,CAC7C93C,GAAIjP,EAAMkmD,UACVthD,MAAO,IAAI,OAASowD,EAAgBxpD,EAAWC,IAAKD,EAAW2C,UAC/D8kD,QAAS3jB,EAAG6Y,UACZrnC,KAAMk0C,EAAe10C,YAIjCtgB,EAAMwzD,gBAAkB,SAAU/B,EAAKgC,GACnC,GAAKzzD,EAAMwM,WAAX,CAGA,IAAImoD,EAAiB30D,EAAM20D,eACvBnE,EAAaxwD,EAAMgzD,YAAYxC,WAC/BwE,EAAiBh1D,EAAM4B,UAAUuF,QAEjCytD,EAAmB,KACnBa,EAAW,KACXX,EAAwB,KACxBpB,GAAY,EACZgC,EAAc,CACdC,eAAgBhB,EAChBiB,cAAe,kBACf1rD,SAAS,GAEb,GAAIunD,EAAK,CACLmD,EAAmBnD,EAAItqD,QACvB,IAAI0uD,EAAmBjB,EAAiBl2D,QACpCs2D,IAAmBJ,GAClBiB,EAAiBC,UAAYD,EAAiBE,WAC/CN,EAAWO,EAAqBxF,EAAYiB,EAAKmD,EAAiBM,iBAAiBvsD,YAAYstD,4BAC3FR,IACAX,EAAwB,eAA0BH,EAAgBC,EAAiBM,iBAAiBp3C,aAAc23C,EAAUb,GAC5Hc,EAAYE,cAAgBd,EACvB,gBAAmBY,EAAajE,EAAInnD,YAAasqD,KAClDlB,GAAY,EACZ+B,EAAW,KACXX,EAAwB,KACxBY,EAAYE,cAAgB,qBAKpChB,EAAmB,KAG3B50D,EAAMk2D,YAAYtB,EAAkBc,GAC/BhC,EAID,kBAHA,kBAKCD,IACGuB,IAAmBJ,GACnBlD,EAAYlB,EAAYiB,KACxBgE,EAAW,MAEfz1D,EAAMowD,SAASZ,sBAAsBiG,GAGrCz1D,EAAMowD,SAASb,oBAAoBkC,IAAQ,gBAAUzxD,EAAMkmD,WAAWnpB,cAAc,qBAEpF/8B,EAAM40D,iBAAmBA,EACzB50D,EAAM60D,cAAgBY,EACtBz1D,EAAM80D,sBAAwBA,KAGtC90D,EAAM+wD,gBAAkB,WACf/wD,EAAMwM,YACPxM,EAAMonD,WAGdpnD,EAAMixD,cAAgB,SAAU3hB,GAC5B,GAAItvC,EAAMwM,WAAY,CAClB,IAAI2pD,EAAmBn2D,EAAM4B,UAAUuF,QACnC6X,EAAcm3C,EAAiB71C,QAC/BpZ,EAAKlH,EAAOo2D,EAAqBlvD,EAAG0tD,iBAAkBC,EAAgB3tD,EAAG2tD,cACzE70C,EAAWhgB,EAAMwL,WAAWC,IAC5B4qD,EAAgBr2D,EAAMwL,WAAW2C,SACjCmoD,EAAW,IAAI,OAASH,EAAkBn2C,EAAUq2C,GACpDE,EAAmBv2D,EAAM20D,eACzB6B,EAA0Bx2D,EAAM80D,sBAChCpE,EAAW1wD,EAAMgzD,YAAYtC,SAQjC,GAPA1wD,EAAMy2D,YACNN,EAAiBrP,QAAQC,QAAQ,gBAAiB,CAC9C93C,GAAIjP,EAAMkmD,UACVthD,MAAO0xD,EACPrD,QAAS3jB,EAAG6Y,UACZrnC,KAAM9B,IAEN61C,GAEA,GAAIuB,IAAuBD,EAAkB,CACzC,IAAIO,EAAkB,IAAI,OAASP,EAAkBK,EAAwBG,KAAK32C,EAAS42C,OAAQP,EAAgBG,EAAwBjX,UAAU8W,EAAcnoD,YAAc,MACjLioD,EAAiBrC,SAAS,CACtBpyD,KAAM,eACNmc,WAAY24C,IAchB,IAZA,IAAIK,EAAiB,CACjBC,SAAUR,EACV1xD,MAAO8xD,EACPK,cAAe,eAAeP,EAAyBL,EAAkBE,GACzEW,OAAQ,WACJb,EAAiBrC,SAAS,CACtBpyD,KAAM,eACNmc,WAAY04C,MAIpBU,EAAc,GACT1tD,EAAK,EAAG2I,EAAKikD,EAAiBjB,iBAAiBvsD,YAAYuuD,sBAAuB3tD,EAAK2I,EAAG1S,OAAQ+J,IAAM,CAC7G,IAAIirD,EAActiD,EAAG3I,GACrB,eAAS0tD,EAAazC,EAAYK,EAAesB,IAErDA,EAAiBrP,QAAQC,QAAQ,YAAa,eAAS,eAAS,eAAS,GAAI8P,GAAiBI,GAAc,CAAEhoD,GAAIqgC,EAAG4W,UAAW9W,MAAOylB,EAAcsC,WAAYlE,QAAS3jB,EAAG6Y,UAAWrnC,KAAM9B,KAC9Lm3C,EAAiBrP,QAAQC,QAAQ,cAAe8P,QAG/C,GAAIT,EAAoB,CACzB,IAAIgB,EAAiB,CACjBxyD,MAAO0xD,EACPS,cAAe,eAAeR,EAAkBJ,EAAkBE,GAClEW,OAAQ,WACJb,EAAiBrC,SAAS,CACtBpyD,KAAM,eACNmc,WAAY04C,MAIxBJ,EAAiBrP,QAAQC,QAAQ,aAAc,eAAS,eAAS,GAAIqQ,GAAiB,CAAEC,UAAW/nB,EAAG4W,UAAWplC,KAAM9B,KACvHm3C,EAAiBrC,SAAS,CACtBpyD,KAAM,gBACNmc,WAAY04C,IAEhBJ,EAAiBrP,QAAQC,QAAQ,cAAeqQ,GAChD,IAAIE,EAAgBd,EAAwBG,KAAK32C,EAAS42C,OACtDW,EAAqBf,EAAwBjX,UAAU8W,EAAcnoD,YACrEspD,EAAgB,IAAI,OAASpB,EAAoBkB,EAAeC,GACpEnB,EAAmBtC,SAAS,CACxBpyD,KAAM,eACNmc,WAAY24C,IAEhB,IAAIiB,EAAc,CACd7yD,MAAO4yD,EACPT,cAAe,eAAeP,EAAyBJ,EAAoBmB,GAC3EP,OAAQ,WACJZ,EAAmBtC,SAAS,CACxBpyD,KAAM,gBACNmc,WAAY24C,MAIxBJ,EAAmBtP,QAAQC,QAAQ,WAAY0Q,GAC3CnoB,EAAG8Y,SACHgO,EAAmBtC,SAAS,CACxBpyD,KAAM,eACNuzD,gBAAiBoB,EAAcnoD,aAGvCkoD,EAAmBtP,QAAQC,QAAQ,OAAQ,eAAS,eAAS,GAAIuL,EAA6B5B,EAAS30C,SAAUq6C,IAAsB,CAAEiB,UAAW/nB,EAAG4W,UAAW+M,QAAS3jB,EAAG6Y,UAAWrnC,KAAM4vC,EAASvpD,QAAQmZ,WAChN81C,EAAmBtP,QAAQC,QAAQ,eAAgB,eAAS,eAAS,GAAI0Q,GAAc,CAAEJ,UAAW/nB,EAAG4W,UAAWplC,KAAM4vC,EAASvpD,QAAQmZ,iBAI7I61C,EAAiBrP,QAAQC,QAAQ,gBAGzC/mD,EAAMonD,WAEV,IAAIxlD,EAAY5B,EAAM4B,UAClBlD,EAAUkD,EAAUuF,QAAQzI,QAC5B0xD,EAAWpwD,EAAMowD,SAAW,IAAInC,EAA0B6E,EAAS7jD,IACvEmhD,EAAS9wB,QAAQogB,SAAW+U,EAAciD,SAC1CtH,EAAShC,oBAAqB,EAC9BgC,EAASpB,aAAavc,UAAY/zC,EAAQu1D,WAC1C,IAAIjB,EAAchzD,EAAMgzD,YAAc,IAAI7C,EAAYnwD,EAAMowD,SAAU,SAOtE,OANA4C,EAAY1C,iBAAmBwC,EAAS6E,eACxC3E,EAAYlM,QAAQ3lD,GAAG,cAAenB,EAAM2wD,mBAC5CqC,EAAYlM,QAAQ3lD,GAAG,YAAanB,EAAM6wD,iBAC1CmC,EAAYlM,QAAQ3lD,GAAG,YAAanB,EAAMwzD,iBAC1CR,EAAYlM,QAAQ3lD,GAAG,YAAanB,EAAM+wD,iBAC1CiC,EAAYlM,QAAQ3lD,GAAG,UAAWnB,EAAMixD,eACjCjxD,EAuDX,OA1SA,eAAUy0D,EAAe7tD,GAqPzB6tD,EAAc3tD,UAAUuwC,QAAU,WAC9Bp4C,KAAKmxD,SAAS/Y,WAGlBod,EAAc3tD,UAAUovD,YAAc,SAAU0B,EAAa7oD,GACzD,IAAIimD,EAAiB/1D,KAAK2C,UAAUuF,QAChC0wD,EAAc54D,KAAK21D,iBAEnBiD,GAAeA,IAAgBD,IAG3BC,IAAgB7C,EAChB6C,EAAY/D,SAAS,CACjBpyD,KAAM,iBACNqN,MAAO,CACH4mD,eAAgB5mD,EAAM4mD,eACtBC,cAAe,kBACf1rD,SAAS,KAMjB2tD,EAAY/D,SAAS,CAAEpyD,KAAM,sBAGjCk2D,GACAA,EAAY9D,SAAS,CAAEpyD,KAAM,iBAAkBqN,MAAOA,KAG9D0lD,EAAc3tD,UAAU2vD,UAAY,WAChC,IAAIqB,EAAkB74D,KAAK2C,UAAUuF,QACjCytD,EAAmB31D,KAAK21D,iBACxBA,GACAA,EAAiBd,SAAS,CAAEpyD,KAAM,qBAGlCo2D,IAAoBlD,GACpBkD,EAAgBhE,SAAS,CAAEpyD,KAAM,sBAGzC+yD,EAAc3tD,UAAUsgD,QAAU,WAC9BnoD,KAAKy1D,WAAa,KAClBz1D,KAAKuN,YAAa,EAClBvN,KAAKuM,WAAa,KAClBvM,KAAK01D,eAAiB,KACtB11D,KAAK21D,iBAAmB,KACxB31D,KAAK41D,cAAgB,KACrB51D,KAAK61D,sBAAwB,MAIjCL,EAAciD,SAAW,2CAClBjD,EA3SuB,CA4ShC,QACF,SAASuB,EAAqB5D,EAAMC,EAAM0F,GACtC,IAAI3D,EAAYhC,EAAKr2C,SACjBs4C,EAAYhC,EAAKt2C,SACjBi8C,EAAQ5D,EAAU9gD,MAAMrC,MACxB25B,EAAQypB,EAAU/gD,MAAMrC,MACxBgnD,EAAgB,GAChB7D,EAAU1oD,SAAW2oD,EAAU3oD,SAC/BusD,EAAcvsD,OAAS2oD,EAAU3oD,OACjCusD,EAAcC,OAAS7F,EAAKlrD,QAAQzI,QAAQy5D,uBACxC9D,EAAU3oD,SAGVssD,EAAQ,gBAAWA,KAG3B,IAAI5oB,EAAQ,gBAAU4oB,EAAOptB,EAAOwnB,EAAKjrD,QAAQuX,QAAS0zC,EAAKD,cAAgBE,EAAKF,YAChFC,EAAKgG,UACL,MACAhpB,EAAMxqB,eACNqzC,EAAcvsD,QAAS,GAM3B,IAJA,IAAI+pD,EAAW,CACX0B,WAAY/nB,EACZ6oB,cAAeA,GAEV1uD,EAAK,EAAG8uD,EAAcN,EAAWxuD,EAAK8uD,EAAY74D,OAAQ+J,IAAM,CACrE,IAAI+uD,EAAWD,EAAY9uD,GAC3B+uD,EAAS7C,EAAUrD,EAAMC,GAE7B,OAAOoD,EAEX,SAASL,EAAuBxzD,GAC5B,IAAIlD,EAAUkD,EAAUuF,QAAQzI,QAC5BwvD,EAAQxvD,EAAQ65D,oBAIpB,OAHa,MAATrK,IACAA,EAAQxvD,EAAQy1D,gBAEbjG,EAGX,IAAIsK,EAA+B,SAAU5xD,GAEzC,SAAS4xD,EAAc1F,GACnB,IAAI9yD,EAAQ4G,EAAO+M,KAAK1U,KAAM6zD,IAAa7zD,KAE3Ce,EAAMy4D,cAAgB,KACtBz4D,EAAM04D,YAAc,KACpB14D,EAAMwL,WAAa,KACnBxL,EAAM20D,eAAiB,KACvB30D,EAAM60D,cAAgB,KACtB70D,EAAM80D,sBAAwB,KAC9B90D,EAAM2wD,kBAAoB,SAAUrhB,GAChC,IAAI1tC,EAAY5B,EAAM4B,UAClB+2D,EAAQ34D,EAAM44D,WAAWtpB,GACzB7lC,EAAM,gBAASkvD,GACfntD,EAAaxL,EAAMwL,WAAa/B,EAAI+B,WACxCxL,EAAMowD,SAASjC,YAAcvsD,EAAUuF,QAAQzI,QAAQy2D,qBAEvDn1D,EAAMowD,SAASd,eAAetvD,EAAM4B,UAAU4zD,iBAAiBlmB,EAAG6Y,UAAUtlD,SACvEysC,EAAG8Y,SAAWpoD,EAAM4B,UAAUrD,MAAM8P,iBAAmB7C,EAAW2C,SAASD,aAEpFlO,EAAM6wD,gBAAkB,SAAUvhB,GAC9B,IAAInoC,EAAUnH,EAAM4B,UAAUuF,QAC1BqE,EAAaxL,EAAMwL,WACvBxL,EAAM20D,eAAiB,gBAAkBxtD,EAAQ+tD,iBAAiBr3C,WAAY7d,EAAMwL,WAAW2C,SAASD,YACxG,IAAIyqD,EAAQ34D,EAAM44D,WAAWtpB,GAC7BtvC,EAAMy4D,cAAgBE,EACtB34D,EAAM04D,YAAc,gBAASC,GAC7BxxD,EAAQ+rD,YAAYK,WACpBpsD,EAAQ2/C,QAAQC,QAAQ,mBAAoB,CACxC93C,GAAI0pD,EACJ/zD,MAAO,IAAI,OAASuC,EAASqE,EAAWC,IAAKD,EAAW2C,UACxD8kD,QAAS3jB,EAAG6Y,UACZrnC,KAAM3Z,EAAQmZ,WAGtBtgB,EAAMwzD,gBAAkB,SAAU/B,EAAKgC,EAASnkB,GAC5C,IAAInoC,EAAUnH,EAAM4B,UAAUuF,QAC1BwtD,EAAiB30D,EAAM20D,eACvBnE,EAAaxwD,EAAMgzD,YAAYxC,WAC/B6F,EAAgBr2D,EAAMwL,WAAW2C,SACjCsnD,EAAW,KACXX,EAAwB,KACxBpB,GAAY,EACZgC,EAAc,CACdC,eAAgBhB,EAChBiB,cAAe,kBACf1rD,SAAS,GAEb,GAAIunD,EAAK,CACL,IAAIkC,EAAalC,EAAIU,cAAgB3B,EAAW2B,aACzCnyD,EAAMka,oBACLla,EAAMka,kBAAkBs2C,EAAYiB,GACvCkC,IACD8B,EAAWoD,EAAgBrI,EAAYiB,EAAKniB,EAAG4W,UAAUlhB,UAAUxJ,SAAS,0BAA2B66B,EAAc/iD,QAGzHmiD,IACAX,EAAwB,eAA0BH,EAAgBxtD,EAAQ+tD,iBAAiBp3C,aAAc23C,EAAUtuD,GACnHuuD,EAAYE,cAAgBd,EACvB,gBAAmBY,EAAajE,EAAInnD,YAAanD,KAClDusD,GAAY,EACZ+B,EAAW,KACXX,EAAwB,KACxBY,EAAYE,cAAgB,OAGhCd,EACA3tD,EAAQ2sD,SAAS,CACbpyD,KAAM,mBACNqN,MAAO2mD,IAIXvuD,EAAQ2sD,SAAS,CAAEpyD,KAAM,uBAExBgyD,EAID,kBAHA,kBAKCD,IACGgC,GAAY/D,EAAYlB,EAAYiB,KACpCgE,EAAW,MAEfz1D,EAAM60D,cAAgBY,EACtBz1D,EAAM80D,sBAAwBA,IAGtC90D,EAAMixD,cAAgB,SAAU3hB,GAC5B,IAAInoC,EAAUnH,EAAM4B,UAAUuF,QAC1B6Y,EAAWhgB,EAAMwL,WAAWC,IAC5B4qD,EAAgBr2D,EAAMwL,WAAW2C,SACjCmoD,EAAW,IAAI,OAASnvD,EAAS6Y,EAAUq2C,GAC3C1B,EAAiB30D,EAAM20D,eACvBG,EAAwB90D,EAAM80D,sBAOlC,GANA3tD,EAAQ2/C,QAAQC,QAAQ,kBAAmB,CACvC93C,GAAIjP,EAAMy4D,cACV7zD,MAAO0xD,EACPrD,QAAS3jB,EAAG6Y,UACZrnC,KAAM3Z,EAAQmZ,UAEdtgB,EAAM60D,cAAe,CACrB,IAAI6B,EAAkB,IAAI,OAASvvD,EAAS2tD,EAAsB6B,KAAK32C,EAAS42C,OAAQP,EAAgBvB,EAAsBvV,UAAU8W,EAAcnoD,YAAc,MACpK/G,EAAQ2sD,SAAS,CACbpyD,KAAM,eACNmc,WAAYi3C,IAEhB,IAAI+B,EAAiB,CACjBC,SAAUR,EACV1xD,MAAO8xD,EACPK,cAAe,eAAejC,EAAuB3tD,EAASkvD,GAC9DW,OAAQ,WACJ7vD,EAAQ2sD,SAAS,CACbpyD,KAAM,eACNmc,WAAY82C,MAIxBxtD,EAAQ2/C,QAAQC,QAAQ,cAAe,eAAS,eAAS,GAAI8P,GAAiB,CAAE5nD,GAAIjP,EAAMy4D,cAAeK,WAAY94D,EAAM60D,cAAciE,YAAc,gBAAe,GAAIC,SAAU/4D,EAAM60D,cAAckE,UAAY,gBAAe,GAAI9F,QAAS3jB,EAAG6Y,UAAWrnC,KAAM3Z,EAAQmZ,WAC5QnZ,EAAQ2/C,QAAQC,QAAQ,cAAe8P,QAGvC1vD,EAAQ2/C,QAAQC,QAAQ,kBAG5B/mD,EAAM04D,YAAc,KACpB14D,EAAM20D,eAAiB,KACvB30D,EAAM60D,cAAgB,MAG1B,IAAIjzD,EAAYkxD,EAASlxD,UACrBwuD,EAAWpwD,EAAMowD,SAAW,IAAInC,EAA0B6E,EAAS7jD,IACvEmhD,EAAS9wB,QAAQogB,SAAW,oBAC5B0Q,EAAShC,oBAAqB,EAC9BgC,EAASpB,aAAavc,UAAY7wC,EAAUuF,QAAQzI,QAAQu1D,WAC5D,IAAIjB,EAAchzD,EAAMgzD,YAAc,IAAI7C,EAAYnwD,EAAMowD,SAAU,gBAA2B0C,IAKjG,OAJAE,EAAYlM,QAAQ3lD,GAAG,cAAenB,EAAM2wD,mBAC5CqC,EAAYlM,QAAQ3lD,GAAG,YAAanB,EAAM6wD,iBAC1CmC,EAAYlM,QAAQ3lD,GAAG,YAAanB,EAAMwzD,iBAC1CR,EAAYlM,QAAQ3lD,GAAG,UAAWnB,EAAMixD,eACjCjxD,EAQX,OArJA,eAAUw4D,EAAe5xD,GA+IzB4xD,EAAc1xD,UAAUuwC,QAAU,WAC9Bp4C,KAAKmxD,SAAS/Y,WAElBmhB,EAAc1xD,UAAU8xD,WAAa,SAAUtpB,GAC3C,OAAO,gBAAeA,EAAG4W,UAAW,cAEjCsS,EAtJuB,CAuJhC,QACF,SAASK,EAAgBzG,EAAMC,EAAM2G,EAAaC,GAC9C,IAAIv6C,EAAU0zC,EAAKjrD,QAAQuX,QACvBs5C,EAAQ5F,EAAKr2C,SAASzI,MAAMrC,MAC5B25B,EAAQynB,EAAKt2C,SAASzI,MAAMrC,MAC5Bm+B,EAAQ,gBAAU4oB,EAAOptB,EAAOlsB,EAAS0zC,EAAKgG,WAClD,GAAIY,GACA,GAAIt6C,EAAQ4P,IAAI2qC,EAAchoD,MAAOm+B,GAAS6pB,EAAc/nD,IACxD,MAAO,CAAE4nD,WAAY1pB,QAGxB,GAAI1wB,EAAQ4P,IAAI2qC,EAAc/nD,IAAKk+B,GAAS6pB,EAAchoD,MAC3D,MAAO,CAAE8nD,SAAU3pB,GAEvB,OAAO,KAGX,IAAI8pB,EAA8B,WAC9B,SAASA,EAAa/xD,GAClB,IAAInH,EAAQf,KACZA,KAAKkI,QAAUA,EACflI,KAAKk6D,2BAA4B,EACjCl6D,KAAKm6D,eAAgB,EACrBn6D,KAAKo6D,cAAe,EACpBp6D,KAAKq6D,SAAW,SAAUC,GAClBA,EAAWtG,UACXjzD,EAAMm5D,2BAA4B,IAG1Cl6D,KAAKu6D,sBAAwB,SAAU5S,GACnC,IAAI6S,EAAiBz5D,EAAMmH,QAAQzI,QAAQ+6D,eACvC5Q,EAAS,gBAAsBjC,EAAIuB,WACvCnoD,EAAMo5D,gBAAkB,gBAAevQ,EAAQ4Q,GAC/Cz5D,EAAMq5D,eAAiB,gBAAexQ,EAAQ4L,EAAciD,WAEhEz4D,KAAKy6D,oBAAsB,SAAU9S,GACjC,IAAIz/C,EAAUnH,EAAMmH,QAChBwyD,EAAkB35D,EAAM25D,gBACxBC,EAAgBzyD,EAAQ+tD,iBAE5B,IAAKyE,EAAgBpT,eAAgB,CACjC,GAAIqT,EAAch8C,gBACb5d,EAAMm5D,0BACT,CACE,IAAIU,EAAe1yD,EAAQzI,QAAQm7D,cAC/BA,GAAkBA,GAAiB75D,EAAMo5D,eACzCjyD,EAAQ+rD,YAAYK,SAAS3M,GAGjCgT,EAAcvrD,iBACbrO,EAAMq5D,cAEPlyD,EAAQ2sD,SAAS,CAAEpyD,KAAM,mBAGjC1B,EAAMm5D,2BAA4B,GAEtC,IAAIQ,EAAkB16D,KAAK06D,gBAAkB,IAAI3T,EAAgBnvB,UACjE8iC,EAAgBvT,kBAAmB,EACnCuT,EAAgBtT,mBAAoB,EACpCsT,EAAgB7S,QAAQ3lD,GAAG,cAAelC,KAAKu6D,uBAC/CG,EAAgB7S,QAAQ3lD,GAAG,YAAalC,KAAKy6D,qBAI7CvyD,EAAQ2/C,QAAQ3lD,GAAG,SAAUlC,KAAKq6D,UAMtC,OAJAJ,EAAapyD,UAAUuwC,QAAU,WAC7Bp4C,KAAKkI,QAAQ2/C,QAAQgT,IAAI,SAAU76D,KAAKq6D,UACxCr6D,KAAK06D,gBAAgBtiB,WAElB6hB,EAtDsB,GAyD7B5oC,EAAkB,CAClB+kC,kBAAmB,SAEnB0E,EAAoB,CACpBC,UAAW,QACXC,eAAgB,QAChBC,cAAe,QACfC,UAAW,QACXC,iBAAkB,QAClBC,gBAAiB,QACjBpsD,YAAa,QACbqsD,KAAM,QACNC,aAAc,QACdC,WAAY,SAQZC,EAAyC,WACzC,SAASA,EAAwBrK,EAAUsK,GACvC,IAAI16D,EAAQf,KACZA,KAAK21D,iBAAmB,KACxB31D,KAAK07D,eAAiB,KACtB17D,KAAKy7D,iBAAmB,KACxBz7D,KAAK27D,SAAW,KAChB37D,KAAK4xD,gBAAkB,SAAUvhB,GAC7BtvC,EAAM46D,SAAW56D,EAAM66D,cAAcvrB,EAAG4W,YAE5CjnD,KAAKu0D,gBAAkB,SAAU/B,EAAKgC,EAASnkB,GAC3C,IAAI8gB,EAAWpwD,EAAMgzD,YAAY5C,SAC7BwE,EAAmB,KACnB+F,EAAiB,KACjBjH,GAAY,EACZgC,EAAc,CACdC,eAAgB,kBAChBC,cAAe,kBACf1rD,QAASlK,EAAM46D,SAASpnC,QAExBi+B,IACAmD,EAAmBnD,EAAItqD,QACnBnH,EAAM86D,oBAAoBxrB,EAAG4W,UAAW0O,KACxC+F,EAAiBI,EAAwBtJ,EAAI11C,SAAU/b,EAAM46D,SAAUhG,GACvEc,EAAYE,cAAgB,gBAAkB+E,GAC9CjH,GAAa,gBAAmBgC,EAAajE,EAAInnD,YAAasqD,GAC1DlB,IACAgC,EAAYE,cAAgB,kBAC5B+E,EAAiB,QAI7B36D,EAAMk2D,YAAYtB,EAAkBc,GAGpCtF,EAASb,mBAAmBkE,IAAYkH,IAAmB9jC,SAASkG,cAAc,qBAC7E22B,EAID,kBAHA,kBAKCD,IACDrD,EAASZ,sBAAsBmL,GAC/B36D,EAAM40D,iBAAmBA,EACzB50D,EAAM26D,eAAiBA,IAG/B17D,KAAKgyD,cAAgB,SAAUrK,GAC3B,IAAI1/C,EAAKlH,EAAO40D,EAAmB1tD,EAAG0tD,iBAAkB+F,EAAiBzzD,EAAGyzD,eAE5E,GADA36D,EAAMy2D,YACF7B,GAAoB+F,EAAgB,CACpC,IAAIjK,EAAW1wD,EAAMgzD,YAAYtC,SAC7BsK,EAAYtK,EAASvpD,QAAQmZ,QAC7Bs6C,EAAW56D,EAAM46D,SAErB,GADAhG,EAAiB9N,QAAQC,QAAQ,OAAQ,eAAS,eAAS,GAAIuL,EAA6B5B,EAAS30C,SAAU64C,IAAoB,CAAEyC,UAAWzQ,EAAIV,UAAW+M,QAASrM,EAAIuB,UAAWrnC,KAAMk6C,KACzLJ,EAASpnC,OAAQ,CACjB,IAAIynC,EAAiB,gBAAkBN,GACvC/F,EAAiBd,SAAS,CACtBpyD,KAAM,eACNmc,WAAYo9C,IAEZrU,EAAIwB,SACJwM,EAAiBd,SAAS,CACtBpyD,KAAM,eACNuzD,gBAAiB0F,EAAexsD,SAASD,aAIjD0mD,EAAiB9N,QAAQC,QAAQ,eAAgB,CAC7CniD,MAAO,IAAI,OAASgwD,EAAkB+F,EAAelvD,IAAKkvD,EAAexsD,UACzE4oD,cAAe,GACfC,OAAQ,WACJpC,EAAiBd,SAAS,CACtBpyD,KAAM,gBACNmc,WAAYo9C,KAGpB5D,UAAWzQ,EAAIV,UACfplC,KAAMk6C,KAIlBh7D,EAAM40D,iBAAmB,KACzB50D,EAAM26D,eAAiB,MAE3B,IAAI3H,EAAc/zD,KAAK+zD,YAAc,IAAI7C,EAAYC,EAAU,SAC/D4C,EAAYzC,gBAAiB,EAC7ByC,EAAYlM,QAAQ3lD,GAAG,YAAalC,KAAK4xD,iBACzCmC,EAAYlM,QAAQ3lD,GAAG,YAAalC,KAAKu0D,iBACzCR,EAAYlM,QAAQ3lD,GAAG,UAAWlC,KAAKgyD,eACvChyD,KAAKy7D,iBAAmBA,EAmC5B,OAjCAD,EAAwB3zD,UAAU+zD,cAAgB,SAAU3U,GACxD,MAAqC,kBAA1BjnD,KAAKy7D,iBACL,gBAAcz7D,KAAKy7D,kBAEO,oBAA1Bz7D,KAAKy7D,iBACL,gBAAcz7D,KAAKy7D,iBAAiBxU,IAExCgV,EAAkBhV,IAE7BuU,EAAwB3zD,UAAUovD,YAAc,SAAU0B,EAAa7oD,GACnE,IAAI8oD,EAAc54D,KAAK21D,iBACnBiD,GAAeA,IAAgBD,GAC/BC,EAAY/D,SAAS,CAAEpyD,KAAM,qBAE7Bk2D,GACAA,EAAY9D,SAAS,CAAEpyD,KAAM,iBAAkBqN,MAAOA,KAG9D0rD,EAAwB3zD,UAAU2vD,UAAY,WACtCx3D,KAAK21D,kBACL31D,KAAK21D,iBAAiBd,SAAS,CAAEpyD,KAAM,sBAG/C+4D,EAAwB3zD,UAAUg0D,oBAAsB,SAAU7rD,EAAI2lD,GAClE,IAAIuG,EAAavG,EAAiBl2D,QAAQy8D,WAC1C,MAA0B,oBAAfA,EACAA,EAAWxnD,KAAKihD,EAAiB1B,YAAajkD,GAE/B,kBAAfksD,IAA2BA,GAC3Bp7D,QAAQ,gBAAekP,EAAIksD,KAInCV,EA9HiC,GAkI5C,SAASM,EAAwBh/C,EAAU6+C,EAAUzzD,GAEjD,IADA,IAAIi0D,EAAW,eAAS,GAAIR,EAASS,eAC5B9xD,EAAK,EAAGrC,EAAKC,EAAQwB,YAAY2yD,sBAAuB/xD,EAAKrC,EAAG1H,OAAQ+J,IAAM,CACnF,IAAIipD,EAAYtrD,EAAGqC,GACnB,eAAS6xD,EAAU5I,EAAUz2C,EAAU6+C,IAE3C,IAAI1oD,EAAK,gBAAekpD,EAAUj0D,GAAUo0D,EAAUrpD,EAAGqpD,QAASC,EAAQtpD,EAAGspD,MACzE/vD,EAAM,gBAAc8vD,EAASC,EAAOZ,EAASa,SAAU1/C,EAASrQ,OAAQvE,EAAQzI,QAAQg9D,oBAAsB37D,QAAQ66D,EAASv7C,UACnIlY,GACI8J,EAAQ8K,EAASzI,MAAMrC,MAGvB8K,EAASrQ,QAAUkvD,EAASe,YAC5B1qD,EAAQ9J,EAAQuX,QAAQ4P,IAAIrd,EAAO2pD,EAASe,YAEhD,IAAIzqD,EAAM0pD,EAASv7C,SACflY,EAAQuX,QAAQ4P,IAAIrd,EAAO2pD,EAASv7C,UACpC,gBAAmBtD,EAASrQ,OAAQuF,EAAO9J,GAC3CgH,EAAW,gBAAoB1C,EAAImrD,MAAO,CAAE3lD,MAAOA,EAAOC,IAAKA,IACnE,MAAO,CAAEzF,IAAKA,EAAK0C,SAAUA,GAIjC,SAAS+sD,EAAkBjsD,GACvB,IAAI2sD,EAAMC,EAAkB5sD,EAAI,SAC5B5L,EAAMu4D,EACNxkC,KAAK+iB,MAAMyhB,GACX,CAAEpoC,QAAQ,GACd,OAAO,gBAAcnwB,GAGzB,SAASw4D,EAAkB5sD,EAAI9O,GAC3B,IAAI27D,EAAS,QAAOC,eAChBC,GAAgBF,EAASA,EAAS,IAAM,IAAM37D,EAClD,OAAO8O,EAAGunC,aAAa,QAAUwlB,IAAiB,GAJtD,QAAOD,eAAiB,IAYe,WACnC,SAASE,EAAkBhtD,EAAI6jD,GAC3B,IAAI9yD,EAAQf,UACK,IAAb6zD,IAAuBA,EAAW,IACtC7zD,KAAK0xD,kBAAoB,SAAUrhB,GAC/B,IAAI8gB,EAAWpwD,EAAMowD,SACjBlpD,EAAKlH,EAAM8yD,SAAU3E,EAAcjnD,EAAGinD,YAAagG,EAAiBjtD,EAAGitD,eAC3E/D,EAASjC,YACU,MAAfA,EACIA,EACC7e,EAAG8Y,QAAU,EAAI,OAAqB+M,qBAC/C/E,EAASlC,MACL5e,EAAG8Y,QACoB,MAAlB+L,EAAyBA,EAAiB,OAAqBA,eAChE,GAEZl1D,KAAK4xD,gBAAkB,SAAUvhB,GACzBA,EAAG8Y,SACHpoD,EAAMowD,SAASlC,OACf5e,EAAG4W,UAAUlhB,UAAUxJ,SAAS,aAChCx7B,EAAMowD,SAASzB,OAAOzE,cAAcllB,UAAU1W,IAAI,sBAG1DrvB,KAAK6zD,SAAWA,EAChB,IAAI1C,EAAWnxD,KAAKmxD,SAAW,IAAInC,EAA0Bh/C,GAC7DmhD,EAAShC,oBAAqB,EACD,MAAzB0E,EAASoJ,eACT9L,EAAS9wB,QAAQogB,SAAWoT,EAASoJ,cAEhB,MAArBpJ,EAAS5gB,WACTke,EAASzB,OAAO13B,WAAa67B,EAAS5gB,UAE1Cke,EAAStJ,QAAQ3lD,GAAG,cAAelC,KAAK0xD,mBACxCP,EAAStJ,QAAQ3lD,GAAG,YAAalC,KAAK4xD,iBACtC,IAAI4J,EAAwBrK,EAAU0C,EAASqJ,WAEnDF,EAAkBn1D,UAAUuwC,QAAU,WAClCp4C,KAAKmxD,SAAS/Y,YArCgB,GAAtC,IAgDI+kB,EAAyC,SAAUx1D,GAEnD,SAASw1D,EAAwBnW,GAC7B,IAAIjmD,EAAQ4G,EAAO+M,KAAK1U,KAAMgnD,IAAgBhnD,KAC9Ce,EAAMomD,kBAAmB,EACzBpmD,EAAMq8D,eAAiB,GACvBr8D,EAAMs8D,gBAAkB,KACxBt8D,EAAM2wD,kBAAoB,SAAUrhB,GAChCtvC,EAAM8mD,QAAQC,QAAQ,cAAezX,GAChCtvC,EAAMomD,kBAEPpmD,EAAM8mD,QAAQC,QAAQ,YAAazX,IAG3CtvC,EAAMu8D,kBAAoB,SAAUjtB,GAC3BtvC,EAAMomD,kBACPpmD,EAAM8mD,QAAQC,QAAQ,WAAYzX,IAG1CtvC,EAAM+wD,gBAAkB,SAAUzhB,GAC9BtvC,EAAM8mD,QAAQC,QAAQ,YAAazX,GAC9BtvC,EAAMomD,kBAEPpmD,EAAM8mD,QAAQC,QAAQ,UAAWzX,IAGzC,IAAIhQ,EAAUt/B,EAAMs/B,QAAU,IAAI0mB,EAAgBC,GAIlD,OAHA3mB,EAAQwnB,QAAQ3lD,GAAG,cAAenB,EAAM2wD,mBACxCrxB,EAAQwnB,QAAQ3lD,GAAG,cAAenB,EAAMu8D,mBACxCj9B,EAAQwnB,QAAQ3lD,GAAG,YAAanB,EAAM+wD,iBAC/B/wD,EA4BX,OAzDA,eAAUo8D,EAAyBx1D,GA+BnCw1D,EAAwBt1D,UAAUuwC,QAAU,WACxCp4C,KAAKqgC,QAAQ+X,WAEjB+kB,EAAwBt1D,UAAUwoD,cAAgB,SAAU9qB,GACxDvlC,KAAKmnD,iBAAmB5hB,GAE5B43B,EAAwBt1D,UAAUyoD,mBAAqB,SAAU/qB,GAC7D,GAAIA,EAGIvlC,KAAKq9D,kBACLr9D,KAAKq9D,gBAAgBtvD,MAAMoB,WAAa,GACxCnP,KAAKq9D,gBAAkB,UAG1B,CACD,IAAIhT,EAAWrqD,KAAKo9D,eAEdxlC,SAASkG,cAAc99B,KAAKo9D,gBAC5B,KACF/S,IACArqD,KAAKq9D,gBAAkBhT,EACvBA,EAASt8C,MAAMoB,WAAa,YAIjCguD,EA1DiC,CA2D1C,QAqCEr9C,GA/BqC,WACrC,SAASy9C,EAAoBC,EAAqB3J,GAC9C,IAAI7M,EAAcpvB,SAGlB4lC,IAAwB5lC,UACpB4lC,aAA+BC,SAC/BzW,EAAcwW,EACd3J,EAAWA,GAAY,IAGvBA,EAAY2J,GAAuB,GAEvC,IAAIrM,EAAWnxD,KAAKmxD,SAAW,IAAIgM,EAAwBnW,GACtB,kBAA1B6M,EAASoJ,aAChB9L,EAAS9wB,QAAQogB,SAAWoT,EAASoJ,aAEhCjW,IAAgBpvB,WACrBu5B,EAAS9wB,QAAQogB,SAAW,gBAEO,kBAA5BoT,EAASuJ,iBAChBjM,EAASiM,eAAiBvJ,EAASuJ,gBAEvC,IAAI5B,EAAwBrK,EAAU0C,EAASqJ,WAEnDK,EAAoB11D,UAAUuwC,QAAU,WACpCp4C,KAAKmxD,SAAS/Y,WA1BkB,GA+B7B,gBAAa,CACpBslB,sBAAuB,CAAC9J,EAAcM,EAAesB,EAAe+D,GACpEoE,qBAAsB,CAAC1D,GACvB2D,oBAAqB5O,EACrB19B,eAAgBD,EAChBwsC,iBAAkB/C,KAGP,U,4CC5mEfl4D,EAAOC,QAAU,IAA0B,4B,qBCA3CD,EAAOC,QAAU,IAA0B,4B,kCCA3C,W,qBCAAD,EAAOC,QAAU,IAA0B,6B,kCCA3C,sCAAI0B,EAAJ,oOAEA,SAASzB,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAASU,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIvD,UAAUC,OAAQsD,IAAK,CAAE,IAAIC,EAAyB,MAAhBxD,UAAUuD,GAAavD,UAAUuD,GAAK,GAAQA,EAAI,EAAKf,EAAQI,OAAOY,IAAS,GAAMC,SAAQ,SAAU1D,GAAO2D,EAAgBJ,EAAQvD,EAAKyD,EAAOzD,OAAsB6C,OAAOe,0BAA6Bf,OAAOgB,iBAAiBN,EAAQV,OAAOe,0BAA0BH,IAAmBhB,EAAQI,OAAOY,IAASC,SAAQ,SAAU1D,GAAO6C,OAAOiB,eAAeP,EAAQvD,EAAK6C,OAAOK,yBAAyBO,EAAQzD,OAAe,OAAOuD,EAE7gB,SAASI,EAAgBI,EAAK/D,EAAKI,GAAiK,OAApJJ,KAAO+D,EAAOlB,OAAOiB,eAAeC,EAAK/D,EAAK,CAAEI,MAAOA,EAAO+C,YAAY,EAAMa,cAAc,EAAMC,UAAU,IAAkBF,EAAI/D,GAAOI,EAAgB2D,EAsB3M,IAAI05D,EAAa,YACbC,EAAuC,eAAuB,OAAe,iBAC7EC,EAAgC,eAAuB,OAAe,UACtEC,EAAwB,eAAiB,OAAe,SACxDC,EAA6B,eAAiB,OAAe,cAE7D94D,EAAkB,eAAe,UAAW,CAC9C3C,KAAM,OACN68C,cAAc,EACd35C,MAAO,SAELN,EAAaD,EAAgBE,MAC7BC,EAAaH,EAAgB9F,MAC7BkG,EAAkBJ,EAAgBK,KAClCC,EAAmBN,EAAgBO,MAG5BrG,EAAQ,eAAsB,eAASqE,EAAcA,EAAcA,EAAc,GAAI,QAAU4B,GAAa,GAAI,CACzH44D,UAAW,eAAS,QACpBC,eAAgB,eAAS,QAEzBC,SAAU,eAAS,QAAmB,GACtCC,gBAAiB,eAAS,OAAkB,QAC5CC,UAAW,eAAS,OAAkB,SACtCC,UAAW,eAAS,QAEpBC,WAAY,eAAS,QACrBC,YAAa,eAAS,QACtBC,YAAa,eAAS,QACtBC,KAAM,eAAS,QAAmB,GAClCC,kBAAmB,eAAS,QAAmB,GAC/CC,aAAc,eAAS,QAAmB,GAC1CC,qBAAsB,eAAS,QAAmB,GAClDC,eAAgB,eAAS,QAAmB,GAC5CC,SAAU,eAAS,QAAmB,GACtCC,cAAe,eAAS,QAAmB,GAC3CC,QAAS,eAAS,QAAmB,GACrCpnD,MAAO,eAAS,QAAmB,GACnCqnD,OAAQ,eAAS,QAA0B,GAC3CC,aAAc,eAAS,QACvB1/B,IAAK,eAAS,OAAkB,OAChC2/B,YAAa,eAAS,OAAkB,QACxCt9D,MAAO,eAAS,QAChB2Z,MAAO,eAAS,QAChB0R,OAAQ,eAAS,WACd,SAEDkyC,EAAoB,SAA2B34D,EAAG44D,GAEpD,IAAIx9D,EAAQw9D,EAAIl4D,cAAc,OAAiBk4D,EAAIC,YAAcD,EAAIx9D,MAErE,OAAKA,EAIE4E,EAAE,SAAU,CACjBlF,MAAO,CACL8C,GAAIg7D,EAAIj5D,OAAO,eAEhB,CAACvE,IAPK4E,EAAE,SAUT84D,EAAoB,SAA2B94D,EAAG44D,GACpD,GAAIA,EAAIN,cACN,OAAOt4D,IAGT,IAAI63D,EAAae,EAAIf,WACjBa,EAAcE,EAAIF,YAClBK,EAAOH,EAAIG,KACf,OAAO/4D,EAAE,OAAc,CACrBtH,MAAO,CACL6+D,UAAWM,EACXa,YAAaA,GAEfp9D,GAAI,CACFw9B,MAAOigC,GAET52D,IAAK,gBACJ,CAACy2D,EAAIl4D,cAAc,SAA2BV,EAAE,WAGjDg5D,EAAe,SAAsBh5D,EAAG44D,GAC1C,GAAIA,EAAIP,SACN,OAAOr4D,IAGT,IAAIi5D,EAAWL,EAAIl4D,cAAc,OAAkBk4D,EAAIC,WAEvD,IAAKI,EAAU,CACb,IAAIC,EAASP,EAAkB34D,EAAG44D,GAC9BO,EAASL,EAAkB94D,EAAG44D,GAClCK,EAAWL,EAAIznD,MAAQ,CAACgoD,EAAQD,GAAU,CAACA,EAAQC,GAGrD,OAAOn5D,EAAE,SAAU,CACjBnF,YAAa,GAAGkF,OAAOm3D,EAAY,WACnCj8D,MAAO29D,EAAIb,YACXt+D,IAAK,UACJw/D,IAGDG,EAAa,SAAoBp5D,EAAG44D,GACtC,OAAO54D,EAAE,MAAO,CACdnF,YAAa,GAAGkF,OAAOm3D,EAAY,SACnCj8D,MAAO29D,EAAIhB,UACXn+D,IAAK,QACJ,CAACm/D,EAAIl4D,cAAc,OAAmBk4D,EAAIC,cAG3CQ,EAAe,SAAsBr5D,EAAG44D,GAC1C,IAAIU,EAAUV,EAAIl4D,cAAc,OAAkBk4D,EAAIC,WAEtD,OAAKS,EAIEt5D,EAAE,SAAU,CACjBnF,YAAa,GAAGkF,OAAOm3D,EAAY,WACnCj8D,MAAO29D,EAAId,YACXr+D,IAAK,UACJ,CAAC6/D,IAPKt5D,KAUPu5D,EAAgB,SAAuBv5D,EAAG44D,GAG5C,IAAIY,EAAUR,EAAah5D,EAAG44D,GAE9B,OAAIA,EAAIZ,OAASY,EAAIjyB,OACZ6yB,EAGF,CAACA,EAASJ,EAAWp5D,EAAG44D,GAAMS,EAAar5D,EAAG44D,KAGnDa,EAAiB,SAAwBz5D,EAAG44D,GAC9C,IAAKA,EAAInB,SACP,OAAOz3D,IAGT,IAAI03D,EAAkBkB,EAAIlB,gBAC1B,OAAO13D,EAAE,MAAO,CACd4xB,WAAY,CAAC,CACXt3B,KAAM,OACNT,MAAO++D,EAAIc,YAEb7+D,YAAa,qBACbI,MAAOmC,EAAgB,GAAI,MAAM2C,OAAO23D,GAAkBA,GAC1Dp8D,GAAI,CACFw9B,MAAO8/B,EAAIe,oBAONC,EAAwB,aAAI3gE,OAAO,CAC5CqB,KAAM,QACNwD,OAAQ,CAAC,OAAY,OAASW,EAAY,OAAmB,QAC7Da,cAAc,EACd5G,MAAOA,EACP6G,KAAM,WACJ,IAAIo8C,IAAYviD,KAAKwF,GACrB,MAAO,CAEL86D,UAAW/d,EAEXhV,OAAQgV,IAGZziD,SAAU,CACR2gE,gBAAiB,WACf,OAAOzgE,KAAKm/D,QAEZ,CACEuB,KAAK,GACH,CACFA,KAAK,EACLC,WAAY,GACZC,iBAAkB,QAClBC,aAAc,OACdC,WAAY,OACZC,iBAAkB,QAClBC,aAAc,KAGlBvB,UAAW,WACT,IAAIE,EAAO3/D,KAAK2/D,KACZ5nD,EAAQ/X,KAAK+X,MACbwqC,EAAUviD,KAAKsgE,UACnB,MAAO,CACLX,KAAMA,EACN5nD,MAAOA,EACPwqC,QAASA,IAGb0e,SAAU,WACR,IAAIrjC,EAAe59B,KAAK49B,aACpBsjC,EAASlhE,KAAKkhE,OAClB,OAAQlhE,KAAKi/D,WAAaj/D,KAAKmhE,kBAAkB,YAAwBnhE,KAAKsH,cAAc,OAAiBtH,KAAKy/D,UAAW7hC,EAAcsjC,KAAWlhE,KAAKgC,QAE7Jo/D,QAAS,WACP,OAAOphE,KAAKihE,SAAWjhE,KAAKuG,OAAO,aAAe,MAEpDo+C,cAAe,WACb,OAAOhhD,EAAcA,EAAc,GAAI3D,KAAKqhE,SAAU,GAAI,CACxD78D,GAAIxE,KAAKuG,SACTc,SAAU,KACVD,KAAM,SACN,aAAcpH,KAAKq+D,SAAW,OAAS,QACvC,cAAer+D,KAAKsgE,UAAY,KAAO,OACvC,aAActgE,KAAKm+D,WAAa,KAChC,kBAAmBn+D,KAAKo+D,gBAAkBp+D,KAAKohE,SAAW,SAIhEt8D,OAAQP,EAAS,GAAIP,EAAgBO,EAAQiB,GAAiB,SAAUR,EAAUC,GAC5ED,IAAaC,IACfjF,KAAKsgE,UAAYt7D,MAEjBhB,EAAgBO,EAAQ,aAAa,SAAmBS,EAAUC,GAChED,IAAaC,IACfjF,KAAKshE,UAAUt8D,GACfhF,KAAKoC,MAAMsD,EAAkBV,OAE7BhB,EAAgBO,EAAQ,UAAU,WACpC,IAAIS,EAAW1E,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,GAC/E2E,EAAW3E,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,GAE9EN,KAAK++D,sBAAwB/5D,EAASu8D,WAAat8D,EAASs8D,UAC/DvhE,KAAK2/D,UAELp7D,GACJ82B,QAAS,WAEPr7B,KAAKwhE,gBAAkB,MAEzBpc,QAAS,WACP,IAAIrkD,EAAQf,KAGZA,KAAKyhE,aAAazD,EAA+Bh+D,KAAK0hE,cACtD1hE,KAAKyhE,aAAa1D,EAAsC/9D,KAAK2hE,YAE7D3hE,KAAKgjD,WAAU,WACbjiD,EAAMugE,UAAUvgE,EAAMu/D,eAK1BsB,UAAW,WACT5hE,KAAK6hE,YAEPC,cAAe,WACb9hE,KAAKsgE,WAAY,EACjBtgE,KAAKwhE,gBAAkB,MAEzBthE,QAAS,CACPy/D,KAAM,WACJ3/D,KAAKsgE,WAAY,GAEnBgB,UAAW,WACT,IAAIxxD,EAAQxP,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAKN,KAAKsgE,UACrFtgE,KAAK+hE,WAAW9D,EAAuBj+D,KAAKuG,SAAUuJ,IAExD+xD,SAAU,WACR,IAAI/xD,EAAQxP,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAKN,KAAKsgE,UACrFtgE,KAAK+hE,WAAW7D,EAA4Bl+D,KAAKuG,SAAUuJ,IAE7D4xD,aAAc,SAAsBl9D,GAE9BA,GAAMA,IAAOxE,KAAKuG,WACpBvG,KAAKsgE,WAAatgE,KAAKsgE,YAG3BqB,WAAY,SAAoBn9D,GAC9B,IAAIw9D,EAAShiE,KAGTwE,GAAMA,IAAOxE,KAAKuG,UACpBvG,KAAKgjD,WAAU,WACbgf,EAAOH,SAASG,EAAO1B,eAI7B2B,UAAW,SAAmBt8D,GAC5B,IAAI+3B,EAAU/3B,EAAM+3B,SAEf19B,KAAK8+D,cAAgBphC,IAAY,QAAY19B,KAAKsgE,WACrDtgE,KAAK2/D,QAGTY,gBAAiB,WACXvgE,KAAKsgE,YAActgE,KAAK6+D,mBAC1B7+D,KAAK2/D,QAKTuC,eAAgB,WACd,IAAIC,EAAW,eAAYniE,KAAKk1B,MAAMvsB,SACtC3I,KAAKoiE,aAAaD,EAASE,UAAU,KAIvCC,kBAAmB,WACjB,IAAIH,EAAW,eAAYniE,KAAKk1B,MAAMvsB,SACtC3I,KAAKoiE,aAAaD,EAAS,KAE7BI,cAAe,WAGbviE,KAAKwhE,gBAAkB,eAAiB,OAAa,CAAC5pC,SAASC,MAAQ,IAEvE73B,KAAKutC,QAAS,GAEhBi1B,aAAc,SAAsBxyD,GAC7B,eAASA,EAAI,mBAChBhQ,KAAKoiE,aAAapyD,GAGpBhQ,KAAKoC,MAAM,SAEbqgE,aAAc,WACZziE,KAAKoiE,aAAapiE,KAAKwhE,iBACvBxhE,KAAKwhE,gBAAkB,KAEvBxhE,KAAKutC,QAAS,EACdvtC,KAAKoC,MAAM,SAEbggE,aAAc,SAAsBpyD,GAC7BhQ,KAAKg/D,gBACR,eAAahvD,KAInB7O,OAAQ,SAAgByF,GACtB,IAAIy8C,EAEAkb,EAAYv+D,KAAKu+D,UACjB5iD,EAAQ3b,KAAK2b,MACb2jD,EAAct/D,KAAKs/D,YACnBgB,EAAYtgE,KAAKsgE,UACjBlB,EAAyB,KAAhBp/D,KAAKo/D,QAAuBp/D,KAAKo/D,OAC1CsD,EAAW97D,EAAE5G,KAAK2/B,IAAK,CACzBl+B,YAAaq8D,EACbj8D,MAAO,EAAEwhD,EAAO,CACd+b,QAAmB,IAAXA,GACPp7D,EAAgBq/C,EAAM,UAAU18C,OAAOy4D,GAASA,IAAqB,IAAXA,GAAkBp7D,EAAgBq/C,EAAM,GAAG18C,OAAOm3D,EAAY,UAAW99D,KAAK+X,OAAQ/T,EAAgBq/C,EAAM,MAAM18C,OAAO43D,GAAYA,GAAYv6D,EAAgBq/C,EAAM,QAAQ18C,OAAO24D,GAAcA,GAAcjc,GAAOrjD,KAAKq/D,cAC3RtxD,MAAO,CACL4N,MAAOA,GAETja,MAAO1B,KAAK2kD,cACZnsB,WAAY,CAAC,CACXt3B,KAAM,OACNT,MAAO6/D,IAETv3D,IAAK,WACJ,CAACo3D,EAAcv5D,EAAG5G,QACrB0iE,EAAW97D,EAAE,aAAc,CACzBtH,MAAOU,KAAKygE,gBACZv+D,GAAI,CACFygE,YAAa3iE,KAAKuiE,cAClBK,WAAY5iE,KAAKwiE,aACjBK,WAAY7iE,KAAKyiE,eAElB,CAACC,IACJ,IAAII,EAAYl8D,EAAE,OAAc,CAC9BtH,MAAO,CACLyjE,OAAQ/iE,KAAKm/D,UAEd,CAACkB,EAAez5D,EAAG5G,QAClBgjE,EAAcp8D,IACdq8D,EAAiBr8D,IAqBrB,OAnBI5G,KAAKq+D,UAAYiC,IACnB0C,EAAcp8D,EAAE,MAAO,CACrBlF,MAAO,CACL2F,SAAU,KAEZnF,GAAI,CACFs6B,MAAOx8B,KAAKkiE,kBAGhBe,EAAiBr8D,EAAE,MAAO,CACxBlF,MAAO,CACL2F,SAAU,KAEZnF,GAAI,CACFs6B,MAAOx8B,KAAKsiE,sBAKX17D,EAAE,MAAO,CACdnF,YAAa,kBACbsM,MAAO,CACLsf,OAAQrtB,KAAKqtB,QAEf3rB,MAAO,CACL2F,SAAU,MAEZnF,GAAI,CACFq8B,QAASv+B,KAAKiiE,YAEf,CAACe,EAAaN,EAAUO,EAAgBH,Q,sBClb9C,SAASrvC,EAAEC,GAAqD9wB,EAAOC,QAAQ6wB,EAAE,EAAQ,SAAzF,CAAyR,oBAAoBC,MAAKA,MAAU,SAAUF,GAAG,OAAO,SAASA,GAAG,IAAIC,EAAE,GAAG,SAASE,EAAEO,GAAG,GAAGT,EAAES,GAAG,OAAOT,EAAES,GAAGtxB,QAAQ,IAAIgxB,EAAEH,EAAES,GAAG,CAACtwB,EAAEswB,EAAEL,GAAE,EAAGjxB,QAAQ,IAAI,OAAO4wB,EAAEU,GAAGzf,KAAKmf,EAAEhxB,QAAQgxB,EAAEA,EAAEhxB,QAAQ+wB,GAAGC,EAAEC,GAAE,EAAGD,EAAEhxB,QAAQ,OAAO+wB,EAAEG,EAAEN,EAAEG,EAAEI,EAAEN,EAAEE,EAAEK,EAAE,SAASR,EAAEC,EAAES,GAAGP,EAAEC,EAAEJ,EAAEC,IAAIxwB,OAAOiB,eAAesvB,EAAEC,EAAE,CAAClwB,YAAW,EAAG0wB,IAAIC,KAAKP,EAAEO,EAAE,SAASV,GAAG,oBAAoBW,QAAQA,OAAOC,aAAanxB,OAAOiB,eAAesvB,EAAEW,OAAOC,YAAY,CAAC5zB,MAAM,WAAWyC,OAAOiB,eAAesvB,EAAE,aAAa,CAAChzB,OAAM,KAAMmzB,EAAEH,EAAE,SAASA,EAAEC,GAAG,GAAG,EAAEA,IAAID,EAAEG,EAAEH,IAAI,EAAEC,EAAE,OAAOD,EAAE,GAAG,EAAEC,GAAG,iBAAiBD,GAAGA,GAAGA,EAAEa,WAAW,OAAOb,EAAE,IAAIU,EAAEjxB,OAAOqxB,OAAO,MAAM,GAAGX,EAAEO,EAAEA,GAAGjxB,OAAOiB,eAAegwB,EAAE,UAAU,CAAC3wB,YAAW,EAAG/C,MAAMgzB,IAAI,EAAEC,GAAG,iBAAiBD,EAAE,IAAI,IAAII,KAAKJ,EAAEG,EAAEK,EAAEE,EAAEN,EAAE,SAASH,GAAG,OAAOD,EAAEC,IAAIpB,KAAK,KAAKuB,IAAI,OAAOM,GAAGP,EAAEA,EAAE,SAASH,GAAG,IAAIC,EAAED,GAAGA,EAAEa,WAAW,WAAW,OAAOb,EAAE/wB,SAAS,WAAW,OAAO+wB,GAAG,OAAOG,EAAEK,EAAEP,EAAE,IAAIA,GAAGA,GAAGE,EAAEC,EAAE,SAASJ,EAAEC,GAAG,OAAOxwB,OAAO2E,UAAU2sB,eAAe9f,KAAK+e,EAAEC,IAAIE,EAAEa,EAAE,GAAGb,EAAEA,EAAEc,EAAE,GAAj5B,CAAq5B,CAAC,SAAShB,EAAEE,GAAGF,EAAE7wB,QAAQ4wB,GAAG,SAASA,EAAEC,EAAEE,GAAG,aAAaA,EAAEO,EAAET,GAAGE,EAAEK,EAAEP,EAAE,aAAY,WAAY,OAAOM,KAAKJ,EAAEK,EAAEP,EAAE,UAAS,WAAY,OAAOe,KAAK,IAAIN,EAAEP,EAAE,GAAGC,EAAED,EAAEA,EAAEO,GAAGtwB,EAAE,CAAC,WAAW,UAAU,YAAY,gBAAgB,SAAS,gBAAgB,SAASyxB,IAAI,OAAOA,EAAEpyB,OAAO4pC,QAAQ,SAASrZ,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEpzB,UAAUC,OAAOmzB,IAAI,CAAC,IAAIE,EAAEtzB,UAAUozB,GAAG,IAAI,IAAIS,KAAKP,EAAE1wB,OAAO2E,UAAU2sB,eAAe9f,KAAKkf,EAAEO,KAAKV,EAAEU,GAAGP,EAAEO,IAAI,OAAOV,IAAI/vB,MAAM1D,KAAKM,WAAW,IAAIkoB,EAAE,SAASiL,GAAG,OAAOA,EAAEyvC,QAAQ,kBAAkB,SAASnpC,eAAe9C,EAAE,SAASxD,GAAG,OAAO6B,EAAE,GAAG7B,IAAIK,EAAEjwB,EAAE8C,OAAO,CAAC,gBAAgB,cAAc,gBAAgB,UAAU,wBAAwB,cAAc+tB,EAAE,CAAC,SAAS,cAAcV,EAAE,CAAC9yB,KAAK,aAAaC,OAAO,SAASsyB,GAAG,OAAOA,EAAE,QAAQ,CAAC/xB,MAAM,CAACe,KAAK,OAAO,cAAa,GAAInD,MAAM,CAACuB,SAASb,KAAKa,UAAUqB,GAAG,CAACs8B,MAAMx+B,KAAKglD,YAAY1lD,MAAM,CAACmB,MAAM,CAACiC,QAAQ,KAAKyE,UAAS,EAAGizB,UAAU,SAAS3G,GAAG,OAAO,OAAOA,GAAGA,aAAanD,MAAM,iBAAiBmD,GAAGA,aAAa9yB,QAAQ8yB,aAAajS,OAAO,iBAAiBiS,IAAIqW,OAAO,CAACrnC,KAAKS,OAAOR,QAAQ,WAAW,MAAM,CAACsvB,MAAK,EAAG8c,YAAY,QAAQ1Q,OAAO,CAAC37B,KAAK+e,MAAM9e,QAAQ,WAAW,OAAOmB,IAAIhD,SAAS,CAAC4B,KAAK3B,QAAQ4B,SAAQ,IAAKyD,KAAK,WAAW,MAAM,CAACg9D,GAAG,OAAO/d,QAAQ,WAAW,IAAI3xB,EAAEzzB,KAAK,IAAIA,KAAKmjE,GAAG,CAAC,IAAIzvC,EAAEuD,EAAEj3B,KAAK8pC,QAAQ9pC,KAAKo+B,OAAOr6B,SAAQ,SAAU6vB,GAAG,IAAIO,EAAEtwB,EAAEgwB,EAAErL,EAAEwkB,cAAcpZ,IAAI,GAAGF,EAAEE,IAAIO,EAAET,EAAEE,IAAI,GAAGO,aAAa3S,MAAM2S,EAAE,CAACA,IAAIxtB,OAAO9C,GAAE,WAAY,IAAI,IAAI6vB,EAAEpzB,UAAUC,OAAO4zB,EAAE,IAAI3S,MAAMkS,GAAGG,EAAE,EAAEA,EAAEH,EAAEG,IAAIM,EAAEN,GAAGvzB,UAAUuzB,GAAGJ,EAAErxB,MAAMsB,MAAM+vB,EAAE,CAACjL,EAAEoL,IAAIjtB,OAAOwtB,UAAUT,EAAEob,YAAY9uC,KAAKS,OAAOizB,EAAEob,YAAY9uC,KAAKmjE,GAAG,IAAItvC,EAAErL,EAAExoB,KAAKojE,UAAU1vC,GAAG1zB,KAAKqjE,UAAU/yB,iBAAiB,OAAOtwC,KAAKyxC,QAAQzxC,KAAKs7B,IAAI,WAAWt7B,KAAKijC,SAASjjC,KAAKsjE,OAAO,WAAWtjE,KAAKujE,cAAc,CAACC,WAAU,MAAOtjE,QAAQ,CAACkjE,QAAQ,WAAW,OAAOpjE,KAAK8pC,OAAO9X,KAAKhyB,KAAKwlD,IAAIxtB,WAAWh4B,KAAKwlD,KAAKR,QAAQ,SAASvxB,GAAG,IAAIC,EAAE1zB,KAAK4zB,EAAEH,EAAE7vB,OAAO5D,KAAKgjD,WAAU,WAAYtvB,EAAEtxB,MAAM,QAAQwxB,EAAEnzB,WAAW4iE,QAAQ,WAAW,OAAOrjE,KAAKmjE,GAAGviC,UAAU5gC,KAAKmjE,GAAG3kC,OAAOiT,OAAO,SAAShe,GAAGzzB,KAAKoC,MAAM,OAAOqxB,EAAE7vB,OAAOnD,QAAQwiC,QAAQ,SAASxP,EAAEC,GAAG1zB,KAAKoC,MAAM,QAAQsxB,IAAI6vC,cAAc,SAAS9vC,GAAGA,EAAEzzB,KAAKqjE,UAAUt8B,aAAa,WAAWtT,GAAGzzB,KAAKqjE,UAAU9qB,gBAAgB,cAAczzC,MAAM,CAACglC,OAAO,CAAC25B,MAAK,EAAGvxC,QAAQ,SAASuB,GAAG,IAAIC,EAAE1zB,KAAK4zB,EAAEqD,EAAExD,GAAGK,EAAE/vB,SAAQ,SAAU0vB,UAAUG,EAAEH,MAAMzzB,KAAKmjE,GAAG7nB,IAAI1nB,GAAGc,EAAE3wB,SAAQ,SAAU0vB,QAAG,IAASG,EAAEH,IAAIC,EAAEyvC,GAAG7nB,IAAI7nB,EAAEG,EAAEH,SAAShzB,MAAM,SAASgzB,GAAGA,IAAIzzB,KAAKwlD,IAAI/kD,OAAOT,KAAKmjE,IAAInjE,KAAKmjE,GAAGjhC,QAAQzO,GAAE,KAAMquC,cAAc,WAAW9hE,KAAKmjE,KAAKnjE,KAAKqjE,UAAU7yB,oBAAoB,OAAOxwC,KAAKyxC,QAAQzxC,KAAKmjE,GAAG/qB,UAAUp4C,KAAKmjE,GAAG,QAAQ1uC,EAAE,SAAShB,EAAEC,GAAG,IAAIE,EAAE,aAAa,iBAAiBF,IAAIE,EAAEF,GAAGD,EAAE9wB,UAAUixB,EAAEI,IAAIA,EAAE0vC,QAAQjvC,EAAEf,EAAEhxB,QAAQsxB,KAAKtxB,Y,wECA30HwC,E,wECEO,EAAe,SAAsBk0C,EAAO34C,GACrD,IAAK,IAAIoD,EAAI,EAAGA,EAAIu1C,EAAM74C,OAAQsD,IAChC,GAAI,eAAWu1C,EAAMv1C,GAAIpD,GACvB,OAAOoD,EAIX,OAAQ,G,oCDPV,SAASf,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAASU,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIvD,UAAUC,OAAQsD,IAAK,CAAE,IAAIC,EAAyB,MAAhBxD,UAAUuD,GAAavD,UAAUuD,GAAK,GAAQA,EAAI,EAAKf,EAAQI,OAAOY,IAAS,GAAMC,SAAQ,SAAU1D,GAAO2D,EAAgBJ,EAAQvD,EAAKyD,EAAOzD,OAAsB6C,OAAOe,0BAA6Bf,OAAOgB,iBAAiBN,EAAQV,OAAOe,0BAA0BH,IAAmBhB,EAAQI,OAAOY,IAASC,SAAQ,SAAU1D,GAAO6C,OAAOiB,eAAeP,EAAQvD,EAAK6C,OAAOK,yBAAyBO,EAAQzD,OAAe,OAAOuD,EAE7gB,SAASI,EAAgBI,EAAK/D,EAAKI,GAAiK,OAApJJ,KAAO+D,EAAOlB,OAAOiB,eAAeC,EAAK/D,EAAK,CAAEI,MAAOA,EAAO+C,YAAY,EAAMa,cAAc,EAAMC,UAAU,IAAkBF,EAAI/D,GAAOI,EAAgB2D,EAa3M,IAAIu/D,EAAgC,gBAChCC,EAAiC,OAA0BD,EAEpD,EAAQ,eAAsB,eAAShgE,EAAcA,EAAc,GAAI,QAAsB,IAAKuB,EAAiB,GAAIlB,EAAgBkB,EAAgBy+D,EAA+B,eAAS,QAAmB,IAAS3/D,EAAgBkB,EAAgB,SAAU,eAAS,QAAmB,IAASlB,EAAgBkB,EAAgB,iBAAkB,eAAS,QAAe,IAASlB,EAAgBkB,EAAgB,QAAS,eAAS,QAAe,IAAQA,KAAmB,QAGzd2+D,EAA6B,aAAIhkE,OAAO,CACjDqB,KAAM,OACNwD,OAAQ,CAAC,QACTC,OAAQ,CACNC,QAAS,CACPC,KAAM,eACNnC,QAAS,OAGbpD,MAAO,EACPQ,SAAU,CACRgkE,UAAW,WACT,IAAIrjE,EAAQT,KAAKS,MACbsjE,EAAU/jE,KAAK+E,qBACnB,OAAO,eAAQg/D,GAAW,EAAaA,EAAStjE,IAAU,EAAI,eAAWsjE,EAAStjE,IAEpFujE,QAAS,WACP,OAAO,IAGXl/D,MAAOd,EAAgB,GAAI2/D,GAA+B,SAAU3+D,EAAUC,GACvE,eAAWD,EAAUC,IACxBjF,KAAKikE,iBAAiBj/D,MAG1BogD,QAAS,WAEPplD,KAAKikE,iBAAiBjkE,KAAK2jE,KAE7BzjE,QAAS,CACPgkE,4BAA6B,SAAqCl/D,EAAUC,GAC1E,IAAK,eAAWD,EAAUC,GAAW,CACnCjF,KAAKoC,MAAM,OAAkB4C,GAC7B,IAAIm/D,EAASnkE,KAAKk1B,MAAMsJ,MAEpB2lC,GACFnkE,KAAKoC,MAAMwhE,EAAgCO,EAAOC,iBAIxDC,aAAc,SAAsBhhB,GAClC,IAAItiD,EAAQf,KAERskE,EAAcjhB,EAAKz/C,OACnBmgE,EAAUO,EAAYP,QACtBK,EAAgBE,EAAYF,cAC5B3jE,EAAQT,KAAKS,MACb8jE,EAAiBvkE,KAAKukE,eAEtBn+D,EAAepG,KAAK+E,qBAExB,GAAI,eAAQqB,GAAe,CACzB,IAAIa,EAAQ,EAAab,EAAc3F,GAEnCsjE,GAAW98D,EAAQ,EAErBb,EAAeA,EAAaO,OAAOlG,IACzBsjE,GAAW98D,GAAS,IAE9Bb,EAAeA,EAAa0rB,MAAM,EAAG7qB,GAAON,OAAOP,EAAa0rB,MAAM7qB,EAAQ,UAGhFb,EAAe29D,EAAUtjE,EAAQ8jE,EAGnCvkE,KAAK+E,qBAAuBqB,EAE5BpG,KAAKgjD,WAAU,WAEbjiD,EAAMqB,MAAM,OAAmBgE,GAG3BrF,EAAMyjE,SACRzjE,EAAM6D,QAAQxC,MAAM,OAAmBgE,GAGzCrF,EAAMqB,MAAMwhE,EAAgCQ,OAGhDH,iBAAkB,SAA0Bn0D,GAEtC,eAAQ9P,KAAK+E,wBACf+K,GAAQ,GAGV,IAAIq0D,EAASnkE,KAAKk1B,MAAMsJ,MAEpB2lC,IACFA,EAAOC,cAAgBt0D,EAEvB9P,KAAKoC,MAAMwhE,EAAgC9zD,S,kCEnHnD,0GAAIvL,EAAQkgE,EAAZ,gMAEA,SAAS3hE,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAE9U,SAASU,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIvD,UAAUC,OAAQsD,IAAK,CAAE,IAAIC,EAAyB,MAAhBxD,UAAUuD,GAAavD,UAAUuD,GAAK,GAAQA,EAAI,EAAKf,EAAQI,OAAOY,IAAS,GAAMC,SAAQ,SAAU1D,GAAO2D,EAAgBJ,EAAQvD,EAAKyD,EAAOzD,OAAsB6C,OAAOe,0BAA6Bf,OAAOgB,iBAAiBN,EAAQV,OAAOe,0BAA0BH,IAAmBhB,EAAQI,OAAOY,IAASC,SAAQ,SAAU1D,GAAO6C,OAAOiB,eAAeP,EAAQvD,EAAK6C,OAAOK,yBAAyBO,EAAQzD,OAAe,OAAOuD,EAE7gB,SAASI,EAAgBI,EAAK/D,EAAKI,GAAiK,OAApJJ,KAAO+D,EAAOlB,OAAOiB,eAAeC,EAAK/D,EAAK,CAAEI,MAAOA,EAAO+C,YAAY,EAAMa,cAAc,EAAMC,UAAU,IAAkBF,EAAI/D,GAAOI,EAAgB2D,EAmB3M,IAAIgB,EAAkB,eAAe,UAAW,CAC9Ck6C,aAAc,OAEZj6C,EAAaD,EAAgBE,MAC7BC,EAAaH,EAAgB9F,MAC7BkG,EAAkBJ,EAAgBK,KAClCC,EAAmBN,EAAgBO,MAI5BrG,EAAQ,eAAsB,eAASqE,EAAcA,EAAcA,EAAcA,EAAcA,EAAcA,EAAcA,EAAc,GAAI,QAAU4B,GAAa,QAAmB,QAAgB,QAAiB,QAAkB,GAAI,CACvP44D,UAAW,eAAS,QACpBC,eAAgB,eAAS,QAEzBnU,OAAQ,eAAS,QAAmB,GAEpCpkD,cAAe,eAAS,QACxBQ,OAAQ,eAAS,QAAmB,GACpC5F,MAAO,eAAS,WACb,0BAGMikE,EAAsB,aAAI7kE,OAAO,CAC1C6E,OAAQ,CAAC,OAAY,OAASW,EAAY,OAAoB,OAAkB,OAAe,OAAgB,QAC/Ga,cAAc,EACd5G,MAAOA,EACP6G,KAAM,WACJ,MAAO,CACLC,aAAcpG,KAAKwkE,QAAUxkE,KAAK4E,QAAQY,GAAmBxF,KAAKwF,GAClEm/D,UAAU,IAGd7kE,SAAU,CACRiF,qBAAsB,CACpBmvB,IAAK,WACH,OAAOl0B,KAAKwkE,QAAUxkE,KAAK4E,QAAQwB,aAAepG,KAAKoG,cAEzDk1C,IAAK,SAAa76C,GACZT,KAAKwkE,QACPxkE,KAAK4E,QAAQwB,aAAe3F,EAE5BT,KAAKoG,aAAe3F,IAI1BqjE,UAAW,WACT,OAAO,eAAW9jE,KAAKS,MAAOT,KAAK+E,uBAErCi/D,QAAS,WACP,OAAO,GAETQ,QAAS,WAEP,QAASxkE,KAAK4E,SAEhBggE,UAAW,WAET,OAAO5kE,KAAKwkE,QAAUxkE,KAAK4E,QAAQkB,QAAU9F,KAAKiqD,QAEpD4a,QAAS,WACP,OAAO7kE,KAAK4kE,YAAoB5kE,KAAKwkE,QAAUxkE,KAAK4E,QAAQkgE,MAAQ9kE,KAAK8kE,QAE3EC,SAAU,WACR,OAAO/kE,KAAK4kE,YAAqB5kE,KAAK6kE,SAExCG,SAAU,WAER,QAAOhlE,KAAK4kE,WAAa5kE,KAAKgkE,SAAWhkE,KAAK6kE,WAAkB7kE,KAAKwkE,QAAUxkE,KAAK4E,QAAQqgE,SAAWjlE,KAAKklE,SAE9GC,SAAU,WACR,OAAOnlE,KAAKwkE,QAAUxkE,KAAK4E,QAAQyB,OAASrG,KAAKqG,QAEnD+J,WAAY,WAEV,OAAOpQ,KAAKwkE,SAAUxkE,KAAK4E,QAAQ/D,UAA4Bb,KAAKa,UAEtEukE,WAAY,WAIV,OAAOplE,KAAKqlE,eAAiBrlE,KAAKwkE,QAAUxkE,KAAK4E,QAAQuC,SAAWnH,KAAKmH,WAE3Ek+D,aAAc,WAEZ,OAAQrlE,KAAKwkE,QAAUxkE,KAAK4E,QAAQ0B,UAAYtG,KAAKkB,OAAS,MAEhEokE,aAAc,WACZ,OAAQtlE,KAAKwkE,QAAUxkE,KAAK4E,QAAQggD,KAAO5kD,KAAK4kD,OAAS,MAE3D2gB,aAAc,WACZ,OAAQvlE,KAAKwkE,QAAUxkE,KAAK4E,QAAQ6B,KAAOzG,KAAKyG,OAAS,IAE3D++D,cAAe,WACb,OAAOxlE,KAAKwkE,QAAUxkE,KAAK4E,QAAQ4gE,cAAgB,eAAUxlE,KAAK8P,OAAS9P,KAAK8P,MAAQ,MAE1F21D,sBAAuB,WAErB,IAAI5/D,EAAgB7F,KAAK6F,cAEzB,OAAIA,IAIA7F,KAAKwkE,SAAWxkE,KAAK4E,QAAQiB,cACxB7F,KAAK4E,QAAQiB,cAGf,cAET6/D,cAAe,WACb,IAAIriB,EAEAkiB,EAAevlE,KAAKulE,aACxB,MAAO,CAAC,MAAO,OAAO5+D,OAAO3G,KAAKylE,wBAAyBpiB,EAAO,GAAIr/C,EAAgBq/C,EAAM,OAAO18C,OAAO4+D,GAAeA,GAAevhE,EAAgBq/C,EAAM,WAAYrjD,KAAKoQ,YAAapM,EAAgBq/C,EAAM,SAAUrjD,KAAK8jE,WAAY9/D,EAAgBq/C,EAAM,QAASrjD,KAAK2kE,UAAWthB,KAE9RsB,cAAe,WACb,IAAI9jD,EAAWb,KAAKoQ,WAChBjJ,EAAWnH,KAAKolE,WACpB,OAAOzhE,EAAcA,EAAc,GAAI3D,KAAKqhE,SAAU,GAAI,CACxD78D,GAAIxE,KAAKuG,SACT9D,KAAMzC,KAAKgkE,QAAU,QAAU,WAC/B9iE,KAAMlB,KAAKqlE,aACXzgB,KAAM5kD,KAAKslE,aACXzkE,SAAUA,EACVsG,SAAUA,EACV,gBAAiBA,GAAY,KAC7B,aAAcnH,KAAKm+D,WAAa,KAChC,kBAAmBn+D,KAAKo+D,gBAAkB,SAIhDt5D,OAAQP,EAAS,GAAIP,EAAgBO,EAAQiB,GAAiB,WAC5DxF,KAAK,GAAG2G,OAAOnB,EAAiB,YAAY9B,MAAM1D,KAAMM,cACtD0D,EAAgBO,EAAQ,wBAAwB,WAClDvE,KAAKkkE,4BAA4BxgE,MAAM1D,KAAMM,cAC3CiE,GACJrE,SAAUukE,EAAW,GAAIzgE,EAAgBygE,EAAU,GAAG99D,OAAOnB,EAAiB,YAAY,SAAiBR,GACpG,eAAWA,EAAUhF,KAAK+E,wBAC7B/E,KAAK+E,qBAAuBC,MAE5BhB,EAAgBygE,EAAU,+BAA+B,SAAqCz/D,EAAUC,GACrG,eAAWD,EAAUC,IACxBjF,KAAKoC,MAAMsD,EAAkBV,MAE7BhB,EAAgBygE,EAAU,gBAAgB,SAAsBhhB,GAClE,IAAI1iD,EAAQf,KAER+jE,EAAUtgB,EAAM7/C,OAAOmgE,QACvBtjE,EAAQT,KAAKS,MACb2F,EAAe29D,EAAUtjE,EAAQ,KACrCT,KAAK+E,qBAAuBtE,EAE5BT,KAAKgjD,WAAU,WAEbjiD,EAAMqB,MAAM,OAAmBgE,GAG3BrF,EAAMyjE,SACRzjE,EAAM6D,QAAQxC,MAAM,OAAmBgE,SAGzCpC,EAAgBygE,EAAU,eAAe,SAAqB9+D,GAG5DA,EAAM/B,SACW,UAAf+B,EAAMlD,KACRzC,KAAK2kE,UAAW,EACQ,SAAfh/D,EAAMlD,OACfzC,KAAK2kE,UAAW,OAGlB3gE,EAAgBygE,EAAU,SAAS,WAChCzkE,KAAKoQ,YACR,eAAapQ,KAAKk1B,MAAMsJ,UAExBx6B,EAAgBygE,EAAU,QAAQ,WAC/BzkE,KAAKoQ,YACR,eAAYpQ,KAAKk1B,MAAMsJ,UAEvBimC,GACJtjE,OAAQ,SAAgByF,GACtB,IAAIo9D,EAAUhkE,KAAKgkE,QACfY,EAAY5kE,KAAK4kE,UACjBC,EAAU7kE,KAAK6kE,QACfE,EAAW/kE,KAAK+kE,SAChBI,EAAWnlE,KAAKmlE,SAChBH,EAAWhlE,KAAKglE,SAChBO,EAAevlE,KAAKulE,aACpBlE,EAAUrhE,KAAKqhE,QACfxB,EAAW7/D,KAAKsH,gBAChB68D,EAASv9D,EAAE,QAAS,CACtB/E,MAAO,CAAC,CACN,mBAAoBgjE,EACpB,uBAAwBE,EAExB,kBAAmBF,IAAYhF,GAC9B+E,EAAY,GAAK5kE,KAAK2lE,YACzBntC,WAAY,CAAC,CACXt3B,KAAM,QACNT,MAAOT,KAAK+E,uBAEdrD,MAAO1B,KAAK2kD,cACZ7iD,SAAU,CACRrB,MAAOT,KAAKS,MACZsjE,QAAS/jE,KAAK8jE,WAEhB5hE,GAAIyB,EAAc,CAChBshD,OAAQjlD,KAAKqkE,cACZO,EAAY,CACbpoC,MAAOx8B,KAAK4lE,YACZ3pC,KAAMj8B,KAAK4lE,aACT,IACJvlE,IAAK,QACL0I,IAAK,UAGP,GAAI67D,EAAW,CACb,IAAIiB,EAAUj/D,EAAE,QAAS,CACvB/E,MAAO7B,KAAK0lE,eACX,CAACvB,EAAQtE,IAUZ,OARK7/D,KAAKwkE,UAGRqB,EAAUj/D,EAAE,MAAO,CACjB/E,MAAO,CAAC,mBAAoB,mBAC3B,CAACgkE,KAGCA,EAKT,IAAIC,EAASl/D,IAcb,OAZMi+D,IAAYhF,IAChBiG,EAASl/D,EAAE,QAAS,CAClB/E,MAAO,CACL,mBAAoBgjE,EACpB,uBAAwBE,GAE1BrjE,MAAO,CACLqkE,IAAK/lE,KAAKuG,WAEXs5D,IAGEj5D,EAAE,MAAO,CACd/E,MAAO,CAACmC,EAAgB,CACtB,aAAc6gE,EACd,oBAAqBA,GAAWM,EAChC,iBAAkBJ,EAClB,wBAAyBA,GAAYI,EACrC,kBAAmBJ,IAAaf,IAAYgB,EAC5C,gBAAiBA,EACjB,eAAgBD,GAAYf,GAC3B,oBAAoBr9D,OAAO4+D,GAAeA,IAAiBX,GAAYvD,EAAQx/D,OAClFkM,MAAOszD,EAAQtzD,OACd,CAACo2D,EAAQ2B,Q,usJC3RhB,GAAgC,qBAArBE,iBACP,MAAM,IAAIp8D,MAAM,sFAEpB,IAAIq8D,EAAYD,iBAAiBC,UAC7BhgC,EAAgB+/B,iBAAiB//B,cACjC9kC,EAAS6kE,iBAAiB7kE,OAC1B4V,EAAYivD,iBAAiBjvD,UAC7BmvD,EAAWF,iBAAiBE,SAC5BC,EAAgBH,iBAAiBG,cACjCC,EAAeJ,iBAAiBI,aAChCC,EAAaL,iBAAiBK,WAC9BC,EAAyBN,iBAAiBM,uBCC1CC,EAAgC,WAChC,SAASA,EAAer+D,EAASs+D,GAC7BxmE,KAAKkI,QAAUA,EACflI,KAAKwmE,oBAAsBA,EAoC/B,OAlCAD,EAAe1+D,UAAUm+B,OAAS,WAC9BhmC,KAAKkI,QAAQ2sD,SAAS,CAClBpyD,KAAM,sBACN+5D,SAAUx8D,KAAKwmE,oBAAoBhK,YAG3C+J,EAAe1+D,UAAU4+D,QAAU,WAC/BzmE,KAAKkI,QAAQ2sD,SAAS,CAClBpyD,KAAM,sBACNikE,UAAW,CAAC1mE,KAAKwmE,oBAAoBhK,UACrCmK,WAAW,KAGnBzjE,OAAOiB,eAAeoiE,EAAe1+D,UAAW,KAAM,CAClDqsB,IAAK,WACD,OAAOl0B,KAAKwmE,oBAAoBI,UAEpCpjE,YAAY,EACZa,cAAc,IAElBnB,OAAOiB,eAAeoiE,EAAe1+D,UAAW,MAAO,CACnDqsB,IAAK,WACD,OAAOl0B,KAAKwmE,oBAAoBK,KAAKC,KAEzCtjE,YAAY,EACZa,cAAc,IAElBnB,OAAOiB,eAAeoiE,EAAe1+D,UAAW,SAAU,CACtDqsB,IAAK,WACD,OAAOl0B,KAAKwmE,oBAAoBK,KAAK/kD,QAEzCte,YAAY,EACZa,cAAc,IAEXkiE,EAvCwB,GA0CnC,SAASQ,EAAc/2D,GACfA,EAAGgoB,YACHhoB,EAAGgoB,WAAWC,YAAYjoB,GAKlC,SAASg3D,EAAeh3D,EAAIywC,GACxB,GAAIzwC,EAAGi3D,QACH,OAAOj3D,EAAGi3D,QAAQxmB,GAItB,IAAK7oB,SAASsvC,gBAAgB3qC,SAASvsB,GACnC,OAAO,KAEX,EAAG,CACC,GAAIm3D,EAAen3D,EAAIywC,GACnB,OAAOzwC,EAEXA,EAAMA,EAAGo3D,eAAiBp3D,EAAGgoB,iBACjB,OAAPhoB,GAA+B,IAAhBA,EAAGkjC,UAC3B,OAAO,KAEX,SAASi0B,EAAen3D,EAAIywC,GACxB,IAAI4mB,EAASr3D,EAAGs3D,SAAWt3D,EAAGu3D,iBAAmBv3D,EAAGw3D,kBACpD,OAAOH,EAAO3yD,KAAK1E,EAAIywC,GAK3B,SAASgnB,EAAatxB,EAAWsK,GAG7B,IAFA,IAAIinB,EAAavxB,aAAqBkK,YAAc,CAAClK,GAAaA,EAC9DwxB,EAAa,GACR9jE,EAAI,EAAGA,EAAI6jE,EAAWnnE,OAAQsD,GAAK,EAExC,IADA,IAAIyjE,EAAUI,EAAW7jE,GAAG8sC,iBAAiB8P,GACpCpX,EAAI,EAAGA,EAAIi+B,EAAQ/mE,OAAQ8oC,GAAK,EACrCs+B,EAAWlkE,KAAK6jE,EAAQj+B,IAGhC,OAAOs+B,EAoBX,IAAIC,EAAgB,yCACpB,SAASC,EAAW73D,EAAI1Q,GACpB,IAAK,IAAIwoE,KAAYxoE,EACjByoE,EAAe/3D,EAAI83D,EAAUxoE,EAAMwoE,IAG3C,SAASC,EAAe/3D,EAAI9O,EAAMsqC,GACnB,MAAPA,EACAx7B,EAAGjC,MAAM7M,GAAQ,GAEG,kBAARsqC,GAAoBo8B,EAAc1oD,KAAKhe,GACnD8O,EAAGjC,MAAM7M,GAAQsqC,EAAM,KAGvBx7B,EAAGjC,MAAM7M,GAAQsqC,EAQzB,SAASw8B,EAAsB33B,GAC3B,IAAIpoC,EAAIgL,EACR,OAA6F,QAArFA,EAAgC,QAA1BhL,EAAKooC,EAAGpJ,oBAAiC,IAAPh/B,OAAgB,EAASA,EAAGyM,KAAK27B,GAAI,UAAuB,IAAPp9B,EAAgBA,EAAKo9B,EAAGzsC,OAIjI,SAASqkE,EAAUj4D,GACf,OAAOA,EAAGk4D,YAAcl4D,EAAGk4D,cAAgBtwC,SAG/C,IAAIuwC,EAAS,EACb,SAASC,IAEL,OADAD,GAAU,EACH,UAAYA,EAIvB,SAAShsC,EAAekU,GACpBA,EAAGlU,iBAIP,SAASksC,EAAuB5nB,EAAUvuB,GACtC,OAAO,SAAUme,GACb,IAAIi4B,EAAetB,EAAe32B,EAAGzsC,OAAQ68C,GACzC6nB,GACAp2C,EAAQxd,KAAK4zD,EAAcj4B,EAAIi4B,IAI3C,SAASC,EAAiBpyB,EAAWqyB,EAAW/nB,EAAUvuB,GACtD,IAAIu2C,EAAkBJ,EAAuB5nB,EAAUvuB,GAEvD,OADAikB,EAAU7F,iBAAiBk4B,EAAWC,GAC/B,WACHtyB,EAAU3F,oBAAoBg4B,EAAWC,IAGjD,SAASC,EAAwBvyB,EAAWsK,EAAUkoB,EAAcC,GAChE,IAAIC,EACJ,OAAON,EAAiBpyB,EAAW,YAAasK,GAAU,SAAUqoB,EAAaR,GAC7E,GAAIA,IAAiBO,EAAqB,CACtCA,EAAsBP,EACtBK,EAAaG,EAAaR,GAC1B,IAAIS,EAAqB,SAAUC,GAC/BH,EAAsB,KACtBD,EAAaI,EAAcV,GAC3BA,EAAa93B,oBAAoB,aAAcu4B,IAGnDT,EAAah4B,iBAAiB,aAAcy4B,OAMxD,IAAIE,EAAuB,CACvB,sBACA,iBACA,iBACA,kBACA,iBAGJ,SAASC,EAAmBl5D,EAAImyC,GAC5B,IAAIgnB,EAAe,SAAU94B,GACzB8R,EAAS9R,GACT44B,EAAqBllE,SAAQ,SAAUqlE,GACnCp5D,EAAGwgC,oBAAoB44B,EAAWD,OAG1CF,EAAqBllE,SAAQ,SAAUqlE,GACnCp5D,EAAGsgC,iBAAiB84B,EAAWD,MAKvC,SAASE,EAAqBn3C,GAC1B,OAAO,eAAS,CAAEhL,QAASgL,GAAWo3C,EAAwBp3C,IAElE,SAASo3C,EAAwBp3C,GAC7B,MAAO,CACHsgB,SAAU,EACVpP,UAAW,SAAUiN,GACF,UAAXA,EAAGhwC,KAA8B,MAAXgwC,EAAGhwC,MACzB6xB,EAAQme,GACRA,EAAGlU,oBAMnB,IAAIotC,EAAa,EACjB,SAASC,IAEL,OADAD,GAAc,EACP5oE,OAAO4oE,GAKlB,SAASE,IACL7xC,SAASC,KAAKkO,UAAU1W,IAAI,kBAGhC,SAASq6C,IACL9xC,SAASC,KAAKkO,UAAUC,OAAO,kBAInC,SAAS2jC,EAAiB35D,GACtBA,EAAG+1B,UAAU1W,IAAI,mBACjBrf,EAAGsgC,iBAAiB,cAAenU,GAEvC,SAASytC,EAAe55D,GACpBA,EAAG+1B,UAAUC,OAAO,mBACpBh2B,EAAGwgC,oBAAoB,cAAerU,GAI1C,SAAS0tC,EAAmB75D,GACxBA,EAAGsgC,iBAAiB,cAAenU,GAEvC,SAAS2tC,EAAiB95D,GACtBA,EAAGwgC,oBAAoB,cAAerU,GAE1C,SAAS4tC,EAAgBvrC,GACrB,IAEI36B,EACAsnC,EAHA6+B,EAAQ,GACRC,EAAS,GAYb,IATqB,kBAAVzrC,EACPyrC,EAASzrC,EAAMjlB,MAAM,WAEC,oBAAVilB,EACZyrC,EAAS,CAACzrC,GAELhd,MAAMC,QAAQ+c,KACnByrC,EAASzrC,GAER36B,EAAI,EAAGA,EAAIomE,EAAO1pE,OAAQsD,GAAK,EAChCsnC,EAAQ8+B,EAAOpmE,GACM,kBAAVsnC,EACP6+B,EAAMvmE,KAAyB,MAApB0nC,EAAM6O,OAAO,GACpB,CAAEkwB,MAAO/+B,EAAMvB,UAAU,GAAIugC,OAAQ,GACrC,CAAED,MAAO/+B,EAAOg/B,MAAO,IAEL,oBAAVh/B,GACZ6+B,EAAMvmE,KAAK,CAAE2mE,KAAMj/B,IAG3B,OAAO6+B,EAEX,SAASK,EAAoBC,EAAMC,EAAMC,GACrC,IAAI3mE,EACA4mE,EACJ,IAAK5mE,EAAI,EAAGA,EAAI2mE,EAAWjqE,OAAQsD,GAAK,EAEpC,GADA4mE,EAAMC,EAAmBJ,EAAMC,EAAMC,EAAW3mE,IAC5C4mE,EACA,OAAOA,EAGf,OAAO,EAEX,SAASC,EAAmBJ,EAAMC,EAAMI,GACpC,OAAIA,EAAUP,KACHO,EAAUP,KAAKE,EAAMC,GAEzBK,EAAgBN,EAAKK,EAAUT,OAAQK,EAAKI,EAAUT,SACtDS,EAAUR,OAAS,GAE9B,SAASS,EAAgBpiD,EAAGC,GACxB,OAAKD,GAAMC,EAGF,MAALA,GACQ,EAEH,MAALD,EACO,EAEM,kBAANA,GAA+B,kBAANC,EACzB9nB,OAAO6nB,GAAGqiD,cAAclqE,OAAO8nB,IAEnCD,EAAIC,EAXA,EAef,SAASqiD,EAASt/B,EAAKhmB,GACnB,IAAIkP,EAAI/zB,OAAO6qC,GACf,MAAO,MAAMu/B,OAAO,EAAGvlD,EAAMkP,EAAEn0B,QAAUm0B,EAE7C,SAASs2C,EAAmBC,EAAWzgD,EAAM0gD,GACzC,MAAyB,oBAAdD,EACAA,EAAUvnE,WAAM,EAAQ8mB,GAEV,kBAAdygD,EACAzgD,EAAK0O,QAAO,SAAUyjC,EAAKx4C,EAAKld,GAAS,OAAQ01D,EAAIuG,QAAQ,IAAMj8D,EAAOkd,GAAO,MAAS8mD,GAE9FC,EAIX,SAASC,EAAe3iD,EAAGC,GACvB,OAAOD,EAAIC,EAEf,SAAS2iD,EAAMx3C,GACX,OAAOA,EAAI,IAAM,EAIrB,SAASy3C,EAAyB3xD,GAC9B,IAAI4xD,EAAa5xD,EAAOokB,cAAc,+BAClCytC,EAAiB7xD,EAAOokB,cAAc,iCAC1C,IAAKwtC,EACD,MAAM,IAAI1hE,MAAM,8CAEpB,IAAK2hE,EACD,MAAM,IAAI3hE,MAAM,gDAEpB,OAAO8P,EAAOJ,wBAAwBqC,MAAQ2vD,EAAWhyD,wBAAwBqC,MAC7E4vD,EAAejyD,wBAAwBqC,MAG/C,IAAI6vD,EAAU,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAEzD,SAASC,EAAS13C,EAAGH,GACjB,IAAIpL,EAAIkjD,GAAe33C,GAEvB,OADAvL,EAAE,IAAU,EAAJoL,EACD+3C,GAAenjD,GAE1B,SAASojD,EAAQ73C,EAAGH,GAChB,IAAIpL,EAAIkjD,GAAe33C,GAEvB,OADAvL,EAAE,IAAMoL,EACD+3C,GAAenjD,GAE1B,SAASqjD,EAAM93C,EAAGH,GACd,IAAIpL,EAAIkjD,GAAe33C,GAEvB,OADAvL,EAAE,IAAMoL,EACD+3C,GAAenjD,GAI1B,SAASsjD,GAAUC,EAAIC,GACnB,OAAOC,GAASF,EAAIC,GAAM,EAE9B,SAASC,GAASF,EAAIC,GAClB,OAAQA,EAAGx3D,UAAYu3D,EAAGv3D,WAAa,MAE3C,SAAS03D,GAAUH,EAAIC,GACnB,OAAQA,EAAGx3D,UAAYu3D,EAAGv3D,WAAa,KAE3C,SAAS23D,GAAYJ,EAAIC,GACrB,OAAQA,EAAGx3D,UAAYu3D,EAAGv3D,WAAa,IAE3C,SAAS43D,GAAYL,EAAIC,GACrB,OAAQA,EAAGx3D,UAAYu3D,EAAGv3D,WAAa,IAE3C,SAAS63D,GAAeN,EAAIC,GACxB,IAAIM,EAAQC,GAAWR,GACnBS,EAAQD,GAAWP,GACvB,MAAO,CACHS,MAAO,EACPhsD,OAAQ,EACRJ,KAAMjH,KAAKC,MAAM4yD,GAASK,EAAOE,IACjC7mD,aAAeqmD,EAAGx3D,UAAYg4D,EAAMh4D,WAAcu3D,EAAGv3D,UAAY83D,EAAM93D,YAI/E,SAASk4D,GAAeX,EAAIC,GACxB,IAAI/3C,EAAI04C,GAAcZ,EAAIC,GAC1B,OAAU,OAAN/3C,GAAcA,EAAI,IAAM,EACjBA,EAAI,EAER,KAEX,SAAS04C,GAAcZ,EAAIC,GACvB,OAAIY,GAASb,KAAQa,GAASZ,GACnB5yD,KAAKC,MAAM4yD,GAASF,EAAIC,IAE5B,KAGX,SAASO,GAAWx4C,GAChB,OAAO43C,GAAe,CAClB53C,EAAE84C,iBACF94C,EAAE+4C,cACF/4C,EAAEg5C,eAGV,SAASC,GAAYj5C,GACjB,OAAO43C,GAAe,CAClB53C,EAAE84C,iBACF94C,EAAE+4C,cACF/4C,EAAEg5C,aACFh5C,EAAEk5C,gBAGV,SAASC,GAAcn5C,GACnB,OAAO43C,GAAe,CAClB53C,EAAE84C,iBACF94C,EAAE+4C,cACF/4C,EAAEg5C,aACFh5C,EAAEk5C,cACFl5C,EAAEo5C,kBAGV,SAASC,GAAcr5C,GACnB,OAAO43C,GAAe,CAClB53C,EAAE84C,iBACF94C,EAAE+4C,cACF/4C,EAAEg5C,aACFh5C,EAAEk5C,cACFl5C,EAAEo5C,gBACFp5C,EAAEs5C,kBAIV,SAASC,GAAWC,EAAQC,EAAKC,GAC7B,IAAIv1C,EAAIq1C,EAAOV,iBACX1sC,EAAIutC,GAAgBH,EAAQr1C,EAAGs1C,EAAKC,GACxC,GAAIttC,EAAI,EACJ,OAAOutC,GAAgBH,EAAQr1C,EAAI,EAAGs1C,EAAKC,GAE/C,IAAIE,EAAQD,GAAgBH,EAAQr1C,EAAI,EAAGs1C,EAAKC,GAChD,OAAIE,GAAS,EACFv0D,KAAKwM,IAAIua,EAAGwtC,GAEhBxtC,EAEX,SAASutC,GAAgBH,EAAQvkC,EAAMwkC,EAAKC,GACxC,IAAIG,EAAiBjC,GAAe,CAAC3iC,EAAM,EAAG,EAAI6kC,GAAgB7kC,EAAMwkC,EAAKC,KACzEp9C,EAAWk8C,GAAWgB,GACtBltD,EAAOjH,KAAKC,MAAM4yD,GAAS2B,EAAgBv9C,IAC/C,OAAOjX,KAAKyM,MAAMxF,EAAO,GAAK,EAGlC,SAASwtD,GAAgB7kC,EAAMwkC,EAAKC,GAEhC,IAAIK,EAAM,EAAIN,EAAMC,EAEhBM,GAAS,EAAIpC,GAAe,CAAC3iC,EAAM,EAAG8kC,IAAME,YAAcR,GAAO,EACrE,OAAQO,EAAQD,EAAM,EAG1B,SAASG,GAAiB7iE,GACtB,MAAO,CACHA,EAAKk3B,cACLl3B,EAAKq+B,WACLr+B,EAAK+2B,UACL/2B,EAAK+8B,WACL/8B,EAAKu+B,aACLv+B,EAAKs+B,aACLt+B,EAAK4jC,mBAGb,SAASk/B,GAAiB1lD,GACtB,OAAO,IAAI8H,KAAK9H,EAAE,GAAIA,EAAE,IAAM,EAAW,MAARA,EAAE,GAAa,EAAIA,EAAE,GACtDA,EAAE,IAAM,EAAGA,EAAE,IAAM,EAAGA,EAAE,IAAM,GAElC,SAASkjD,GAAetgE,GACpB,MAAO,CACHA,EAAKyhE,iBACLzhE,EAAK0hE,cACL1hE,EAAK2hE,aACL3hE,EAAK6hE,cACL7hE,EAAK+hE,gBACL/hE,EAAKiiE,gBACLjiE,EAAK+iE,sBAGb,SAASxC,GAAenjD,GAMpB,OAHiB,IAAbA,EAAEjoB,SACFioB,EAAIA,EAAE7hB,OAAO,CAAC,KAEX,IAAI2pB,KAAKA,KAAK89C,IAAI1qE,MAAM4sB,KAAM9H,IAGzC,SAAS6lD,GAAYt6C,GACjB,OAAQ0X,MAAM1X,EAAEvf,WAEpB,SAASo4D,GAAS74C,GACd,OAAyB,IAAlBA,EAAEk5C,cAAuB,GAAK,GACb,IAApBl5C,EAAEo5C,gBAAyB,GACP,IAApBp5C,EAAEs5C,gBACFt5C,EAAEo6C,qBAGV,SAASG,GAAoB3W,EAAOtjD,EAAOk6D,EAAgBC,GACvD,MAAO,CACHv/D,WAAYu6D,IACZ7R,MAAOA,EACPtjD,MAAOA,EACPk6D,eAAkC,MAAlBA,EAAyB,KAAOA,EAChDC,aAA8B,MAAhBA,EAAuB,KAAOA,GAIpD,IAAI,GAAiBtrE,OAAO2E,UAAU2sB,eAGtC,SAASi6C,GAAWC,EAAUC,GAC1B,IAAIC,EAAO,GACX,GAAID,EACA,IAAK,IAAIE,KAAUF,EAAiB,CAGhC,IAFA,IAAIG,EAAc,GAETjrE,EAAI6qE,EAASnuE,OAAS,EAAGsD,GAAK,EAAGA,GAAK,EAAG,CAC9C,IAAI2nC,EAAMkjC,EAAS7qE,GAAGgrE,GACtB,GAAmB,kBAARrjC,GAAoBA,EAC3BsjC,EAAY3vC,QAAQqM,QAEnB,QAAYhrC,IAARgrC,EAAmB,CACxBojC,EAAKC,GAAUrjC,EACf,OAIJsjC,EAAYvuE,SACZquE,EAAKC,GAAUJ,GAAWK,IAKtC,IAASjrE,EAAI6qE,EAASnuE,OAAS,EAAGsD,GAAK,EAAGA,GAAK,EAAG,CAC9C,IAAIvE,EAAQovE,EAAS7qE,GACrB,IAAK,IAAIkrE,KAAUzvE,EACTyvE,KAAUH,IACZA,EAAKG,GAAUzvE,EAAMyvE,IAIjC,OAAOH,EAEX,SAASI,GAAWC,EAAM7E,GACtB,IAAI8E,EAAW,GACf,IAAK,IAAI7uE,KAAO4uE,EACR7E,EAAK6E,EAAK5uE,GAAMA,KAChB6uE,EAAS7uE,GAAO4uE,EAAK5uE,IAG7B,OAAO6uE,EAEX,SAASC,GAAQF,EAAM7E,GACnB,IAAIgF,EAAU,GACd,IAAK,IAAI/uE,KAAO4uE,EACZG,EAAQ/uE,GAAO+pE,EAAK6E,EAAK5uE,GAAMA,GAEnC,OAAO+uE,EAEX,SAASC,GAAY7mD,GAEjB,IADA,IAAIymD,EAAO,GACF3kE,EAAK,EAAGglE,EAAM9mD,EAAGle,EAAKglE,EAAI/uE,OAAQ+J,IAAM,CAC7C,IAAIilE,EAAOD,EAAIhlE,GACf2kE,EAAKM,IAAQ,EAEjB,OAAON,EAUX,SAASO,GAAkBprE,GACvB,IAAIokB,EAAI,GACR,IAAK,IAAInoB,KAAO+D,EACZokB,EAAE/kB,KAAKW,EAAI/D,IAEf,OAAOmoB,EAEX,SAASinD,GAAanF,EAAMC,GACxB,GAAID,IAASC,EACT,OAAO,EAEX,IAAK,IAAIlqE,KAAOiqE,EACZ,GAAI,GAAe51D,KAAK41D,EAAMjqE,MACpBA,KAAOkqE,GACT,OAAO,EAInB,IAAK,IAAIlqE,KAAOkqE,EACZ,GAAI,GAAe71D,KAAK61D,EAAMlqE,IACtBiqE,EAAKjqE,KAASkqE,EAAKlqE,GACnB,OAAO,EAInB,OAAO,EAEX,SAASqvE,GAAgBpF,EAAMC,GAC3B,IAAItnE,EAAO,GACX,IAAK,IAAI5C,KAAOiqE,EACR,GAAe51D,KAAK41D,EAAMjqE,KACpBA,KAAOkqE,GACTtnE,EAAKQ,KAAKpD,IAItB,IAAK,IAAIA,KAAOkqE,EACR,GAAe71D,KAAK61D,EAAMlqE,IACtBiqE,EAAKjqE,KAASkqE,EAAKlqE,IACnB4C,EAAKQ,KAAKpD,GAItB,OAAO4C,EAEX,SAAS0sE,GAAYC,EAAUC,EAAUC,GAErC,QADsB,IAAlBA,IAA4BA,EAAgB,IAC5CF,IAAaC,EACb,OAAO,EAEX,IAAK,IAAIxvE,KAAOwvE,EACZ,KAAIxvE,KAAOuvE,KAAYG,GAAeH,EAASvvE,GAAMwvE,EAASxvE,GAAMyvE,EAAczvE,IAE9E,OAAO,EAIf,IAAK,IAAIA,KAAOuvE,EACZ,KAAMvvE,KAAOwvE,GACT,OAAO,EAGf,OAAO,EAKX,SAASE,GAAeC,EAAMC,EAAMC,GAChC,OAAIF,IAASC,IAAuB,IAAfC,KAGjBA,GACOA,EAAWF,EAAMC,GAIhC,SAASE,GAAgBlB,EAAM56B,EAAYC,EAAUiL,QAC9B,IAAflL,IAAyBA,EAAa,QAC7B,IAATkL,IAAmBA,EAAO,GAC9B,IAAIz1B,EAAM,GACM,MAAZwqB,IACAA,EAAWpxC,OAAOD,KAAKgsE,GAAM1uE,QAEjC,IAAK,IAAIsD,EAAIwwC,EAAYxwC,EAAIywC,EAAUzwC,GAAK07C,EAAM,CAC9C,IAAI/T,EAAMyjC,EAAKprE,QACHrD,IAARgrC,GACA1hB,EAAIrmB,KAAK+nC,GAGjB,OAAO1hB,EAGX,SAASsmD,GAAe9T,EAAS+T,EAAe5wD,EAAS6wD,GACrD,IAAK,IAAIzsE,EAAI,EAAGA,EAAIysE,EAAe/vE,OAAQsD,GAAK,EAAG,CAC/C,IAAIw1C,EAASi3B,EAAezsE,GAAGq3C,MAAMohB,EAAS78C,GAC9C,GAAI45B,EAAQ,CACR,IAAI5sC,EAAS6vD,EAAQ7vD,OAUrB,OATc,MAAVA,IACAA,EAAS4jE,EACK,MAAV5jE,IACAA,EAAS4sC,EAAOk3B,YACF,MAAV9jE,IACAA,GAAS,KAId,CACHA,OAAQA,EACR2T,SAAUi5B,EAAOj5B,SACjBowD,SAAUn3B,EAAOm3B,SACjBC,OAAQ5sE,IAIpB,OAAO,KAEX,SAAS6sE,GAAgB9xD,EAAY+xD,EAAczoE,GAC/C,IAAIuX,EAAUvX,EAAQuX,QAAS/V,EAAcxB,EAAQwB,YAAajK,EAAUyI,EAAQzI,QAChFi4D,EAAO94C,EAAW84C,KAAMpX,EAAY1hC,EAAW0hC,UAInD,IAAK,IAAIqX,KADTrX,EAAY0uB,GAAW1uB,GAAW,SAAUpxC,GAAY,OAAQwoD,EAAKxoD,EAASyoD,OAAOiZ,gBACnElZ,EAAM,CACpB,IAAIlrD,EAAMkrD,EAAKC,GACf,GAAInrD,EAAIokE,aAAc,CAClB,IAAIxwD,EAAW5T,EAAIokE,aAAaxwD,SAC3BA,IACDA,EAAW5T,EAAIC,OACXhN,EAAQoxE,2BACRpxE,EAAQqxE,2BAGhB,IADA,IAAIC,EAASC,GAAsBxkE,EAAK4T,EAAUuwD,EAAclxD,EAAS/V,EAAY4mE,gBAC5EhmE,EAAK,EAAG2mE,EAAWF,EAAQzmE,EAAK2mE,EAAS1wE,OAAQ+J,IAAM,CAC5D,IAAI0H,EAAQi/D,EAAS3mE,GACjB4E,EAAWo/D,GAAoB3W,EAAO,CACtC3lD,MAAOA,EACPC,IAAKwN,EAAQ4P,IAAIrd,EAAOoO,KAE5BkgC,EAAUpxC,EAASD,YAAcC,IAI7C,MAAO,CAAEwoD,KAAMA,EAAMpX,UAAWA,GAKpC,SAAS0wB,GAAsBjwD,EAAUX,EAAUuwD,EAAclxD,EAAS6wD,GACtE,IAAIY,EAAUZ,EAAevvD,EAAS6vD,aAAaH,QAC/CU,EAAUD,EAAQE,OAAOrwD,EAAS6vD,aAAaJ,SAAU,CACzDx+D,MAAOyN,EAAQ4xD,SAASV,EAAa3+D,MAAOoO,GAC5CnO,IAAK0+D,EAAa1+D,KACnBwN,GAKH,OAHIsB,EAAStU,SACT0kE,EAAUA,EAAQnwE,IAAIurE,KAEnB4E,EAGX,IAAIG,GAAiB,CAAC,QAAS,SAAU,OAAQ,gBAC7CC,GAAW,2DAEf,SAASC,GAAehzC,EAAO3iB,GAC3B,IAAI5T,EACJ,MAAqB,kBAAVu2B,EACAizC,GAAYjzC,GAEF,kBAAVA,GAAsBA,EACtBkzC,GAAYlzC,GAEF,kBAAVA,EACAkzC,IAAazpE,EAAK,GAAIA,EAAG4T,GAAQ,gBAAkB2iB,EAAOv2B,IAE9D,KAEX,SAASwpE,GAAY/8C,GACjB,IAAIX,EAAIw9C,GAAShmC,KAAK7W,GACtB,GAAIX,EAAG,CACH,IAAIq6B,EAAOr6B,EAAE,IAAM,EAAI,EACvB,MAAO,CACH04C,MAAO,EACPhsD,OAAQ,EACRJ,KAAM+tC,GAAQr6B,EAAE,GAAK+U,SAAS/U,EAAE,GAAI,IAAM,GAC1CpO,aAAcyoC,GAA0C,IAAjCr6B,EAAE,GAAK+U,SAAS/U,EAAE,GAAI,IAAM,GAAU,GAAK,IAC5B,IAAjCA,EAAE,GAAK+U,SAAS/U,EAAE,GAAI,IAAM,GAAU,IACL,KAAjCA,EAAE,GAAK+U,SAAS/U,EAAE,GAAI,IAAM,IAC5BA,EAAE,GAAK+U,SAAS/U,EAAE,GAAI,IAAM,KAIzC,OAAO,KAEX,SAAS29C,GAAYttE,GACjB,IAAIgc,EAAW,CACXqsD,MAAOroE,EAAIqoE,OAASroE,EAAI4kC,MAAQ,EAChCvoB,OAAQrc,EAAIqc,QAAUrc,EAAIklC,OAAS,EACnCjpB,KAAMjc,EAAIic,MAAQjc,EAAI6jC,KAAO,EAC7BtiB,aAA6C,IAA9BvhB,EAAI4rB,OAAS5rB,EAAI6H,MAAQ,GAAU,GAAK,IAChB,IAAlC7H,EAAI6rB,SAAW7rB,EAAI8H,QAAU,GAAU,IACL,KAAlC9H,EAAI8rB,SAAW9rB,EAAIutE,QAAU,IAC7BvtE,EAAIuhB,cAAgBvhB,EAAIwtE,aAAextE,EAAIixD,IAAM,IAEtD90C,EAAQnc,EAAImc,OAASnc,EAAIwL,KAK7B,OAJI2Q,IACAH,EAASC,MAAgB,EAARE,EACjBH,EAASyxD,gBAAiB,GAEvBzxD,EAGX,SAAS0xD,GAAeC,EAAIC,GACxB,OAAOD,EAAGtF,QAAUuF,EAAGvF,OACnBsF,EAAGtxD,SAAWuxD,EAAGvxD,QACjBsxD,EAAG1xD,OAAS2xD,EAAG3xD,MACf0xD,EAAGpsD,eAAiBqsD,EAAGrsD,aAS/B,SAASssD,GAAaF,EAAIC,GACtB,MAAO,CACHvF,MAAOsF,EAAGtF,MAAQuF,EAAGvF,MACrBhsD,OAAQsxD,EAAGtxD,OAASuxD,EAAGvxD,OACvBJ,KAAM0xD,EAAG1xD,KAAO2xD,EAAG3xD,KACnBsF,aAAcosD,EAAGpsD,aAAeqsD,EAAGrsD,cAG3C,SAASusD,GAAkBF,EAAID,GAC3B,MAAO,CACHtF,MAAOuF,EAAGvF,MAAQsF,EAAGtF,MACrBhsD,OAAQuxD,EAAGvxD,OAASsxD,EAAGtxD,OACvBJ,KAAM2xD,EAAG3xD,KAAO0xD,EAAG1xD,KACnBsF,aAAcqsD,EAAGrsD,aAAeosD,EAAGpsD,cAG3C,SAASwsD,GAAiBl+C,EAAGL,GACzB,MAAO,CACH64C,MAAOx4C,EAAEw4C,MAAQ74C,EACjBnT,OAAQwT,EAAExT,OAASmT,EACnBvT,KAAM4T,EAAE5T,KAAOuT,EACfjO,aAAcsO,EAAEtO,aAAeiO,GAKvC,SAASw+C,GAAaC,GAClB,OAAOC,GAAYD,GAAO,IAE9B,SAASE,GAAcF,GACnB,OAAOC,GAAYD,GAAO,GAE9B,SAASC,GAAYD,GACjB,OAAOG,GAAUH,GAAO,MAQ5B,SAASG,GAAUH,GACf,OAAmB,QAAZA,EAAI5F,MACM,OAAb4F,EAAI5xD,OACO,MAAX4xD,EAAIhyD,KACJgyD,EAAI1sD,aAGZ,SAAS8sD,GAAqBC,EAAWC,GAErC,IADA,IAAI7oD,EAAM,KACDjmB,EAAI,EAAGA,EAAIytE,GAAe/wE,OAAQsD,GAAK,EAAG,CAC/C,IAAIgY,EAAOy1D,GAAeztE,GAC1B,GAAI8uE,EAAY92D,GAAO,CACnB,IAAI+2D,EAAWF,EAAU72D,GAAQ82D,EAAY92D,GAC7C,IAAKuvD,EAAMwH,IAAsB,OAAR9oD,GAAgBA,IAAQ8oD,EAC7C,OAAO,KAEX9oD,EAAM8oD,OAEL,GAAIF,EAAU72D,GAEf,OAAO,KAGf,OAAOiO,EAEX,SAAS+oD,GAA4BR,GACjC,IAAIhd,EAAKgd,EAAI1sD,aACb,GAAI0vC,EAAI,CACJ,GAAIA,EAAK,MAAS,EACd,MAAO,CAAEx5C,KAAM,cAAepb,MAAO40D,GAEzC,GAAIA,EAAK,MAAgB,EACrB,MAAO,CAAEx5C,KAAM,SAAUpb,MAAO40D,EAAK,KAEzC,GAAIA,EAAK,OAAqB,EAC1B,MAAO,CAAEx5C,KAAM,SAAUpb,MAAO40D,EAAK,KAEzC,GAAIA,EACA,MAAO,CAAEx5C,KAAM,OAAQpb,MAAO40D,EAAK,MAG3C,OAAIgd,EAAIhyD,KACAgyD,EAAIR,gBAAkBQ,EAAIhyD,KAAO,IAAM,EAChC,CAAExE,KAAM,OAAQpb,MAAO4xE,EAAIhyD,KAAO,GAEtC,CAAExE,KAAM,MAAOpb,MAAO4xE,EAAIhyD,MAEjCgyD,EAAI5xD,OACG,CAAE5E,KAAM,QAASpb,MAAO4xE,EAAI5xD,QAEnC4xD,EAAI5F,MACG,CAAE5wD,KAAM,OAAQpb,MAAO4xE,EAAI5F,OAE/B,CAAE5wD,KAAM,cAAepb,MAAO,GAIzC,SAASqyE,GAAevF,EAAQwF,EAAgBC,QACtB,IAAlBA,IAA4BA,GAAgB,GAChD,IAAIt+C,EAAI64C,EAAOtxD,cAcf,OAbAyY,EAAIA,EAAEwuC,QAAQ,OAAQ,IAClB8P,IACAt+C,EAAIA,EAAEwuC,QAAQ,aAAc,KAE5BxuC,EAAEn0B,OAAS,KACW,MAAlBwyE,EACAr+C,EAAIA,EAAEwuC,QAAQ,IAAK,IAEK,IAAnB6P,IACLr+C,EAAIA,EAAEwuC,QAAQ,IAAK+P,GAAqBF,GAAgB,MAIzDr+C,EAKX,SAASw+C,GAAgB3F,GACrB,OAAOA,EAAOtxD,cAAcinD,QAAQ,OAAQ,IAGhD,SAASiQ,GAAoB5F,GACzB,OAAOzC,EAASyC,EAAON,cAAe,GAAK,IACvCnC,EAASyC,EAAOJ,gBAAiB,GAAK,IACtCrC,EAASyC,EAAOF,gBAAiB,GAEzC,SAAS4F,GAAqBhjD,EAASmjD,QACrB,IAAVA,IAAoBA,GAAQ,GAChC,IAAIhlB,EAAOn+B,EAAU,EAAI,IAAM,IAC3B0kB,EAAMv7B,KAAKu7B,IAAI1kB,GACfD,EAAQ5W,KAAKyM,MAAM8uB,EAAM,IACzB0+B,EAAOj6D,KAAKC,MAAMs7B,EAAM,IAC5B,OAAIy+B,EACOhlB,EAAO0c,EAAS96C,EAAO,GAAK,IAAM86C,EAASuI,EAAM,GAErD,MAAQjlB,EAAOp+B,GAASqjD,EAAO,IAAMvI,EAASuI,EAAM,GAAK,IAkBpE,SAASC,GAAcC,EAAIC,EAAIC,GAC3B,GAAIF,IAAOC,EACP,OAAO,EAEX,IACI3vE,EADA2hB,EAAM+tD,EAAGhzE,OAEb,GAAIilB,IAAQguD,EAAGjzE,OACX,OAAO,EAEX,IAAKsD,EAAI,EAAGA,EAAI2hB,EAAK3hB,GAAK,EACtB,KAAM4vE,EAAeA,EAAaF,EAAG1vE,GAAI2vE,EAAG3vE,IAAM0vE,EAAG1vE,KAAO2vE,EAAG3vE,IAC3D,OAAO,EAGf,OAAO,EAGX,SAAS6vE,GAAQC,EAAYC,EAAaC,GACtC,IAAIC,EACAC,EACJ,OAAO,WAEH,IADA,IAAIC,EAAU,GACL1pE,EAAK,EAAGA,EAAKhK,UAAUC,OAAQ+J,IACpC0pE,EAAQ1pE,GAAMhK,UAAUgK,GAE5B,GAAKwpE,GAGA,IAAKR,GAAcQ,EAAaE,GAAU,CACvCH,GACAA,EAAaE,GAEjB,IAAIjqD,EAAM6pD,EAAWjwE,MAAM1D,KAAMg0E,GAC5BJ,GAAgBA,EAAY9pD,EAAKiqD,KAClCA,EAAajqD,SARjBiqD,EAAaJ,EAAWjwE,MAAM1D,KAAMg0E,GAYxC,OADAF,EAAcE,EACPD,GAGf,SAASE,GAAcN,EAAYC,EAAaC,GAC5C,IACIK,EACAH,EAFAhzE,EAAQf,KAGZ,OAAO,SAAUm0E,GACb,GAAKD,GAGA,IAAKzE,GAAayE,EAAYC,GAAS,CACpCN,GACAA,EAAaE,GAEjB,IAAIjqD,EAAM6pD,EAAWj/D,KAAK3T,EAAOozE,GAC5BP,GAAgBA,EAAY9pD,EAAKiqD,KAClCA,EAAajqD,SARjBiqD,EAAaJ,EAAWj/D,KAAK3T,EAAOozE,GAYxC,OADAD,EAAaC,EACNJ,GAkEf,IAAIK,GAAmC,CACnCxkE,KAAM,EACNunC,UAAW,EACXhrC,eAAgB,EAChBC,SAAU,EACVioE,WAAY,GAEZC,GAAgC,CAChCC,aAAc,EACdC,IAAK,EACLxrC,KAAM,EACNM,MAAO,EACPrB,IAAK,EACLwsC,QAAS,EACTxoE,KAAM,EACNC,OAAQ,EACRylE,OAAQ,GAER+C,GAAc,oBACdC,GAAW,KACXC,GAAiB,OACjBC,GAAS,UACTC,GAAS,UACTC,GAAiC,WACjC,SAASA,EAAgBC,GACrB,IAAIC,EAAoB,GACpBC,EAAmB,GACnBC,EAAW,EACf,IAAK,IAAItG,KAAUmG,EACXnG,KAAUuF,IACVc,EAAiBrG,GAAUmG,EAAenG,GAC1CsG,EAAW/7D,KAAKI,IAAI46D,GAAiCvF,GAASsG,KAG9DF,EAAkBpG,GAAUmG,EAAenG,GACvCA,KAAUyF,KACVa,EAAW/7D,KAAKI,IAAI86D,GAA8BzF,GAASsG,KAIvEn1E,KAAKi1E,kBAAoBA,EACzBj1E,KAAKk1E,iBAAmBA,EACxBl1E,KAAKm1E,SAAWA,EAChBn1E,KAAKo1E,oBAAsB1B,GAAQ0B,IAkDvC,OAhDAL,EAAgBltE,UAAUia,OAAS,SAAU1W,EAAMlD,GAC/C,OAAOlI,KAAKo1E,oBAAoBp1E,KAAKi1E,kBAAmBj1E,KAAKk1E,iBAAkBhtE,EAAxElI,CAAiFoL,IAE5F2pE,EAAgBltE,UAAUwtE,YAAc,SAAUrjE,EAAOC,EAAK/J,EAASotE,GACnE,IAAIrtE,EAAKjI,KAAMi1E,EAAoBhtE,EAAGgtE,kBAAmBC,EAAmBjtE,EAAGitE,iBAC3EK,EAAeC,GAA0BxjE,EAAMu7D,OAAQt7D,EAAIs7D,OAAQrlE,EAAQutE,gBAC/E,IAAKF,EACD,OAAOv1E,KAAK8hB,OAAO9P,EAAO9J,GAE9B,IAAIwtE,EAAwBH,IACxBG,EAAwB,IACI,YAA3BT,EAAkBjsC,MAAiD,YAA3BisC,EAAkBjsC,MAC9B,YAA5BisC,EAAkB3rC,OAAmD,YAA5B2rC,EAAkB3rC,OACjC,YAA1B2rC,EAAkBhtC,KAA+C,YAA1BgtC,EAAkBhtC,MAC1DytC,EAAwB,GAE5B,IAAIC,EAAQ31E,KAAK8hB,OAAO9P,EAAO9J,GAC3B0tE,EAAQ51E,KAAK8hB,OAAO7P,EAAK/J,GAC7B,GAAIytE,IAAUC,EACV,OAAOD,EAEX,IAAIE,EAAmBC,GAAgCb,EAAmBS,GACtEK,EAAwBX,GAAoBS,EAAkBX,EAAkBhtE,GAChF8tE,EAAWD,EAAsB/jE,GACjCikE,EAAWF,EAAsB9jE,GACjC+C,EAAYkhE,GAAoBP,EAAOK,EAAUJ,EAAOK,GACxD9+B,EAAY+9B,EAAiB/9B,WAAam+B,GAA0BptE,EAAQiuE,kBAAoB,GACpG,OAAInhE,EACOA,EAAUohE,OAASJ,EAAW7+B,EAAY8+B,EAAWjhE,EAAUqhE,MAEnEV,EAAQx+B,EAAYy+B,GAE/Bb,EAAgBltE,UAAUyuE,eAAiB,WACvC,OAAQt2E,KAAKm1E,UACT,KAAK,EACL,KAAK,EACL,KAAK,EACD,MAAO,OACX,KAAK,EACD,MAAO,QACX,KAAK,EACD,MAAO,OACX,KAAK,EACD,MAAO,MACX,QACI,MAAO,SAGZJ,EAtEyB,GAwEpC,SAASK,GAAoBH,EAAmBC,EAAkBhtE,GAC9D,IAAIquE,EAAsBrzE,OAAOD,KAAKgyE,GAAmB10E,OACzD,OAA4B,IAAxBg2E,GAAgE,UAAnCtB,EAAkBV,aACxC,SAAUnpE,GAAQ,OAAQ6nE,GAAqB7nE,EAAK2nE,iBAEnC,IAAxBwD,GAA6BrB,EAAiBtlE,KACvC,SAAUxE,GAAQ,OAAQorE,GAAiBtuE,EAAQuuE,kBAAkBrrE,EAAKmiE,QAASrlE,EAAQwuE,SAAUxuE,EAAQyuE,aAAczuE,EAAQu6B,OAAQyyC,EAAiBtlE,OAEhKgnE,GAA0B3B,EAAmBC,EAAkBhtE,GAE1E,SAAS0uE,GAA0B3B,EAAmBC,EAAkBhtE,GACpE+sE,EAAoB,eAAS,GAAIA,GACjCC,EAAmB,eAAS,GAAIA,GAChC2B,GAAiB5B,EAAmBC,GACpCD,EAAkB6B,SAAW,MAC7B,IACIC,EADAC,EAAe,IAAIC,KAAKC,eAAehvE,EAAQu6B,OAAO00C,MAAOlC,GAEjE,GAAIC,EAAiB/oE,eAAgB,CACjC,IAAIirE,EAAY,eAAS,GAAInC,UACtBmC,EAAUlrE,OACjB6qE,EAAa,IAAIE,KAAKC,eAAehvE,EAAQu6B,OAAO00C,MAAOC,GAE/D,OAAO,SAAUhsE,GACb,IACI0W,EADAyrD,EAASniE,EAAKmiE,OAGdzrD,EADAi1D,IAAexJ,EAAOJ,gBACb4J,EAGAC,EAEb,IAAItiD,EAAI5S,EAAOA,OAAOyrD,GACtB,OAAO8J,GAAY3iD,EAAGtpB,EAAM6pE,EAAmBC,EAAkBhtE,IAGzE,SAAS2uE,GAAiB5B,EAAmBC,GAGrCD,EAAkBV,eACbU,EAAkBhpE,OACnBgpE,EAAkBhpE,KAAO,WAExBgpE,EAAkB/oE,SACnB+oE,EAAkB/oE,OAAS,YAII,SAAnC+oE,EAAkBV,eAClBU,EAAkBV,aAAe,SAGjCW,EAAiB/oE,iBAAmB8oE,EAAkBtD,QAAUsD,EAAkBrD,qBAC3EsD,EAAiB/oE,eAGhC,SAASkrE,GAAY3iD,EAAGtpB,EAAM6pE,EAAmBC,EAAkBhtE,GA6B/D,OA5BAwsB,EAAIA,EAAEwuC,QAAQ2R,GAAQ,IACiB,UAAnCI,EAAkBV,eAClB7/C,EAAI4iD,GAAa5iD,EAAyB,QAArBxsB,EAAQ4uE,UAA6C,MAAvB1rE,EAAK2nE,eACpD,MACAE,GAAqB7nE,EAAK2nE,kBAE9BmC,EAAiBb,aACjB3/C,EAAIA,EAAEwuC,QAAQyR,GAAU,IAAI9pC,QAE5BqqC,EAAiB/oE,iBACjBuoB,EAAIA,EAAEwuC,QAAQ,MAAO,MAIS,IAA9BgS,EAAiB9oE,SACjBsoB,EAAIA,EAAEwuC,QAAQwR,GAAa,IAAI7pC,OAEI,WAA9BqqC,EAAiB9oE,SACtBsoB,EAAIA,EAAEwuC,QAAQwR,IAAa,SAAU3I,EAAIC,GAAM,OAAOA,EAAGuL,uBAEtB,UAA9BrC,EAAiB9oE,SACtBsoB,EAAIA,EAAEwuC,QAAQwR,IAAa,SAAU3I,EAAIC,GAAM,OAAOA,EAAGuL,oBAAsB,OAE5C,cAA9BrC,EAAiB9oE,WACtBsoB,EAAIA,EAAEwuC,QAAQwR,IAAa,SAAU3I,GAAM,OAAOA,EAAGwL,wBAEzD7iD,EAAIA,EAAEwuC,QAAQ0R,GAAgB,KAC9BlgD,EAAIA,EAAEmW,OACCnW,EAEX,SAAS4iD,GAAa5iD,EAAG8iD,GACrB,IAAIC,GAAW,EASf,OARA/iD,EAAIA,EAAEwuC,QAAQ4R,IAAQ,WAElB,OADA2C,GAAW,EACJD,KAGNC,IACD/iD,GAAK,IAAM8iD,GAER9iD,EAEX,SAAS8hD,GAAiBkB,EAAKhB,EAAUC,EAAcl0C,EAAQn2B,GAC3D,IAAIqrE,EAAQ,GAcZ,MAbgB,SAAZrrE,EACAqrE,EAAMl0E,KAAKkzE,GAEM,UAAZrqE,GAAmC,WAAZA,GAC5BqrE,EAAMl0E,KAAKizE,GAEC,SAAZpqE,GAAkC,UAAZA,GACtBqrE,EAAMl0E,KAAK,KAEfk0E,EAAMl0E,KAAKg/B,EAAOm1C,mBAAmB91D,OAAO41D,IACX,QAA7Bj1C,EAAOhjC,QAAQo4E,WACfF,EAAMtV,UAEHsV,EAAM1uE,KAAK,IAMtB,SAASusE,GAA0BzD,EAAIC,EAAI8F,GACvC,OAAIA,EAAGC,cAAchG,KAAQ+F,EAAGC,cAAc/F,GACnC,EAEP8F,EAAGE,eAAejG,KAAQ+F,EAAGE,eAAehG,GACrC,EAEP8F,EAAGG,aAAalG,KAAQ+F,EAAGG,aAAajG,GACjC,EAEPpF,GAASmF,KAAQnF,GAASoF,GACnB,EAEJ,EAEX,SAAS8D,GAAgCr2E,EAASy4E,GAC9C,IAAIC,EAAiB,GACrB,IAAK,IAAIpJ,KAAUtvE,KACTsvE,KAAUuF,KACZA,GAA8BvF,IAAWmJ,KACzCC,EAAepJ,GAAUtvE,EAAQsvE,IAGzC,OAAOoJ,EAEX,SAASjC,GAAoBP,EAAOK,EAAUJ,EAAOK,GACjD,IAAImC,EAAK,EACT,MAAOA,EAAKzC,EAAMp1E,OAAQ,CACtB,IAAI83E,EAAS1C,EAAM37C,QAAQg8C,EAAUoC,GACrC,IAAgB,IAAZC,EACA,MAEJ,IAAIC,EAAU3C,EAAM5K,OAAO,EAAGsN,GAC9BD,EAAKC,EAASrC,EAASz1E,OACvB,IAAIg4E,EAAS5C,EAAM5K,OAAOqN,GACtBI,EAAK,EACT,MAAOA,EAAK5C,EAAMr1E,OAAQ,CACtB,IAAIk4E,EAAS7C,EAAM57C,QAAQi8C,EAAUuC,GACrC,IAAgB,IAAZC,EACA,MAEJ,IAAIC,EAAU9C,EAAM7K,OAAO,EAAG0N,GAC9BD,EAAKC,EAASxC,EAAS11E,OACvB,IAAIo4E,EAAS/C,EAAM7K,OAAOyN,GAC1B,GAAIF,IAAYI,GAAWH,IAAWI,EAClC,MAAO,CACHvC,OAAQkC,EACRjC,MAAOkC,IAKvB,OAAO,KAGX,SAASK,GAAkBC,EAAUpD,GACjC,IAAIjtD,EAAIitD,EAAeqD,cAAcD,EAAStL,QAC9C,MAAO,CACHA,OAAQsL,EAAStL,OACjBwF,eAAgB8F,EAAS9F,eACzB35B,MAAO5wB,EACPwgB,KAAMxgB,EAAE,GACR8gB,MAAO9gB,EAAE,GACTyf,IAAKzf,EAAE,GACPvc,KAAMuc,EAAE,GACRtc,OAAQsc,EAAE,GACVmpD,OAAQnpD,EAAE,GACVopD,YAAappD,EAAE,IAIvB,SAASuwD,GAA2B/mE,EAAOC,EAAK/J,EAASotE,GACrD,IAAI0D,EAAYJ,GAAkB5mE,EAAO9J,EAAQutE,gBAC7CwD,EAAUhnE,EAAM2mE,GAAkB3mE,EAAK/J,EAAQutE,gBAAkB,KACrE,MAAO,CACHrqE,KAAM4tE,EACNhnE,MAAOgnE,EACP/mE,IAAKgnE,EACLnC,SAAU5uE,EAAQ4uE,SAClBoC,YAAahxE,EAAQu6B,OAAO00C,MAC5BhB,iBAAkBb,GAA0BptE,EAAQiuE,kBAW5D,IAAIgD,GAA8B,WAC9B,SAASA,EAAaC,GAClBp5E,KAAKo5E,OAASA,EAQlB,OANAD,EAAatxE,UAAUia,OAAS,SAAU1W,EAAMlD,EAASotE,GACrD,OAAOptE,EAAQmxE,aAAar5E,KAAKo5E,OAAQL,GAA2B3tE,EAAM,KAAMlD,EAASotE,KAE7F6D,EAAatxE,UAAUwtE,YAAc,SAAUrjE,EAAOC,EAAK/J,EAASotE,GAChE,OAAOptE,EAAQmxE,aAAar5E,KAAKo5E,OAAQL,GAA2B/mE,EAAOC,EAAK/J,EAASotE,KAEtF6D,EAVsB,GAa7BG,GAA+B,WAC/B,SAASA,EAAclP,GACnBpqE,KAAKoqE,KAAOA,EAQhB,OANAkP,EAAczxE,UAAUia,OAAS,SAAU1W,EAAMlD,EAASotE,GACtD,OAAOt1E,KAAKoqE,KAAK2O,GAA2B3tE,EAAM,KAAMlD,EAASotE,KAErEgE,EAAczxE,UAAUwtE,YAAc,SAAUrjE,EAAOC,EAAK/J,EAASotE,GACjE,OAAOt1E,KAAKoqE,KAAK2O,GAA2B/mE,EAAOC,EAAK/J,EAASotE,KAE9DgE,EAVuB,GAalC,SAASC,GAAgB/6C,GACrB,MAAqB,kBAAVA,GAAsBA,EACtB,IAAIu2C,GAAgBv2C,GAEV,kBAAVA,EACA,IAAI26C,GAAa36C,GAEP,oBAAVA,EACA,IAAI86C,GAAc96C,GAEtB,KAKX,IAAIg7C,GAAuB,CACvBC,gBAAiBC,GACjBC,iBAAkBD,GAClBt5D,SAAUoxD,GACVoI,qBAAsBF,GACtBG,YAAaH,GACbI,cAAeJ,GACf7I,2BAA4BW,GAC5BV,0BAA2BU,GAC3B1zD,iBAAkB0zD,GAClBuI,WAAYvI,GACZwI,gBAAiBl5E,QACjBmkB,YAAausD,GACbtsD,YAAassD,GACbyI,iBAAkBV,GAClBz0D,aAAc0sD,GACd5iD,aAAc4iD,GACd0I,cAAeR,GACfS,cAAeT,GACfU,sBAAuBz5E,OACvB05E,oBAAqB15E,OACrB87D,mBAAoB37D,QACpBud,WAAYvd,QACZw5E,gBAAiBf,GACjBgB,oBAAqBb,GACrBc,iBAAkBd,GAClBe,kBAAmBf,GACnBgB,qBAAsBhB,GACtBiB,kBAAmBjB,GACnBkB,eAAgBlB,GAChBmB,gBAAiBnB,GACjBoB,mBAAoBpB,GACpB35D,YAAapf,OACbo6E,YAAaphD,OACbqhD,SAAUl6E,QACVm6E,sBAAuBvB,GACvB36D,YAAaje,QACbo6E,qBAAsBxB,GACtByB,kBAAmBzB,GACnB0B,mBAAoB1B,GACpB2B,sBAAuB3B,GACvB7iB,SAAU/1D,QACVw6E,eAAgB5B,GAChB6B,aAAc7B,GACd8B,gBAAiB9B,GACjBn1D,aAAczjB,QACd26E,uBAAwB/B,GACxBgC,oBAAqBhC,GACrBiC,qBAAsBjC,GACtBkC,wBAAyBlC,GACzBmC,oBAAqB/6E,QACrBg7E,aAAch7E,QACdi7E,WAAYp7E,OACZq7E,SAAUr7E,OACVs7E,cAAet7E,OACfm2E,SAAUn2E,OACVu7E,QAASxC,GACTj3C,OAAQi3C,GACRyC,YAAax7E,OACb01D,mBAAoB18B,OACpBq7B,WAAYl0D,QACZo4D,uBAAwBp4D,QACxB85D,aAAc95D,QACdo7D,WAAYwd,GACZnjE,WAAYwzD,EACZvzD,iBAAkB1V,QAClBs7E,mBAAoBt7E,QACpBu7E,kBAAmB1iD,OACnBu7B,eAAgBv7B,OAChBu8B,qBAAsBv8B,OACtBxe,WAAYra,QACZqY,OAAQugE,GACR4C,cAAe5C,GACf7B,UAAWl3E,OACX47E,iBAAkBhD,GAClBiD,wBAAyB17E,QACzB27E,iBAAkB37E,QAClB47E,gBAAiB57E,QACjB41E,SAAU/1E,OACVg2E,aAAch2E,OACdg8E,0BAA2B77E,QAC3B4d,cAAeg7D,GACfv/B,YAAau/B,GACb32C,IAAK22C,GACLkD,mBAAoBlD,GACpBtxE,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","file":"js/chunk-6671a375.9fd4aa40.js","sourcesContent":["import { Vue } from '../vue';\nimport { PROP_TYPE_ARRAY_OBJECT, PROP_TYPE_STRING } from '../constants/props';\nimport { get } from '../utils/get';\nimport { stripTags } from '../utils/html';\nimport { isArray, isPlainObject, isUndefined } from '../utils/inspect';\nimport { keys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { warn } from '../utils/warn'; // --- Constants ---\n\nvar OPTIONS_OBJECT_DEPRECATED_MSG = 'Setting prop \"options\" to an object is deprecated. Use the array format instead.'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  disabledField: makeProp(PROP_TYPE_STRING, 'disabled'),\n  htmlField: makeProp(PROP_TYPE_STRING, 'html'),\n  options: makeProp(PROP_TYPE_ARRAY_OBJECT, []),\n  textField: makeProp(PROP_TYPE_STRING, 'text'),\n  valueField: makeProp(PROP_TYPE_STRING, 'value')\n}, 'formOptionControls'); // --- Mixin ---\n// @vue/component\n\nexport var formOptionsMixin = Vue.extend({\n  props: props,\n  computed: {\n    formOptions: function formOptions() {\n      return this.normalizeOptions(this.options);\n    }\n  },\n  methods: {\n    normalizeOption: function normalizeOption(option) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      // When the option is an object, normalize it\n      if (isPlainObject(option)) {\n        var value = get(option, this.valueField);\n        var text = get(option, this.textField);\n        return {\n          value: isUndefined(value) ? key || text : value,\n          text: stripTags(String(isUndefined(text) ? key : text)),\n          html: get(option, this.htmlField),\n          disabled: Boolean(get(option, this.disabledField))\n        };\n      } // Otherwise create an `<option>` object from the given value\n\n\n      return {\n        value: key || option,\n        text: stripTags(String(option)),\n        disabled: false\n      };\n    },\n    normalizeOptions: function normalizeOptions(options) {\n      var _this = this;\n\n      // Normalize the given options array\n      if (isArray(options)) {\n        return options.map(function (option) {\n          return _this.normalizeOption(option);\n        });\n      } else if (isPlainObject(options)) {\n        // Deprecate the object options format\n        warn(OPTIONS_OBJECT_DEPRECATED_MSG, this.$options.name); // Normalize a `options` object to an array of options\n\n        return keys(options).map(function (key) {\n          return _this.normalizeOption(options[key] || {}, key);\n        });\n      } // If not an array or object, return an empty array\n\n      /* istanbul ignore next */\n\n\n      return [];\n    }\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toastification\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('b-avatar',{staticClass:\"mr-75 flex-shrink-0\",attrs:{\"variant\":_vm.variant,\"size\":\"1.8rem\"}},[_c('feather-icon',{attrs:{\"icon\":_vm.icon,\"size\":\"15\"}})],1),_c('div',{staticClass:\"d-flex flex-grow-1\"},[_c('div',[(_vm.title)?_c('h5',{staticClass:\"mb-0 font-weight-bolder toastification-title\",class:(\"text-\" + _vm.variant),domProps:{\"textContent\":_vm._s(_vm.title)}}):_vm._e(),(_vm.text)?_c('small',{staticClass:\"d-inline-block text-body\",domProps:{\"textContent\":_vm._s(_vm.text)}}):_vm._e()]),_c('span',{staticClass:\"cursor-pointer toastification-close-icon ml-auto \",on:{\"click\":function($event){return _vm.$emit('close-toast')}}},[(!_vm.hideClose)?_c('feather-icon',{staticClass:\"text-body\",attrs:{\"icon\":\"XIcon\"}}):_vm._e()],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"toastification\">\n    <div class=\"d-flex align-items-start\">\n      <b-avatar\n        :variant=\"variant\"\n        size=\"1.8rem\"\n        class=\"mr-75 flex-shrink-0\"\n      >\n        <feather-icon\n          :icon=\"icon\"\n          size=\"15\"\n        />\n      </b-avatar>\n      <div class=\"d-flex flex-grow-1\">\n        <div>\n          <h5\n            v-if=\"title\"\n            class=\"mb-0 font-weight-bolder toastification-title\"\n            :class=\"`text-${variant}`\"\n            v-text=\"title\"\n          />\n          <small\n            v-if=\"text\"\n            class=\"d-inline-block text-body\"\n            v-text=\"text\"\n          />\n        </div>\n        <span\n          class=\"cursor-pointer toastification-close-icon ml-auto \"\n          @click=\"$emit('close-toast')\"\n        >\n          <feather-icon\n            v-if=\"!hideClose\"\n            icon=\"XIcon\"\n            class=\"text-body\"\n          />\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { BAvatar } from 'bootstrap-vue'\n\nexport default {\n  components: {\n    BAvatar,\n  },\n  props: {\n    variant: {\n      type: String,\n      default: 'primary',\n    },\n    icon: {\n      type: String,\n      default: null,\n    },\n    title: {\n      type: String,\n      default: null,\n    },\n    text: {\n      type: String,\n      default: null,\n    },\n    hideClose: {\n      type: Boolean,\n      default: false,\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.toastification-close-icon,\n.toastification-title {\n  line-height: 26px;\n}\n\n.toastification-title {\n  color: inherit;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToastificationContent.vue?vue&type=template&id=55dd3057&scoped=true&\"\nimport script from \"./ToastificationContent.vue?vue&type=script&lang=js&\"\nexport * from \"./ToastificationContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55dd3057\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/1-small.1b74d2ba.png\";","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_RADIO } from '../../constants/components';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { sortKeys } from '../../utils/object';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formRadioCheckProps), formSizeProps), formStateProps)), NAME_FORM_RADIO); // --- Main component ---\n// @vue/component\n\nexport var BFormRadio = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_RADIO,\n  mixins: [idMixin, formRadioCheckMixin, // Includes shared render function\n  formControlMixin, formSizeMixin, formStateMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvRadioGroup',\n      default: false\n    }\n  },\n  props: props,\n  watch: {\n    computedLocalChecked: function computedLocalChecked(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n      }\n    }\n  }\n});","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { SLOT_NAME_FIRST } from '../constants/slots';\nimport { htmlOrText } from '../utils/html';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { omit, pick, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { BFormCheckbox } from '../components/form-checkbox/form-checkbox';\nimport { BFormRadio } from '../components/form-radio/form-radio';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formOptionsMixin, props as formOptionsProps } from './form-options';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n// Attributes to pass down to checks/radios instead of applying them to the group\n\nvar PASS_DOWN_ATTRS = ['aria-describedby', 'aria-labelledby'];\n\nvar _makeModelMixin = makeModelMixin('checked'),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formOptionsProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  // Render as button style\n  buttons: makeProp(PROP_TYPE_BOOLEAN, false),\n  stacked: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n})), 'formRadioCheckGroups'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckGroupMixin = Vue.extend({\n  mixins: [idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formOptionsMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this[MODEL_PROP_NAME]\n    };\n  },\n  computed: {\n    inline: function inline() {\n      return !this.stacked;\n    },\n    groupName: function groupName() {\n      // Checks/Radios tied to the same model must have the same name,\n      // especially for ARIA accessibility\n      return this.name || this.safeId();\n    },\n    groupClasses: function groupClasses() {\n      var inline = this.inline,\n          size = this.size,\n          validated = this.validated;\n      var classes = {\n        'was-validated': validated\n      };\n\n      if (this.buttons) {\n        classes = [classes, 'btn-group-toggle', _defineProperty({\n          'btn-group': inline,\n          'btn-group-vertical': !inline\n        }, \"btn-group-\".concat(size), size)];\n      }\n\n      return classes;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!looseEqual(newValue, this.localChecked)) {\n      this.localChecked = newValue;\n    }\n  }), _defineProperty(_watch, \"localChecked\", function localChecked(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _watch),\n  render: function render(h) {\n    var _this = this;\n\n    var isRadioGroup = this.isRadioGroup;\n    var attrs = pick(this.$attrs, PASS_DOWN_ATTRS);\n    var optionComponent = isRadioGroup ? BFormRadio : BFormCheckbox;\n    var $inputs = this.formOptions.map(function (option, index) {\n      var key = \"BV_option_\".concat(index);\n      return h(optionComponent, {\n        props: {\n          // Individual radios or checks can be disabled in a group\n          disabled: option.disabled || false,\n          id: _this.safeId(key),\n          value: option.value // We don't need to include these, since the input's will know they are inside here\n          // form: this.form || null,\n          // name: this.groupName,\n          // required: Boolean(this.name && this.required)\n\n        },\n        attrs: attrs,\n        key: key\n      }, [h('span', {\n        domProps: htmlOrText(option.html, option.text)\n      })]);\n    });\n    return h('div', {\n      class: [this.groupClasses, 'bv-no-focus-ring'],\n      attrs: _objectSpread(_objectSpread({}, omit(this.$attrs, PASS_DOWN_ATTRS)), {}, {\n        'aria-invalid': this.computedAriaInvalid,\n        'aria-required': this.required ? 'true' : null,\n        id: this.safeId(),\n        role: isRadioGroup ? 'radiogroup' : 'group',\n        // Add `tabindex=\"-1\"` to allow group to be focused if needed by screen readers\n        tabindex: '-1'\n      })\n    }, [this.normalizeSlot(SLOT_NAME_FIRST), $inputs, this.normalizeSlot()]);\n  }\n});","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX_GROUP } from '../../constants/components';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_PROP_NAME, formRadioCheckGroupMixin, props as formRadioCheckGroupProps } from '../../mixins/form-radio-check-group'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckGroupProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME, makeProp(PROP_TYPE_ARRAY, [])), _defineProperty(_objectSpread2, \"switches\", makeProp(PROP_TYPE_BOOLEAN, false)), _objectSpread2))), NAME_FORM_CHECKBOX_GROUP); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckboxGroup = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX_GROUP,\n  // Includes render function\n  mixins: [formRadioCheckGroupMixin],\n  provide: function provide() {\n    return {\n      bvCheckGroup: this\n    };\n  },\n  props: props,\n  computed: {\n    isRadioGroup: function isRadioGroup() {\n      return false;\n    }\n  }\n});","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkAttrs, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, getSegAnchorAttrs, memoize, MoreLinkRoot, getSegMeta, createAriaClickAttrs, getUniqueDomId, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ id: props.dayNumberId, className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg, context)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", __assign({ ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId }, createAriaClickAttrs(handleClick)), innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, context = _a.context, props = _a.props, state = _a.state, rootElRef = _a.rootElRef;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, role: \"gridcell\", className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs, (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, dayNumberId: state.dayNumberId, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var oldInstanceHeights = this.state.eventInstanceHeights;\n            var newInstanceHeights = this.queryEventInstanceHeights();\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: __assign(__assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" }, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkAttrs, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? buildNavLinkAttrs(_this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick, title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, role: \"gridcell\", className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","import { ref, nextTick } from '@vue/composition-api'\n\n// ===========================================================\n// ! This is coupled with \"veeValidate\" plugin\n// ===========================================================\n\nexport default function formValidation(resetFormData, clearFormData = () => {}) {\n  // ------------------------------------------------\n  // refFormObserver\n  // ! This is for veeValidate Observer\n  // * Used for veeValidate form observer\n  // ------------------------------------------------\n  const refFormObserver = ref(null)\n\n  // ------------------------------------------------\n  // resetObserver\n  // ! This function is coupled with veeValidate\n  // * It resets form observer\n  // ------------------------------------------------\n  const resetObserver = () => {\n    refFormObserver.value.reset()\n  }\n\n  // ------------------------------------------------\n  // getValidationState\n  // ! This function is coupled with veeValidate\n  // * It returns true/false based on validation\n  // ------------------------------------------------\n  // eslint-disable-next-line object-curly-newline\n  const getValidationState = ({ dirty, validated, required: fieldRequired, changed, valid = null }) => {\n    const result = dirty || validated ? valid : null\n    return !fieldRequired && !changed ? null : result\n  }\n\n  // ------------------------------------------------\n  // resetForm\n  // ! This function is coupled with veeValidate\n  // * This uses resetFormData arg to reset form data\n  // ------------------------------------------------\n  const resetForm = () => {\n    resetFormData()\n    nextTick(() => {\n      resetObserver()\n    })\n  }\n\n  // ------------------------------------------------\n  // clearForm\n  // ! This function is coupled with veeValidate\n  // * This uses clearFormData arg to reset form data\n  // ------------------------------------------------\n  const clearForm = () => {\n    clearFormData()\n    nextTick(() => {\n      resetObserver()\n    })\n  }\n\n  return {\n    refFormObserver,\n    resetObserver,\n    getValidationState,\n    resetForm,\n    clearForm,\n  }\n}\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.VueSelect=e():t.VueSelect=e()}(\"undefined\"!=typeof self?self:this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/\",n(n.s=8)}([function(t,e,n){var o=n(4),i=n(5),s=n(6);t.exports=function(t){return o(t)||i(t)||s()}},function(t,e){function n(e){return\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n(e)}t.exports=n},function(t,e,n){},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}},function(t,e,n){\"use strict\";var o=n(2);n.n(o).a},function(t,e,n){\"use strict\";n.r(e);var o=n(0),i=n.n(o),s=n(1),r=n.n(s),a=n(3),l=n.n(a),c={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()}},methods:{maybeAdjustScroll:function(){var t,e=(null===(t=this.$refs.dropdownMenu)||void 0===t?void 0:t.children[this.typeAheadPointer])||!1;if(e){var n=this.getDropdownViewport(),o=e.getBoundingClientRect(),i=o.top,s=o.bottom,r=o.height;if(i<n.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(s>n.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(n.height-r)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},u={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect:function(){var t=this.filteredOptions[this.typeAheadPointer];t&&this.select(t)}}},p={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit(\"search\",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function h(t,e,n,o,i,s,r,a){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId=\"data-v-\"+s),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:c}}var d={Deselect:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"10\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z\"}})])}),[],!1,null,null,null).exports,OpenIndicator:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z\"}})])}),[],!1,null,null,null).exports},f={inserted:function(t,e,n){var o=n.context;if(o.appendToBody){var i=o.$refs.toggle.getBoundingClientRect(),s=i.height,r=i.top,a=i.left,l=i.width,c=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=o.calculatePosition(t,o,{width:l+\"px\",left:c+a+\"px\",top:u+r+s+\"px\"}),document.body.appendChild(t)}},unbind:function(t,e,n){n.context.appendToBody&&(t.unbindPosition&&\"function\"==typeof t.unbindPosition&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};var y=function(t){var e={};return Object.keys(t).sort().forEach((function(n){e[n]=t[n]})),JSON.stringify(e)},b=0;var g=function(){return++b};function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={components:m({},d),mixins:[c,u,p],directives:{appendToBody:f},props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:\"\"},transition:{type:String,default:\"vs__fade\"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:\"label\"},autocomplete:{type:String,default:\"off\"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return\"object\"===r()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key \"option.'.concat(this.label,'\" does not')+\" exist in options object \".concat(JSON.stringify(t),\".\\n\")+\"https://vue-select.org/api/props.html#getoptionlabel\"):t}},getOptionKey:{type:Function,default:function(t){if(\"object\"!==r()(t))return t;try{return t.hasOwnProperty(\"id\")?t.id:y(t)}catch(e){return console.warn(\"[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\\nhttps://vue-select.org/api/props.html#getoptionkey\",t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,n){return(e||\"\").toLowerCase().indexOf(n.toLowerCase())>-1}},filter:{type:Function,default:function(t,e){var n=this;return t.filter((function(t){var o=n.getOptionLabel(t);return\"number\"==typeof o&&(o=o.toString()),n.filterBy(t,o,e)}))}},createOption:{type:Function,default:function(t){return\"object\"===r()(this.optionList[0])?l()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return[\"function\",\"boolean\"].includes(r()(t))}},clearSearchOnBlur:{type:Function,default:function(t){var e=t.clearSearchOnSelect,n=t.multiple;return e&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:\"auto\"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:\"[type=search]\"},mapKeydown:{type:Function,default:function(t,e){return t}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(t,e,n){var o=n.width,i=n.top,s=n.left;t.style.top=i,t.style.left=s,t.style.width=o}}},data:function(){return{uid:g(),search:\"\",open:!1,isComposing:!1,pushedTags:[],_value:[]}},watch:{options:function(t,e){var n=this;!this.taggable&&(\"function\"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(t,e,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)},multiple:function(){this.clearSelection()},open:function(t){this.$emit(t?\"open\":\"close\")}},created:function(){this.mutableLoading=this.loading,void 0!==this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value),this.$on(\"option:created\",this.pushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(t){return e.findOptionFromReducedValue(t)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.$emit(\"option:selecting\",t),this.isOptionSelected(t)||(this.taggable&&!this.optionExists(t)&&this.$emit(\"option:created\",t),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit(\"option:selected\",t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.$emit(\"option:deselecting\",t),this.updateValue(this.selectedValue.filter((function(n){return!e.optionComparator(n,t)}))),this.$emit(\"option:deselected\",t)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search=\"\")},updateValue:function(t){var e=this;void 0===this.value&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map((function(t){return e.reduce(t)})):this.reduce(t)),this.$emit(\"input\",t)},toggleDropdown:function(t){var e=t.target!==this.searchEl;e&&t.preventDefault();var n=[].concat(i()(this.$refs.deselectButtons||[]),i()([this.$refs.clearButton]||!1));void 0===this.searchEl||n.filter(Boolean).some((function(e){return e.contains(t.target)||e===t.target}))?t.preventDefault():this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(n){return e.optionComparator(n,t)}))},optionComparator:function(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue:function(t){var e=this,n=[].concat(i()(this.options),i()(this.pushedTags)).filter((function(n){return JSON.stringify(e.reduce(n))===JSON.stringify(t)}));return 1===n.length?n[0]:n.find((function(t){return e.optionComparator(t,e.$data._value)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit(\"search:blur\")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var t=null;this.multiple&&(t=i()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(n){return e.optionComparator(n,t)}))},normalizeOptionForSlot:function(t){return\"object\"===r()(t)?t:l()({},this.label,t)},pushTag:function(t){this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search=\"\":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var t=this.clearSearchOnSelect,e=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=\"\"),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit(\"search:focus\")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,n=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},o={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(t){return o[t]=n}));var i=this.mapKeydown(o,this);if(\"function\"==typeof i[t.keyCode])return i[t.keyCode](t)}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty(\"reduce\")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this,e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:m({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,\"aria-autocomplete\":\"list\",\"aria-labelledby\":\"vs\".concat(this.uid,\"__combobox\"),\"aria-controls\":\"vs\".concat(this.uid,\"__listbox\"),ref:\"search\",type:\"search\",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{\"aria-activedescendant\":\"vs\".concat(this.uid,\"__option-\").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.loading,searching:this.searching},openIndicator:{attributes:{ref:\"openIndicator\",role:\"presentation\",class:\"vs__open-indicator\"}},listHeader:e,listFooter:e,header:m({},e,{deselect:this.deselect}),footer:m({},e,{deselect:this.deselect})}},childComponents:function(){return m({},d,{},this.components)},stateClasses:function(){return{\"vs--open\":this.dropdownOpen,\"vs--single\":!this.multiple,\"vs--searching\":this.searching&&!this.noDrop,\"vs--searchable\":this.searchable&&!this.noDrop,\"vs--unsearchable\":!this.searchable,\"vs--loading\":this.mutableLoading,\"vs--disabled\":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return!this.noDrop&&(this.open&&!this.mutableLoading)},searchPlaceholder:function(){if(this.isValueEmpty&&this.placeholder)return this.placeholder},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||e.unshift(n)}return e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}}},O=(n(7),h(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"v-select\",class:t.stateClasses,attrs:{dir:t.dir}},[t._t(\"header\",null,null,t.scope.header),t._v(\" \"),n(\"div\",{ref:\"toggle\",staticClass:\"vs__dropdown-toggle\",attrs:{id:\"vs\"+t.uid+\"__combobox\",role:\"combobox\",\"aria-expanded\":t.dropdownOpen.toString(),\"aria-owns\":\"vs\"+t.uid+\"__listbox\",\"aria-label\":\"Search for option\"},on:{mousedown:function(e){return t.toggleDropdown(e)}}},[n(\"div\",{ref:\"selectedOptions\",staticClass:\"vs__selected-options\"},[t._l(t.selectedValue,(function(e){return t._t(\"selected-option-container\",[n(\"span\",{key:t.getOptionKey(e),staticClass:\"vs__selected\"},[t._t(\"selected-option\",[t._v(\"\\n            \"+t._s(t.getOptionLabel(e))+\"\\n          \")],null,t.normalizeOptionForSlot(e)),t._v(\" \"),t.multiple?n(\"button\",{ref:\"deselectButtons\",refInFor:!0,staticClass:\"vs__deselect\",attrs:{disabled:t.disabled,type:\"button\",title:\"Deselect \"+t.getOptionLabel(e),\"aria-label\":\"Deselect \"+t.getOptionLabel(e)},on:{click:function(n){return t.deselect(e)}}},[n(t.childComponents.Deselect,{tag:\"component\"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(\" \"),t._t(\"search\",[n(\"input\",t._g(t._b({staticClass:\"vs__search\"},\"input\",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(\" \"),n(\"div\",{ref:\"actions\",staticClass:\"vs__actions\"},[n(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showClearButton,expression:\"showClearButton\"}],ref:\"clearButton\",staticClass:\"vs__clear\",attrs:{disabled:t.disabled,type:\"button\",title:\"Clear Selected\",\"aria-label\":\"Clear Selected\"},on:{click:t.clearSelection}},[n(t.childComponents.Deselect,{tag:\"component\"})],1),t._v(\" \"),t._t(\"open-indicator\",[t.noDrop?t._e():n(t.childComponents.OpenIndicator,t._b({tag:\"component\"},\"component\",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(\" \"),t._t(\"spinner\",[n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.mutableLoading,expression:\"mutableLoading\"}],staticClass:\"vs__spinner\"},[t._v(\"Loading...\")])],null,t.scope.spinner)],2)]),t._v(\" \"),n(\"transition\",{attrs:{name:t.transition}},[t.dropdownOpen?n(\"ul\",{directives:[{name:\"append-to-body\",rawName:\"v-append-to-body\"}],key:\"vs\"+t.uid+\"__listbox\",ref:\"dropdownMenu\",staticClass:\"vs__dropdown-menu\",attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\",tabindex:\"-1\"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._t(\"list-header\",null,null,t.scope.listHeader),t._v(\" \"),t._l(t.filteredOptions,(function(e,o){return n(\"li\",{key:t.getOptionKey(e),staticClass:\"vs__dropdown-option\",class:{\"vs__dropdown-option--selected\":t.isOptionSelected(e),\"vs__dropdown-option--highlight\":o===t.typeAheadPointer,\"vs__dropdown-option--disabled\":!t.selectable(e)},attrs:{role:\"option\",id:\"vs\"+t.uid+\"__option-\"+o,\"aria-selected\":o===t.typeAheadPointer||null},on:{mouseover:function(n){t.selectable(e)&&(t.typeAheadPointer=o)},mousedown:function(n){n.preventDefault(),n.stopPropagation(),t.selectable(e)&&t.select(e)}}},[t._t(\"option\",[t._v(\"\\n          \"+t._s(t.getOptionLabel(e))+\"\\n        \")],null,t.normalizeOptionForSlot(e))],2)})),t._v(\" \"),0===t.filteredOptions.length?n(\"li\",{staticClass:\"vs__no-options\"},[t._t(\"no-options\",[t._v(\"Sorry, no matching options.\")],null,t.scope.noOptions)],2):t._e(),t._v(\" \"),t._t(\"list-footer\",null,null,t.scope.listFooter)],2):n(\"ul\",{staticStyle:{display:\"none\",visibility:\"hidden\"},attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\"}})]),t._v(\" \"),t._t(\"footer\",null,null,t.scope.footer)],2)}),[],!1,null,null,null).exports),w={ajax:p,pointer:u,pointerScroll:c};n.d(e,\"VueSelect\",(function(){return O})),n.d(e,\"mixins\",(function(){return w}));e.default=O}])}));\n//# sourceMappingURL=vue-select.js.map","export const HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport const defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: (err) => typeof console !== \"undefined\" && console.warn(err),\n    getWeek: (givenDate) => {\n        const date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export const english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: (nth) => {\n        const s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export const pad = (number, length = 2) => `000${number}`.slice(length * -1);\nexport const int = (bool) => (bool === true ? 1 : 0);\nexport function debounce(fn, wait) {\n    let t;\n    return function () {\n        clearTimeout(t);\n        t = setTimeout(() => fn.apply(this, arguments), wait);\n    };\n}\nexport const arrayify = (obj) => obj instanceof Array ? obj : [obj];\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    const e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    const wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (const key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            const path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nconst doNothing = () => undefined;\nexport const monthToStr = (monthNumber, shorthand, locale) => locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\nexport const revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    H: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: (dateObj, amPM, locale) => {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: (_, unixSeconds) => new Date(parseFloat(unixSeconds) * 1000),\n    W: function (dateObj, weekNum, locale) {\n        const weekNumber = parseInt(weekNum);\n        const date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: (dateObj, year) => {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: (_, ISODate) => new Date(ISODate),\n    d: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    i: (dateObj, minutes) => {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: (_, unixMillSeconds) => new Date(parseFloat(unixMillSeconds)),\n    w: doNothing,\n    y: (dateObj, year) => {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport const tokenRegex = {\n    D: \"(\\\\w+)\",\n    F: \"(\\\\w+)\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"(\\\\w+)\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"(\\\\w+)\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport const formats = {\n    Z: (date) => date.toISOString(),\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: (date) => pad(date.getHours()),\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: (date, locale) => locale.amPM[int(date.getHours() > 11)],\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: (date) => pad(date.getSeconds()),\n    U: (date) => date.getTime() / 1000,\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: (date) => pad(date.getFullYear(), 4),\n    d: (date) => pad(date.getDate()),\n    h: (date) => (date.getHours() % 12 ? date.getHours() % 12 : 12),\n    i: (date) => pad(date.getMinutes()),\n    j: (date) => date.getDate(),\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: (date) => pad(date.getMonth() + 1),\n    n: (date) => date.getMonth() + 1,\n    s: (date) => date.getSeconds(),\n    u: (date) => date.getTime(),\n    w: (date) => date.getDay(),\n    y: (date) => String(date.getFullYear()).substring(2),\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport const createDateFormatter = ({ config = defaults, l10n = english, isMobile = false, }) => (dateObj, frmt, overrideLocale) => {\n    const locale = overrideLocale || l10n;\n    if (config.formatDate !== undefined && !isMobile) {\n        return config.formatDate(dateObj, frmt, locale);\n    }\n    return frmt\n        .split(\"\")\n        .map((c, i, arr) => formats[c] && arr[i - 1] !== \"\\\\\"\n        ? formats[c](dateObj, locale, config)\n        : c !== \"\\\\\"\n            ? c\n            : \"\")\n        .join(\"\");\n};\nexport const createDateParser = ({ config = defaults, l10n = english }) => (date, givenFormat, timeless, customLocale) => {\n    if (date !== 0 && !date)\n        return undefined;\n    const locale = customLocale || l10n;\n    let parsedDate;\n    const dateOrig = date;\n    if (date instanceof Date)\n        parsedDate = new Date(date.getTime());\n    else if (typeof date !== \"string\" &&\n        date.toFixed !== undefined)\n        parsedDate = new Date(date);\n    else if (typeof date === \"string\") {\n        const format = givenFormat || (config || defaults).dateFormat;\n        const datestr = String(date).trim();\n        if (datestr === \"today\") {\n            parsedDate = new Date();\n            timeless = true;\n        }\n        else if (/Z$/.test(datestr) ||\n            /GMT$/.test(datestr))\n            parsedDate = new Date(date);\n        else if (config && config.parseDate)\n            parsedDate = config.parseDate(date, format);\n        else {\n            parsedDate =\n                !config || !config.noCalendar\n                    ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                    : new Date(new Date().setHours(0, 0, 0, 0));\n            let matched, ops = [];\n            for (let i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                const token = format[i];\n                const isBackSlash = token === \"\\\\\";\n                const escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                if (tokenRegex[token] && !escaped) {\n                    regexStr += tokenRegex[token];\n                    const match = new RegExp(regexStr).exec(date);\n                    if (match && (matched = true)) {\n                        ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                            fn: revFormat[token],\n                            val: match[++matchIndex],\n                        });\n                    }\n                }\n                else if (!isBackSlash)\n                    regexStr += \".\";\n                ops.forEach(({ fn, val }) => (parsedDate = fn(parsedDate, val, locale) || parsedDate));\n            }\n            parsedDate = matched ? parsedDate : undefined;\n        }\n    }\n    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n        config.errorHandler(new Error(`Invalid date provided: ${dateOrig}`));\n        return undefined;\n    }\n    if (timeless === true)\n        parsedDate.setHours(0, 0, 0, 0);\n    return parsedDate;\n};\nexport function compareDates(date1, date2, timeless = true) {\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport const isBetween = (ts, ts1, ts2) => {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport const duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    let hours = config.defaultHour;\n    let minutes = config.defaultMinute;\n    let seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        const minHour = config.minDate.getHours();\n        const minMinutes = config.minDate.getMinutes();\n        const minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        const maxHr = config.maxDate.getHours();\n        const maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours, minutes, seconds };\n}\n","import { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nconst DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    const self = {\n        config: Object.assign(Object.assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self._createElement = createElement;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth(month = self.currentMonth, yr = self.currentYear) {\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        const config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    const daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            const defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            const defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        const prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        let hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        const limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        const limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (limitMaxHours) {\n            const maxTime = self.config.maxTime !== undefined\n                ? self.config.maxTime\n                : self.config.maxDate;\n            hours = Math.min(hours, maxTime.getHours());\n            if (hours === maxTime.getHours())\n                minutes = Math.min(minutes, maxTime.getMinutes());\n            if (minutes === maxTime.getMinutes())\n                seconds = Math.min(seconds, maxTime.getSeconds());\n        }\n        if (limitMinHours) {\n            const minTime = self.config.minTime !== undefined\n                ? self.config.minTime\n                : self.config.minDate;\n            hours = Math.max(hours, minTime.getHours());\n            if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                minutes = minTime.getMinutes();\n            if (minutes === minTime.getMinutes())\n                seconds = Math.max(seconds, minTime.getSeconds());\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        const date = dateObj || self.latestSelectedDateObj;\n        if (date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        const eventTarget = getEventTarget(event);\n        const year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach((ev) => bind(element, ev, handler, options));\n        if (element instanceof Array)\n            return element.forEach((el) => bind(el, event, handler, options));\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: () => element.removeEventListener(event, handler),\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach((evt) => {\n                Array.prototype.forEach.call(self.element.querySelectorAll(`[data-${evt}]`), (el) => bind(el, \"click\", self[evt]));\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        const debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", (e) => {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(window.document.body, \"keydown\", onKeyDown);\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            const selText = (e) => getEventTarget(e).select();\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", () => self.secondElement && self.secondElement.select());\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", (e) => {\n                    updateTime(e);\n                    triggerChange();\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        const jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        const oldYear = self.currentYear;\n        const oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        const eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        const target = e && getEventTarget(e);\n        const input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        const event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        const fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                const { weekWrapper, weekNumbers } = buildWeeks();\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        const customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                const wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, dayNumber, i) {\n        const dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            dayNumber % 7 === 1) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        const startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (let m = startMonth; m != endMonth; m += delta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = delta > 0 ? 0 : month.children.length - 1;\n            const endIndex = delta > 0 ? month.children.length : -1;\n            for (let i = startIndex; i != endIndex; i += delta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        const givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        const loopDelta = delta > 0 ? 1 : -1;\n        for (let m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            const numMonthDays = month.children.length;\n            for (let i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        const dayFocused = isInView(document.activeElement || document.body);\n        const startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? document.activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        const firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        const prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        const daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        let dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (let dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        const dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        const frag = document.createDocumentFragment();\n        for (let i = 0; i < self.config.showMonths; i++) {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        const shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (let i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            const month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        const container = createElement(\"div\", \"flatpickr-month\");\n        const monthNavFragment = window.document.createDocumentFragment();\n        let monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", (e) => {\n                const target = getEventTarget(e);\n                const selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        const yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        const yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        const currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container,\n            yearElement,\n            monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (let m = self.config.showMonths; m--;) {\n            const month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: () => self.__hidePrevMonthArrow,\n            set(bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: () => self.__hideNextMonthArrow,\n            set(bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        const defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        const separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        const hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        const minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            const secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (let i = self.config.showMonths; i--;) {\n            const container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        const firstDayOfWeek = self.l10n.firstDayOfWeek;\n        let weekdays = [...self.l10n.weekdays.shorthand];\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = [\n                ...weekdays.splice(firstDayOfWeek, weekdays.length),\n                ...weekdays.splice(0, firstDayOfWeek),\n            ];\n        }\n        for (let i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = `\n      <span class='flatpickr-weekday'>\n        ${weekdays.join(\"</span><span class='flatpickr-weekday'>\")}\n      </span>\n      `;\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        const weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        const weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper,\n            weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset = true) {\n        const delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent = true, toInitial = true) {\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            const { hours, minutes, seconds } = getDefaultHours(self.config);\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (let i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                const wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach((k) => {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\n            return true;\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            const eventTarget = getEventTarget(e);\n            const isCalendarElement = isCalendarElem(eventTarget);\n            const isInput = eventTarget === self.input ||\n                eventTarget === self.altInput ||\n                self.element.contains(eventTarget) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            const lostFocus = e.type === \"blur\"\n                ? isInput &&\n                    e.relatedTarget &&\n                    !isCalendarElem(e.relatedTarget)\n                : !isInput &&\n                    !isCalendarElement &&\n                    !isCalendarElem(e.relatedTarget);\n            const isIgnored = !self.config.ignoredFocusElements.some((elem) => elem.contains(eventTarget));\n            if (lostFocus && isIgnored) {\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1) {\n                    self.clear(false);\n                    self.redraw();\n                }\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        const newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless = true) {\n        var _a;\n        const dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        const bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (let i = 0, d; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                const parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        const isInput = e.target === self._input;\n        if (isInput &&\n            (self.selectedDates.length > 0 || self._input.value.length > 0) &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        const eventTarget = getEventTarget(e);\n        const isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        const allowInput = self.config.allowInput;\n        const allowKeydown = self.isOpen && (!allowInput || !isInput);\n        const allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            const isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (document.activeElement && isInView(document.activeElement)))) {\n                            const delta = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    const delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        const elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter((x) => x);\n                        const i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            const target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem) {\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(\"flatpickr-day\") ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        const hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        let containsDisabled = false;\n        let minRange = 0, maxRange = 0;\n        for (let t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        for (let m = 0; m < self.config.showMonths; m++) {\n            const month = self.daysContainer.children[m];\n            for (let i = 0, l = month.children.length; i < l; i++) {\n                const dayElem = month.children[i], date = dayElem.dateObj;\n                const timestamp = date.getTime();\n                const outOfRange = (minRange > 0 && timestamp < minRange) ||\n                    (maxRange > 0 && timestamp > maxRange);\n                if (outOfRange) {\n                    dayElem.classList.add(\"notAllowed\");\n                    [\"inRange\", \"startRange\", \"endRange\"].forEach((c) => {\n                        dayElem.classList.remove(c);\n                    });\n                    continue;\n                }\n                else if (containsDisabled && !outOfRange)\n                    continue;\n                [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach((c) => {\n                    dayElem.classList.remove(c);\n                });\n                if (elem !== undefined) {\n                    elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                        ? \"startRange\"\n                        : \"endRange\");\n                    if (initialDate < hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"startRange\");\n                    else if (initialDate > hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"endRange\");\n                    if (timestamp >= minRange &&\n                        (maxRange === 0 || timestamp <= maxRange) &&\n                        isBetween(timestamp, initialDate, hoverDate))\n                        dayElem.classList.add(\"inRange\");\n                }\n            }\n        }\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement = self._positionElement) {\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                const eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        const wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(() => self.hourElement.select(), 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return (date) => {\n            const dateObj = (self.config[`_${type}Date`] = self.parseDate(date, self.config.dateFormat));\n            const inverseDateObj = self.config[`_${type === \"min\" ? \"max\" : \"min\"}Date`];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter((d) => isEnabled(d));\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        const boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        const userConfig = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        const formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: () => self.config._enable,\n            set: (dates) => {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: () => self.config._disable,\n            set: (dates) => {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        const timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            const defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            const defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + ` h:i${userConfig.enableSeconds ? \":S\" : \"\"} K`;\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: () => self.config._minDate,\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: () => self.config._maxDate,\n            set: minMaxDateSetter(\"max\"),\n        });\n        const minMaxTimeSetter = (type) => (val) => {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: () => self.config._minTime,\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: () => self.config._maxTime,\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (let i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter((hook) => self.config[hook] !== undefined).forEach((hook) => {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (let i = 0; i < self.config.plugins.length; i++) {\n            const pluginConf = self.config.plugins[i](self) || {};\n            for (const key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(`flatpickr: invalid locale ${self.config.locale}`));\n        self.l10n = Object.assign(Object.assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.K = `(${self.l10n.amPM[0]}|${self.l10n.amPM[1]}|${self.l10n.amPM[0].toLowerCase()}|${self.l10n.amPM[1].toLowerCase()})`;\n        const userConfig = Object.assign(Object.assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        const positionElement = customPositionElement || self._positionElement;\n        const calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, ((acc, child) => acc + child.offsetHeight), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        const top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        let left = window.pageXOffset + inputBounds.left;\n        let isCenter = false;\n        let isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        const right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        const rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        const centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = `${top}px`;\n        if (!rightMost) {\n            self.calendarContainer.style.left = `${left}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = `${right}px`;\n        }\n        else {\n            const doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            const bodyWidth = window.document.body.offsetWidth;\n            const centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            const centerBefore = \".flatpickr-calendar.centerMost:before\";\n            const centerAfter = \".flatpickr-calendar.centerMost:after\";\n            const centerIndex = doc.cssRules.length;\n            const centerStyle = `{left:${inputBounds.left}px;right:auto;}`;\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(`${centerBefore},${centerAfter}${centerStyle}`, centerIndex);\n            self.calendarContainer.style.left = `${centerLeft}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        let editableSheet = null;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            const sheet = document.styleSheets[i];\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const isSelectable = (day) => day.classList &&\n            day.classList.contains(\"flatpickr-day\") &&\n            !day.classList.contains(\"flatpickr-disabled\") &&\n            !day.classList.contains(\"notAllowed\");\n        const t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        const target = t;\n        const selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        const shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            const selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            const isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            const single = self.config.mode === \"single\" && !self.config.enableTime;\n            const range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    const CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        clickOpens: [\n            () => {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (const key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach((x) => x());\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach((x) => x());\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        let dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map((d) => self.parseDate(d, format));\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(inputDate)}`));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter((d) => d instanceof Date && isEnabled(d, false)));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n    }\n    function setDate(date, triggerChange = false, format = self.config.dateFormat) {\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map((rule) => {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter((x) => x);\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        const preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        const inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", (e) => {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        const hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (let i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        const e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (let i = 0; i < self.selectedDates.length; i++) {\n            if (compareDates(self.selectedDates[i], date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach((yearElement, i) => {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(format) {\n        return self.selectedDates\n            .map((dObj) => self.formatDate(dObj, format))\n            .filter((d, i, arr) => self.config.mode !== \"range\" ||\n            self.config.enableTime ||\n            arr.indexOf(d) === i)\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange = true) {\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        const eventTarget = getEventTarget(e);\n        const isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        const isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        const isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        const min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        let newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            const isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    const nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter((x) => x instanceof HTMLElement);\n    const instances = [];\n    for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: Object.assign({}, English),\n    default: Object.assign({}, English),\n};\nflatpickr.localize = (l10n) => {\n    flatpickr.l10ns.default = Object.assign(Object.assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = (config) => {\n    flatpickr.defaultConfig = Object.assign(Object.assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target, ...args) {\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        for (const source of args) {\n            if (source) {\n                Object.keys(source).forEach((key) => (target[key] = source[key]));\n            }\n        }\n        return target;\n    };\n}\n","module.exports = __webpack_public_path__ + \"img/calendar-illustration.fcb4640f.png\";","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// v-b-visible\n// Private visibility check directive\n// Based on IntersectionObserver\n//\n// Usage:\n//  v-b-visibility.<margin>.<once>=\"<callback>\"\n//\n//  Value:\n//  <callback>: method to be called when visibility state changes, receives one arg:\n//     true:  element is visible\n//     false: element is not visible\n//     null:  IntersectionObserver not supported\n//\n//  Modifiers:\n//    <margin>: a positive decimal value of pixels away from viewport edge\n//              before being considered \"visible\". default is 0\n//    <once>:   keyword 'once', meaning when the element becomes visible and\n//              callback is called observation/notification will stop.\n//\n// When used in a render function:\n// export default {\n//   directives: { 'b-visible': VBVisible },\n//   render(h) {\n//     h(\n//       'div',\n//       {\n//         directives: [\n//           { name: 'b-visible', value=this.callback, modifiers: { '123':true, 'once':true } }\n//         ]\n//       }\n//     )\n//   }\nimport { RX_DIGITS } from '../../constants/regex';\nimport { requestAF } from '../../utils/dom';\nimport { isFunction } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { clone, keys } from '../../utils/object';\nvar OBSERVER_PROP_NAME = '__bv__visibility_observer';\n\nvar VisibilityObserver = /*#__PURE__*/function () {\n  function VisibilityObserver(el, options, vnode) {\n    _classCallCheck(this, VisibilityObserver);\n\n    this.el = el;\n    this.callback = options.callback;\n    this.margin = options.margin || 0;\n    this.once = options.once || false;\n    this.observer = null;\n    this.visible = undefined;\n    this.doneOnce = false; // Create the observer instance (if possible)\n\n    this.createObserver(vnode);\n  }\n\n  _createClass(VisibilityObserver, [{\n    key: \"createObserver\",\n    value: function createObserver(vnode) {\n      var _this = this;\n\n      // Remove any previous observer\n      if (this.observer) {\n        /* istanbul ignore next */\n        this.stop();\n      } // Should only be called once and `callback` prop should be a function\n\n\n      if (this.doneOnce || !isFunction(this.callback)) {\n        /* istanbul ignore next */\n        return;\n      } // Create the observer instance\n\n\n      try {\n        // Future: Possibly add in other modifiers for left/right/top/bottom\n        // offsets, root element reference, and thresholds\n        this.observer = new IntersectionObserver(this.handler.bind(this), {\n          // `null` = 'viewport'\n          root: null,\n          // Pixels away from view port to consider \"visible\"\n          rootMargin: this.margin,\n          // Intersection ratio of el and root (as a value from 0 to 1)\n          threshold: 0\n        });\n      } catch (_unused) {\n        // No IntersectionObserver support, so just stop trying to observe\n        this.doneOnce = true;\n        this.observer = undefined;\n        this.callback(null);\n        return;\n      } // Start observing in a `$nextTick()` (to allow DOM to complete rendering)\n\n      /* istanbul ignore next: IntersectionObserver not supported in JSDOM */\n\n\n      vnode.context.$nextTick(function () {\n        requestAF(function () {\n          // Placed in an `if` just in case we were destroyed before\n          // this `requestAnimationFrame` runs\n          if (_this.observer) {\n            _this.observer.observe(_this.el);\n          }\n        });\n      });\n    }\n    /* istanbul ignore next */\n\n  }, {\n    key: \"handler\",\n    value: function handler(entries) {\n      var entry = entries ? entries[0] : {};\n      var isIntersecting = Boolean(entry.isIntersecting || entry.intersectionRatio > 0.0);\n\n      if (isIntersecting !== this.visible) {\n        this.visible = isIntersecting;\n        this.callback(isIntersecting);\n\n        if (this.once && this.visible) {\n          this.doneOnce = true;\n          this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      /* istanbul ignore next */\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n    }\n  }]);\n\n  return VisibilityObserver;\n}();\n\nvar destroy = function destroy(el) {\n  var observer = el[OBSERVER_PROP_NAME];\n\n  if (observer && observer.stop) {\n    observer.stop();\n  }\n\n  delete el[OBSERVER_PROP_NAME];\n};\n\nvar bind = function bind(el, _ref, vnode) {\n  var value = _ref.value,\n      modifiers = _ref.modifiers;\n  // `value` is the callback function\n  var options = {\n    margin: '0px',\n    once: false,\n    callback: value\n  }; // Parse modifiers\n\n  keys(modifiers).forEach(function (mod) {\n    /* istanbul ignore else: Until <b-img-lazy> is switched to use this directive */\n    if (RX_DIGITS.test(mod)) {\n      options.margin = \"\".concat(mod, \"px\");\n    } else if (mod.toLowerCase() === 'once') {\n      options.once = true;\n    }\n  }); // Destroy any previous observer\n\n  destroy(el); // Create new observer\n\n  el[OBSERVER_PROP_NAME] = new VisibilityObserver(el, options, vnode); // Store the current modifiers on the object (cloned)\n\n  el[OBSERVER_PROP_NAME]._prevModifiers = clone(modifiers);\n}; // When the directive options may have been updated (or element)\n\n\nvar componentUpdated = function componentUpdated(el, _ref2, vnode) {\n  var value = _ref2.value,\n      oldValue = _ref2.oldValue,\n      modifiers = _ref2.modifiers;\n  // Compare value/oldValue and modifiers to see if anything has changed\n  // and if so, destroy old observer and create new observer\n\n  /* istanbul ignore next */\n  modifiers = clone(modifiers);\n  /* istanbul ignore next */\n\n  if (el && (value !== oldValue || !el[OBSERVER_PROP_NAME] || !looseEqual(modifiers, el[OBSERVER_PROP_NAME]._prevModifiers))) {\n    // Re-bind on element\n    bind(el, {\n      value: value,\n      modifiers: modifiers\n    }, vnode);\n  }\n}; // When directive un-binds from element\n\n\nvar unbind = function unbind(el) {\n  // Remove the observer\n  destroy(el);\n}; // Export the directive\n\n\nexport var VBVisible = {\n  bind: bind,\n  componentUpdated: componentUpdated,\n  unbind: unbind\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_TEXTAREA } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { getCS, getStyle, isVisible, requestAF, setStyle } from '../../utils/dom';\nimport { isNull } from '../../utils/inspect';\nimport { mathCeil, mathMax, mathMin } from '../../utils/math';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { VBVisible } from '../../directives/visible/visible'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  maxRows: makeProp(PROP_TYPE_NUMBER_STRING),\n  // When in auto resize mode, disable shrinking to content height\n  noAutoShrink: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable the resize handle of textarea\n  noResize: makeProp(PROP_TYPE_BOOLEAN, false),\n  rows: makeProp(PROP_TYPE_NUMBER_STRING, 2),\n  // 'soft', 'hard' or 'off'\n  // Browser default is 'soft'\n  wrap: makeProp(PROP_TYPE_STRING, 'soft')\n})), NAME_FORM_TEXTAREA); // --- Main component ---\n// @vue/component\n\nexport var BFormTextarea = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_TEXTAREA,\n  directives: {\n    'b-visible': VBVisible\n  },\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, listenOnRootMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  data: function data() {\n    return {\n      heightInPx: null\n    };\n  },\n  computed: {\n    computedStyle: function computedStyle() {\n      var styles = {\n        // Setting `noResize` to true will disable the ability for the user to\n        // manually resize the textarea. We also disable when in auto height mode\n        resize: !this.computedRows || this.noResize ? 'none' : null\n      };\n\n      if (!this.computedRows) {\n        // Conditionally set the computed CSS height when auto rows/height is enabled\n        // We avoid setting the style to `null`, which can override user manual resize handle\n        styles.height = this.heightInPx; // We always add a vertical scrollbar to the textarea when auto-height is\n        // enabled so that the computed height calculation returns a stable value\n\n        styles.overflowY = 'scroll';\n      }\n\n      return styles;\n    },\n    computedMinRows: function computedMinRows() {\n      // Ensure rows is at least 2 and positive (2 is the native textarea value)\n      // A value of 1 can cause issues in some browsers, and most browsers\n      // only support 2 as the smallest value\n      return mathMax(toInteger(this.rows, 2), 2);\n    },\n    computedMaxRows: function computedMaxRows() {\n      return mathMax(this.computedMinRows, toInteger(this.maxRows, 0));\n    },\n    computedRows: function computedRows() {\n      // This is used to set the attribute 'rows' on the textarea\n      // If auto-height is enabled, then we return `null` as we use CSS to control height\n      return this.computedMinRows === this.computedMaxRows ? this.computedMinRows : null;\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.disabled,\n          required = this.required;\n      return {\n        id: this.safeId(),\n        name: this.name || null,\n        form: this.form || null,\n        disabled: disabled,\n        placeholder: this.placeholder || null,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        rows: this.computedRows,\n        wrap: this.wrap || null,\n        'aria-required': this.required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    localValue: function localValue() {\n      this.setHeight();\n    }\n  },\n  mounted: function mounted() {\n    this.setHeight();\n  },\n  methods: {\n    // Called by intersection observer directive\n\n    /* istanbul ignore next */\n    visibleCallback: function visibleCallback(visible) {\n      if (visible) {\n        // We use a `$nextTick()` here just to make sure any\n        // transitions or portalling have completed\n        this.$nextTick(this.setHeight);\n      }\n    },\n    setHeight: function setHeight() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this.heightInPx = _this.computeHeight();\n        });\n      });\n    },\n\n    /* istanbul ignore next: can't test getComputedStyle in JSDOM */\n    computeHeight: function computeHeight() {\n      if (this.$isServer || !isNull(this.computedRows)) {\n        return null;\n      }\n\n      var el = this.$el; // Element must be visible (not hidden) and in document\n      // Must be checked after above checks\n\n      if (!isVisible(el)) {\n        return null;\n      } // Get current computed styles\n\n\n      var computedStyle = getCS(el); // Height of one line of text in px\n\n      var lineHeight = toFloat(computedStyle.lineHeight, 1); // Calculate height of border and padding\n\n      var border = toFloat(computedStyle.borderTopWidth, 0) + toFloat(computedStyle.borderBottomWidth, 0);\n      var padding = toFloat(computedStyle.paddingTop, 0) + toFloat(computedStyle.paddingBottom, 0); // Calculate offset\n\n      var offset = border + padding; // Minimum height for min rows (which must be 2 rows or greater for cross-browser support)\n\n      var minHeight = lineHeight * this.computedMinRows + offset; // Get the current style height (with `px` units)\n\n      var oldHeight = getStyle(el, 'height') || computedStyle.height; // Probe scrollHeight by temporarily changing the height to `auto`\n\n      setStyle(el, 'height', 'auto');\n      var scrollHeight = el.scrollHeight; // Place the original old height back on the element, just in case `computedProp`\n      // returns the same value as before\n\n      setStyle(el, 'height', oldHeight); // Calculate content height in 'rows' (scrollHeight includes padding but not border)\n\n      var contentRows = mathMax((scrollHeight - padding) / lineHeight, 2); // Calculate number of rows to display (limited within min/max rows)\n\n      var rows = mathMin(mathMax(contentRows, this.computedMinRows), this.computedMaxRows); // Calculate the required height of the textarea including border and padding (in pixels)\n\n      var height = mathMax(mathCeil(rows * lineHeight + offset), minHeight); // Computed height remains the larger of `oldHeight` and new `height`,\n      // when height is in `sticky` mode (prop `no-auto-shrink` is true)\n\n      if (this.noAutoShrink && toFloat(oldHeight, 0) > height) {\n        return oldHeight;\n      } // Return the new computed CSS height in px units\n\n\n      return \"\".concat(height, \"px\");\n    }\n  },\n  render: function render(h) {\n    return h('textarea', {\n      class: this.computedClass,\n      style: this.computedStyle,\n      directives: [{\n        name: 'b-visible',\n        value: this.visibleCallback,\n        // If textarea is within 640px of viewport, consider it visible\n        modifiers: {\n          '640': true\n        }\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = getEventTargetViaRoot(pev.origEvent);\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","module.exports = __webpack_public_path__ + \"img/3-small.33d29f56.png\";","module.exports = __webpack_public_path__ + \"img/7-small.c4993d9a.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/11-small.4ade0856.png\";","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_COLLAPSE, NAME_SIDEBAR } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_NAME_HIDDEN, EVENT_NAME_SHOWN } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_FOOTER, SLOT_NAME_HEADER, SLOT_NAME_HEADER_CLOSE, SLOT_NAME_TITLE } from '../../constants/slots';\nimport { attemptFocus, contains, getActiveElement, getTabables } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName } from '../../utils/events';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIconX } from '../../icons/icons';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition'; // --- Constants ---\n\nvar CLASS_NAME = 'b-sidebar';\nvar ROOT_ACTION_EVENT_NAME_REQUEST_STATE = getRootActionEventName(NAME_COLLAPSE, 'request-state');\nvar ROOT_ACTION_EVENT_NAME_TOGGLE = getRootActionEventName(NAME_COLLAPSE, 'toggle');\nvar ROOT_EVENT_NAME_STATE = getRootEventName(NAME_COLLAPSE, 'state');\nvar ROOT_EVENT_NAME_SYNC_STATE = getRootEventName(NAME_COLLAPSE, 'sync-state');\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // If `true`, shows a basic backdrop\n  backdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  backdropVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  bgVariant: makeProp(PROP_TYPE_STRING, 'light'),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  // `aria-label` for close button\n  closeLabel: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnRouteChange: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  noSlide: makeProp(PROP_TYPE_BOOLEAN, false),\n  right: makeProp(PROP_TYPE_BOOLEAN, false),\n  shadow: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  sidebarClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  textVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  title: makeProp(PROP_TYPE_STRING),\n  width: makeProp(PROP_TYPE_STRING),\n  zIndex: makeProp(PROP_TYPE_NUMBER_STRING)\n})), NAME_SIDEBAR); // --- Render methods ---\n\nvar renderHeaderTitle = function renderHeaderTitle(h, ctx) {\n  // Render a empty `<span>` when to title was provided\n  var title = ctx.normalizeSlot(SLOT_NAME_TITLE, ctx.slotScope) || ctx.title;\n\n  if (!title) {\n    return h('span');\n  }\n\n  return h('strong', {\n    attrs: {\n      id: ctx.safeId('__title__')\n    }\n  }, [title]);\n};\n\nvar renderHeaderClose = function renderHeaderClose(h, ctx) {\n  if (ctx.noHeaderClose) {\n    return h();\n  }\n\n  var closeLabel = ctx.closeLabel,\n      textVariant = ctx.textVariant,\n      hide = ctx.hide;\n  return h(BButtonClose, {\n    props: {\n      ariaLabel: closeLabel,\n      textVariant: textVariant\n    },\n    on: {\n      click: hide\n    },\n    ref: 'close-button'\n  }, [ctx.normalizeSlot(SLOT_NAME_HEADER_CLOSE) || h(BIconX)]);\n};\n\nvar renderHeader = function renderHeader(h, ctx) {\n  if (ctx.noHeader) {\n    return h();\n  }\n\n  var $content = ctx.normalizeSlot(SLOT_NAME_HEADER, ctx.slotScope);\n\n  if (!$content) {\n    var $title = renderHeaderTitle(h, ctx);\n    var $close = renderHeaderClose(h, ctx);\n    $content = ctx.right ? [$close, $title] : [$title, $close];\n  }\n\n  return h('header', {\n    staticClass: \"\".concat(CLASS_NAME, \"-header\"),\n    class: ctx.headerClass,\n    key: 'header'\n  }, $content);\n};\n\nvar renderBody = function renderBody(h, ctx) {\n  return h('div', {\n    staticClass: \"\".concat(CLASS_NAME, \"-body\"),\n    class: ctx.bodyClass,\n    key: 'body'\n  }, [ctx.normalizeSlot(SLOT_NAME_DEFAULT, ctx.slotScope)]);\n};\n\nvar renderFooter = function renderFooter(h, ctx) {\n  var $footer = ctx.normalizeSlot(SLOT_NAME_FOOTER, ctx.slotScope);\n\n  if (!$footer) {\n    return h();\n  }\n\n  return h('footer', {\n    staticClass: \"\".concat(CLASS_NAME, \"-footer\"),\n    class: ctx.footerClass,\n    key: 'footer'\n  }, [$footer]);\n};\n\nvar renderContent = function renderContent(h, ctx) {\n  // We render the header even if `lazy` is enabled as it\n  // acts as the accessible label for the sidebar\n  var $header = renderHeader(h, ctx);\n\n  if (ctx.lazy && !ctx.isOpen) {\n    return $header;\n  }\n\n  return [$header, renderBody(h, ctx), renderFooter(h, ctx)];\n};\n\nvar renderBackdrop = function renderBackdrop(h, ctx) {\n  if (!ctx.backdrop) {\n    return h();\n  }\n\n  var backdropVariant = ctx.backdropVariant;\n  return h('div', {\n    directives: [{\n      name: 'show',\n      value: ctx.localShow\n    }],\n    staticClass: 'b-sidebar-backdrop',\n    class: _defineProperty({}, \"bg-\".concat(backdropVariant), backdropVariant),\n    on: {\n      click: ctx.onBackdropClick\n    }\n  });\n}; // --- Main component ---\n// @vue/component\n\n\nexport var BSidebar = /*#__PURE__*/Vue.extend({\n  name: NAME_SIDEBAR,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    var visible = !!this[MODEL_PROP_NAME];\n    return {\n      // Internal `v-model` state\n      localShow: visible,\n      // For lazy render triggering\n      isOpen: visible\n    };\n  },\n  computed: {\n    transitionProps: function transitionProps() {\n      return this.noSlide ?\n      /* istanbul ignore next */\n      {\n        css: true\n      } : {\n        css: true,\n        enterClass: '',\n        enterActiveClass: 'slide',\n        enterToClass: 'show',\n        leaveClass: 'show',\n        leaveActiveClass: 'slide',\n        leaveToClass: ''\n      };\n    },\n    slotScope: function slotScope() {\n      var hide = this.hide,\n          right = this.right,\n          visible = this.localShow;\n      return {\n        hide: hide,\n        right: right,\n        visible: visible\n      };\n    },\n    hasTitle: function hasTitle() {\n      var $scopedSlots = this.$scopedSlots,\n          $slots = this.$slots;\n      return !this.noHeader && !this.hasNormalizedSlot(SLOT_NAME_HEADER) && !!(this.normalizeSlot(SLOT_NAME_TITLE, this.slotScope, $scopedSlots, $slots) || this.title);\n    },\n    titleId: function titleId() {\n      return this.hasTitle ? this.safeId('__title__') : null;\n    },\n    computedAttrs: function computedAttrs() {\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        tabindex: '-1',\n        role: 'dialog',\n        'aria-modal': this.backdrop ? 'true' : 'false',\n        'aria-hidden': this.localShow ? null : 'true',\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || this.titleId || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.localShow = newValue;\n    }\n  }), _defineProperty(_watch, \"localShow\", function localShow(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.emitState(newValue);\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_watch, \"$route\", function $route() {\n    var newValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var oldValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!this.noCloseOnRouteChange && newValue.fullPath !== oldValue.fullPath) {\n      this.hide();\n    }\n  }), _watch),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_returnFocusEl = null;\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // Add `$root` listeners\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_TOGGLE, this.handleToggle);\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_REQUEST_STATE, this.handleSync); // Send out a gratuitous state event to ensure toggle button is synced\n\n    this.$nextTick(function () {\n      _this.emitState(_this.localShow);\n    });\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    this.emitSync();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.localShow = false;\n    this.$_returnFocusEl = null;\n  },\n  methods: {\n    hide: function hide() {\n      this.localShow = false;\n    },\n    emitState: function emitState() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_STATE, this.safeId(), state);\n    },\n    emitSync: function emitSync() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_SYNC_STATE, this.safeId(), state);\n    },\n    handleToggle: function handleToggle(id) {\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.localShow = !this.localShow;\n      }\n    },\n    handleSync: function handleSync(id) {\n      var _this2 = this;\n\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.$nextTick(function () {\n          _this2.emitSync(_this2.localShow);\n        });\n      }\n    },\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (!this.noCloseOnEsc && keyCode === CODE_ESC && this.localShow) {\n        this.hide();\n      }\n    },\n    onBackdropClick: function onBackdropClick() {\n      if (this.localShow && !this.noCloseOnBackdrop) {\n        this.hide();\n      }\n    },\n\n    /* istanbul ignore next */\n    onTopTrapFocus: function onTopTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables.reverse()[0]);\n    },\n\n    /* istanbul ignore next */\n    onBottomTrapFocus: function onBottomTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables[0]);\n    },\n    onBeforeEnter: function onBeforeEnter() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      this.$_returnFocusEl = getActiveElement(IS_BROWSER ? [document.body] : []); // Trigger lazy render\n\n      this.isOpen = true;\n    },\n    onAfterEnter: function onAfterEnter(el) {\n      if (!contains(el, getActiveElement())) {\n        this.enforceFocus(el);\n      }\n\n      this.$emit(EVENT_NAME_SHOWN);\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.enforceFocus(this.$_returnFocusEl);\n      this.$_returnFocusEl = null; // Trigger lazy render\n\n      this.isOpen = false;\n      this.$emit(EVENT_NAME_HIDDEN);\n    },\n    enforceFocus: function enforceFocus(el) {\n      if (!this.noEnforceFocus) {\n        attemptFocus(el);\n      }\n    }\n  },\n  render: function render(h) {\n    var _ref;\n\n    var bgVariant = this.bgVariant,\n        width = this.width,\n        textVariant = this.textVariant,\n        localShow = this.localShow;\n    var shadow = this.shadow === '' ? true : this.shadow;\n    var $sidebar = h(this.tag, {\n      staticClass: CLASS_NAME,\n      class: [(_ref = {\n        shadow: shadow === true\n      }, _defineProperty(_ref, \"shadow-\".concat(shadow), shadow && shadow !== true), _defineProperty(_ref, \"\".concat(CLASS_NAME, \"-right\"), this.right), _defineProperty(_ref, \"bg-\".concat(bgVariant), bgVariant), _defineProperty(_ref, \"text-\".concat(textVariant), textVariant), _ref), this.sidebarClass],\n      style: {\n        width: width\n      },\n      attrs: this.computedAttrs,\n      directives: [{\n        name: 'show',\n        value: localShow\n      }],\n      ref: 'content'\n    }, [renderContent(h, this)]);\n    $sidebar = h('transition', {\n      props: this.transitionProps,\n      on: {\n        beforeEnter: this.onBeforeEnter,\n        afterEnter: this.onAfterEnter,\n        afterLeave: this.onAfterLeave\n      }\n    }, [$sidebar]);\n    var $backdrop = h(BVTransition, {\n      props: {\n        noFade: this.noSlide\n      }\n    }, [renderBackdrop(h, this)]);\n    var $tabTrapTop = h();\n    var $tabTrapBottom = h();\n\n    if (this.backdrop && localShow) {\n      $tabTrapTop = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onTopTrapFocus\n        }\n      });\n      $tabTrapBottom = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onBottomTrapFocus\n        }\n      });\n    }\n\n    return h('div', {\n      staticClass: 'b-sidebar-outer',\n      style: {\n        zIndex: this.zIndex\n      },\n      attrs: {\n        tabindex: '-1'\n      },\n      on: {\n        keydown: this.onKeydown\n      }\n    }, [$tabTrapTop, $sidebar, $tabTrapBottom, $backdrop]);\n  }\n});","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"flatpickr\")):\"function\"==typeof define&&define.amd?define(\"VueFlatpickr\",[\"flatpickr\"],e):\"object\"==typeof exports?exports.VueFlatpickr=e(require(\"flatpickr\")):t.VueFlatpickr=e(t.flatpickr)}(\"undefined\"!=typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Component\",(function(){return c})),n.d(e,\"Plugin\",(function(){return p}));var r=n(0),o=n.n(r),i=[\"onChange\",\"onClose\",\"onDestroy\",\"onMonthChange\",\"onOpen\",\"onYearChange\"];function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=function(t){return t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase()},f=function(t){return u({},t)},l=i.concat([\"onValueUpdate\",\"onDayCreate\",\"onParseConfig\",\"onReady\",\"onPreCalendarPosition\",\"onKeyDown\"]),s=[\"locale\",\"showMonths\"],c={name:\"flat-pickr\",render:function(t){return t(\"input\",{attrs:{type:\"text\",\"data-input\":!0},props:{disabled:this.disabled},on:{input:this.onInput}})},props:{value:{default:null,required:!0,validator:function(t){return null===t||t instanceof Date||\"string\"==typeof t||t instanceof String||t instanceof Array||\"number\"==typeof t}},config:{type:Object,default:function(){return{wrap:!1,defaultDate:null}}},events:{type:Array,default:function(){return i}},disabled:{type:Boolean,default:!1}},data:function(){return{fp:null}},mounted:function(){var t=this;if(!this.fp){var e=f(this.config);this.events.forEach((function(n){var r,i=o.a.defaultConfig[n]||[];e[n]=(r=e[n]||[],r instanceof Array?r:[r]).concat(i,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.$emit.apply(t,[a(n)].concat(r))}))})),e.defaultDate=this.value||e.defaultDate,this.fp=new o.a(this.getElem(),e),this.fpInput().addEventListener(\"blur\",this.onBlur),this.$on(\"on-close\",this.onClose),this.$watch(\"disabled\",this.watchDisabled,{immediate:!0})}},methods:{getElem:function(){return this.config.wrap?this.$el.parentNode:this.$el},onInput:function(t){var e=this,n=t.target;this.$nextTick((function(){e.$emit(\"input\",n.value)}))},fpInput:function(){return this.fp.altInput||this.fp.input},onBlur:function(t){this.$emit(\"blur\",t.target.value)},onClose:function(t,e){this.$emit(\"input\",e)},watchDisabled:function(t){t?this.fpInput().setAttribute(\"disabled\",t):this.fpInput().removeAttribute(\"disabled\")}},watch:{config:{deep:!0,handler:function(t){var e=this,n=f(t);l.forEach((function(t){delete n[t]})),this.fp.set(n),s.forEach((function(t){void 0!==n[t]&&e.fp.set(t,n[t])}))}},value:function(t){t!==this.$el.value&&this.fp&&this.fp.setDate(t,!0)}},beforeDestroy:function(){this.fp&&(this.fpInput().removeEventListener(\"blur\",this.onBlur),this.fp.destroy(),this.fp=null)}},p=function(t,e){var n=\"flat-pickr\";\"string\"==typeof e&&(n=e),t.component(n,c)};c.install=p;e.default=c}]).default}));","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX } from '../../constants/components';\nimport { EVENT_NAME_CHANGE, MODEL_EVENT_NAME_PREFIX } from '../../constants/events';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { isArray } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { looseIndexOf } from '../../utils/loose-index-of';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check'; // --- Constants ---\n\nvar MODEL_PROP_NAME_INDETERMINATE = 'indeterminate';\nvar MODEL_EVENT_NAME_INDETERMINATE = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_INDETERMINATE; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME_INDETERMINATE, makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"switch\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"uncheckedValue\", makeProp(PROP_TYPE_ANY, false)), _defineProperty(_objectSpread2, \"value\", makeProp(PROP_TYPE_ANY, true)), _objectSpread2))), NAME_FORM_CHECKBOX); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckbox = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX,\n  mixins: [formRadioCheckMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvCheckGroup',\n      default: null\n    }\n  },\n  props: props,\n  computed: {\n    isChecked: function isChecked() {\n      var value = this.value,\n          checked = this.computedLocalChecked;\n      return isArray(checked) ? looseIndexOf(checked, value) > -1 : looseEqual(checked, value);\n    },\n    isRadio: function isRadio() {\n      return false;\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME_INDETERMINATE, function (newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.setIndeterminate(newValue);\n    }\n  }),\n  mounted: function mounted() {\n    // Set initial indeterminate state\n    this.setIndeterminate(this[MODEL_PROP_NAME_INDETERMINATE]);\n  },\n  methods: {\n    computedLocalCheckedWatcher: function computedLocalCheckedWatcher(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n        var $input = this.$refs.input;\n\n        if ($input) {\n          this.$emit(MODEL_EVENT_NAME_INDETERMINATE, $input.indeterminate);\n        }\n      }\n    },\n    handleChange: function handleChange(_ref) {\n      var _this = this;\n\n      var _ref$target = _ref.target,\n          checked = _ref$target.checked,\n          indeterminate = _ref$target.indeterminate;\n      var value = this.value,\n          uncheckedValue = this.uncheckedValue; // Update `computedLocalChecked`\n\n      var localChecked = this.computedLocalChecked;\n\n      if (isArray(localChecked)) {\n        var index = looseIndexOf(localChecked, value);\n\n        if (checked && index < 0) {\n          // Add value to array\n          localChecked = localChecked.concat(value);\n        } else if (!checked && index > -1) {\n          // Remove value from array\n          localChecked = localChecked.slice(0, index).concat(localChecked.slice(index + 1));\n        }\n      } else {\n        localChecked = checked ? value : uncheckedValue;\n      }\n\n      this.computedLocalChecked = localChecked; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n      this.$nextTick(function () {\n        // Change is only emitted on user interaction\n        _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n        if (_this.isGroup) {\n          _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n        }\n\n        _this.$emit(MODEL_EVENT_NAME_INDETERMINATE, indeterminate);\n      });\n    },\n    setIndeterminate: function setIndeterminate(state) {\n      // Indeterminate only supported in single checkbox mode\n      if (isArray(this.computedLocalChecked)) {\n        state = false;\n      }\n\n      var $input = this.$refs.input;\n\n      if ($input) {\n        $input.indeterminate = state; // Emit update event to prop\n\n        this.$emit(MODEL_EVENT_NAME_INDETERMINATE, state);\n      }\n    }\n  }\n});","import { looseEqual } from './loose-equal'; // Assumes that the first argument is an array\n\nexport var looseIndexOf = function looseIndexOf(array, value) {\n  for (var i = 0; i < array.length; i++) {\n    if (looseEqual(array[i], value)) {\n      return i;\n    }\n  }\n\n  return -1;\n};","var _watch, _methods;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../constants/props';\nimport { EVENT_NAME_CHANGE } from '../constants/events';\nimport { attemptBlur, attemptFocus } from '../utils/dom';\nimport { isBoolean } from '../utils/inspect';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { attrsMixin } from './attrs';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('checked', {\n  defaultValue: null\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // Only applicable in standalone mode (non group)\n  button: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  value: makeProp(PROP_TYPE_ANY)\n})), 'formRadioCheckControls'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckMixin = Vue.extend({\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this.isGroup ? this.bvGroup[MODEL_PROP_NAME] : this[MODEL_PROP_NAME],\n      hasFocus: false\n    };\n  },\n  computed: {\n    computedLocalChecked: {\n      get: function get() {\n        return this.isGroup ? this.bvGroup.localChecked : this.localChecked;\n      },\n      set: function set(value) {\n        if (this.isGroup) {\n          this.bvGroup.localChecked = value;\n        } else {\n          this.localChecked = value;\n        }\n      }\n    },\n    isChecked: function isChecked() {\n      return looseEqual(this.value, this.computedLocalChecked);\n    },\n    isRadio: function isRadio() {\n      return true;\n    },\n    isGroup: function isGroup() {\n      // Is this check/radio a child of check-group or radio-group?\n      return !!this.bvGroup;\n    },\n    isBtnMode: function isBtnMode() {\n      // Support button style in single input mode\n      return this.isGroup ? this.bvGroup.buttons : this.button;\n    },\n    isPlain: function isPlain() {\n      return this.isBtnMode ? false : this.isGroup ? this.bvGroup.plain : this.plain;\n    },\n    isCustom: function isCustom() {\n      return this.isBtnMode ? false : !this.isPlain;\n    },\n    isSwitch: function isSwitch() {\n      // Custom switch styling (checkboxes only)\n      return this.isBtnMode || this.isRadio || this.isPlain ? false : this.isGroup ? this.bvGroup.switches : this.switch;\n    },\n    isInline: function isInline() {\n      return this.isGroup ? this.bvGroup.inline : this.inline;\n    },\n    isDisabled: function isDisabled() {\n      // Child can be disabled while parent isn't, but is always disabled if group is\n      return this.isGroup ? this.bvGroup.disabled || this.disabled : this.disabled;\n    },\n    isRequired: function isRequired() {\n      // Required only works when a name is provided for the input(s)\n      // Child can only be required when parent is\n      // Groups will always have a name (either user supplied or auto generated)\n      return this.computedName && (this.isGroup ? this.bvGroup.required : this.required);\n    },\n    computedName: function computedName() {\n      // Group name preferred over local name\n      return (this.isGroup ? this.bvGroup.groupName : this.name) || null;\n    },\n    computedForm: function computedForm() {\n      return (this.isGroup ? this.bvGroup.form : this.form) || null;\n    },\n    computedSize: function computedSize() {\n      return (this.isGroup ? this.bvGroup.size : this.size) || '';\n    },\n    computedState: function computedState() {\n      return this.isGroup ? this.bvGroup.computedState : isBoolean(this.state) ? this.state : null;\n    },\n    computedButtonVariant: function computedButtonVariant() {\n      // Local variant preferred over group variant\n      var buttonVariant = this.buttonVariant;\n\n      if (buttonVariant) {\n        return buttonVariant;\n      }\n\n      if (this.isGroup && this.bvGroup.buttonVariant) {\n        return this.bvGroup.buttonVariant;\n      }\n\n      return 'secondary';\n    },\n    buttonClasses: function buttonClasses() {\n      var _ref;\n\n      var computedSize = this.computedSize;\n      return ['btn', \"btn-\".concat(this.computedButtonVariant), (_ref = {}, _defineProperty(_ref, \"btn-\".concat(computedSize), computedSize), _defineProperty(_ref, \"disabled\", this.isDisabled), _defineProperty(_ref, \"active\", this.isChecked), _defineProperty(_ref, \"focus\", this.hasFocus), _ref)];\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.isDisabled,\n          required = this.isRequired;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        type: this.isRadio ? 'radio' : 'checkbox',\n        name: this.computedName,\n        form: this.computedForm,\n        disabled: disabled,\n        required: required,\n        'aria-required': required || null,\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function () {\n    this[\"\".concat(MODEL_PROP_NAME, \"Watcher\")].apply(this, arguments);\n  }), _defineProperty(_watch, \"computedLocalChecked\", function computedLocalChecked() {\n    this.computedLocalCheckedWatcher.apply(this, arguments);\n  }), _watch),\n  methods: (_methods = {}, _defineProperty(_methods, \"\".concat(MODEL_PROP_NAME, \"Watcher\"), function Watcher(newValue) {\n    if (!looseEqual(newValue, this.computedLocalChecked)) {\n      this.computedLocalChecked = newValue;\n    }\n  }), _defineProperty(_methods, \"computedLocalCheckedWatcher\", function computedLocalCheckedWatcher(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_methods, \"handleChange\", function handleChange(_ref2) {\n    var _this = this;\n\n    var checked = _ref2.target.checked;\n    var value = this.value;\n    var localChecked = checked ? value : null;\n    this.computedLocalChecked = value; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n    this.$nextTick(function () {\n      // Change is only emitted on user interaction\n      _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n      if (_this.isGroup) {\n        _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n      }\n    });\n  }), _defineProperty(_methods, \"handleFocus\", function handleFocus(event) {\n    // When in buttons mode, we need to add 'focus' class to label when input focused\n    // As it is the hidden input which has actual focus\n    if (event.target) {\n      if (event.type === 'focus') {\n        this.hasFocus = true;\n      } else if (event.type === 'blur') {\n        this.hasFocus = false;\n      }\n    }\n  }), _defineProperty(_methods, \"focus\", function focus() {\n    if (!this.isDisabled) {\n      attemptFocus(this.$refs.input);\n    }\n  }), _defineProperty(_methods, \"blur\", function blur() {\n    if (!this.isDisabled) {\n      attemptBlur(this.$refs.input);\n    }\n  }), _methods),\n  render: function render(h) {\n    var isRadio = this.isRadio,\n        isBtnMode = this.isBtnMode,\n        isPlain = this.isPlain,\n        isCustom = this.isCustom,\n        isInline = this.isInline,\n        isSwitch = this.isSwitch,\n        computedSize = this.computedSize,\n        bvAttrs = this.bvAttrs;\n    var $content = this.normalizeSlot();\n    var $input = h('input', {\n      class: [{\n        'form-check-input': isPlain,\n        'custom-control-input': isCustom,\n        // https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n        'position-static': isPlain && !$content\n      }, isBtnMode ? '' : this.stateClass],\n      directives: [{\n        name: 'model',\n        value: this.computedLocalChecked\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.value,\n        checked: this.isChecked\n      },\n      on: _objectSpread({\n        change: this.handleChange\n      }, isBtnMode ? {\n        focus: this.handleFocus,\n        blur: this.handleFocus\n      } : {}),\n      key: 'input',\n      ref: 'input'\n    });\n\n    if (isBtnMode) {\n      var $button = h('label', {\n        class: this.buttonClasses\n      }, [$input, $content]);\n\n      if (!this.isGroup) {\n        // Standalone button mode, so wrap in 'btn-group-toggle'\n        // and flag it as inline-block to mimic regular buttons\n        $button = h('div', {\n          class: ['btn-group-toggle', 'd-inline-block']\n        }, [$button]);\n      }\n\n      return $button;\n    } // If no label content in plain mode we dont render the label\n    // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n\n\n    var $label = h();\n\n    if (!(isPlain && !$content)) {\n      $label = h('label', {\n        class: {\n          'form-check-label': isPlain,\n          'custom-control-label': isCustom\n        },\n        attrs: {\n          for: this.safeId()\n        }\n      }, $content);\n    }\n\n    return h('div', {\n      class: [_defineProperty({\n        'form-check': isPlain,\n        'form-check-inline': isPlain && isInline,\n        'custom-control': isCustom,\n        'custom-control-inline': isCustom && isInline,\n        'custom-checkbox': isCustom && !isRadio && !isSwitch,\n        'custom-switch': isSwitch,\n        'custom-radio': isCustom && isRadio\n      }, \"b-custom-control-\".concat(computedSize), computedSize && !isBtnMode), bvAttrs.class],\n      style: bvAttrs.style\n    }, [$input, $label]);\n  }\n});","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n// Unique ID for DOM attribute\nvar guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return __assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown: function (ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter.apply(void 0, args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce(function (str, arg, index) { return (str.replace('$' + index, arg || '')); }, formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    var parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonHints: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    var _a = seg.eventRange, def = _a.def, instance = _a.instance;\n    var url = def.url;\n    if (url) {\n        return { href: url };\n    }\n    var emitter = context.emitter, options = context.options;\n    var eventInteractive = options.eventInteractive;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs(function (ev) {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventApi(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nvar RAW_EN_LOCALE = __assign(__assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today: function (buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : \"This \" + buttonText;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint: function (eventCnt) {\n        return \"Show \" + eventCnt + \" more event\" + (eventCnt === 1 ? '' : 's');\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nvar DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nvar WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType, isTabbable) {\n    if (viewType === void 0) { viewType = 'day'; }\n    if (isTabbable === void 0) { isTabbable = true; }\n    var dateEnv = context.dateEnv, options = context.options, calendarApi = context.calendarApi;\n    var dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        var zonedDate = dateEnv.toDate(dateMarker);\n        var handleInteraction = function (ev) {\n            var customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return __assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    var queryButtonTitle = function (optionsSubset) {\n        var buttonHints = optionsSubset.buttonHints || {};\n        var buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    var footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header: header, footer: footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var sectionWidgets = {};\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    for (var sectionName in sectionStrHash) {\n        var sectionStr = sectionStrHash[sectionName];\n        var sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push.apply(viewsWithButtons, sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets: sectionWidgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    var calendarButtonHints = calendarOptions.buttonHints || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    var widgets = sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        var buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            var textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                var prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = function (navUnit) { return formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]); };\n            }\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText, buttonHint: buttonHint };\n    })); });\n    return { widgets: widgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: buildHtmlRenderer,\n            domNodes: buildDomNodeRenderer,\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction buildHtmlRenderer() {\n    var currentEl = null;\n    var currentHtml = '';\n    function render(el, html) {\n        if (el !== currentEl || html !== currentHtml) {\n            el.innerHTML = html;\n        }\n        currentEl = el;\n        currentHtml = html;\n    }\n    function destroy() {\n        currentEl.innerHTML = '';\n        currentEl = null;\n        currentHtml = '';\n    }\n    return { render: render, destroy: destroy };\n}\nfunction buildDomNodeRenderer() {\n    var currentEl = null;\n    var currentDomNodes = [];\n    function render(el, domNodes) {\n        var newDomNodes = Array.prototype.slice.call(domNodes);\n        if (el !== currentEl || !isArraysEqual(currentDomNodes, newDomNodes)) {\n            // append first, remove second (for scroll resetting)\n            for (var _i = 0, newDomNodes_1 = newDomNodes; _i < newDomNodes_1.length; _i++) {\n                var newNode = newDomNodes_1[_i];\n                el.appendChild(newNode);\n            }\n            destroy();\n        }\n        currentEl = el;\n        currentDomNodes = newDomNodes;\n    }\n    function destroy() {\n        currentDomNodes.forEach(removeElement);\n        currentDomNodes = [];\n        currentEl = null;\n    }\n    return { render: render, destroy: destroy };\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon, buttonHint = widget.buttonHint;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                var isPressed = buttonName === props.activeButton;\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var sectionWidgets = model.sectionWidgets;\n        var centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // eslint-disable-next-line\n        _this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        var viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { \"aria-label\": dateEnv.format(date, WEEKDAY_FORMAT), className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        var roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', roleAttrs], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', roleAttrs], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', roleAttrs], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', roleAttrs], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg, context)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            titleId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMouseDown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleDocumentKeyDown = function (ev) {\n            if (ev.key === 'Escape') {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this, props = _b.props, state = _b.state;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : \"+\" + moreCnt + \" \" + moreLinkText;\n            var title = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick, title, state.isPopoverOpen, state.isPopoverOpen ? state.popoverId : ''); })),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.10.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkAttrs, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createAriaClickAttrs, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegAnchorAttrs, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, getUniqueDomId, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/5-small.a4eb6d6e.png\";","var Ripple = {\n    bind: function(el, binding){\n\n        // Default values.\n        var props = {\n            event: 'mousedown',\n            transition: 600\n        };\n\n        setProps(Object.keys(binding.modifiers),props);\n\n        el.addEventListener(props.event, function(event) {\n            rippler(event, el, binding.value);\n        });\n\n        var bg = binding.value || Ripple.color || 'rgba(0, 0, 0, 0.35)';\n        var zIndex = Ripple.zIndex || '9999';\n\n        function rippler(event, el) {\n            var target = el;\n            // Get border to avoid offsetting on ripple container position\n            var targetBorder = parseInt((getComputedStyle(target).borderWidth).replace('px', ''));\n\n            // Get necessary variables\n            var rect        = target.getBoundingClientRect(),\n                left        = rect.left,\n                top         = rect.top,\n                width       = target.offsetWidth,\n                height      = target.offsetHeight,\n                dx          = event.clientX - left,\n                dy          = event.clientY - top,\n                maxX        = Math.max(dx, width - dx),\n                maxY        = Math.max(dy, height - dy),\n                style       = window.getComputedStyle(target),\n                radius      = Math.sqrt((maxX * maxX) + (maxY * maxY)),\n                border      = (targetBorder > 0 ) ? targetBorder : 0;\n\n            // Create the ripple and its container\n            var ripple = document.createElement(\"div\"),\n                rippleContainer = document.createElement(\"div\");\n                rippleContainer.className = 'ripple-container';\n                ripple.className = 'ripple';\n\n            //Styles for ripple\n            ripple.style.marginTop= '0px';\n            ripple.style.marginLeft= '0px';\n            ripple.style.width= '1px';\n            ripple.style.height= '1px';\n            ripple.style.transition= 'all ' + props.transition + 'ms cubic-bezier(0.4, 0, 0.2, 1)';\n            ripple.style.borderRadius= '50%';\n            ripple.style.pointerEvents= 'none';\n            ripple.style.position= 'relative';\n            ripple.style.zIndex= zIndex;\n            ripple.style.backgroundColor  = bg;\n\n            //Styles for rippleContainer\n            rippleContainer.style.position= 'absolute';\n            rippleContainer.style.left = 0 - border + 'px';\n            rippleContainer.style.top = 0 - border + 'px';\n            rippleContainer.style.height = '0';\n            rippleContainer.style.width = '0';\n            rippleContainer.style.pointerEvents = 'none';\n            rippleContainer.style.overflow = 'hidden';\n\n            // Store target position to change it after\n            var storedTargetPosition =  ((target.style.position).length > 0) ? target.style.position : getComputedStyle(target).position;\n            // Change target position to relative to guarantee ripples correct positioning\n            if (storedTargetPosition !== 'relative') {\n                target.style.position = 'relative';\n            }\n\n            rippleContainer.appendChild(ripple);\n            target.appendChild(rippleContainer);\n\n            ripple.style.marginLeft   = dx + \"px\";\n            ripple.style.marginTop    = dy + \"px\";\n\n            // No need to set positioning because ripple should be child of target and to it's relative position.\n            // rippleContainer.style.left    = left + (((window.pageXOffset || document.scrollLeft) - (document.clientLeft || 0)) || 0) + \"px\";\n            // rippleContainer.style.top     = top + (((window.pageYOffset || document.scrollTop) - (document.clientTop || 0)) || 0) + \"px\";\n            rippleContainer.style.width   = width + \"px\";\n            rippleContainer.style.height  = height + \"px\";\n            rippleContainer.style.borderTopLeftRadius  = style.borderTopLeftRadius;\n            rippleContainer.style.borderTopRightRadius  = style.borderTopRightRadius;\n            rippleContainer.style.borderBottomLeftRadius  = style.borderBottomLeftRadius;\n            rippleContainer.style.borderBottomRightRadius  = style.borderBottomRightRadius;\n\n            rippleContainer.style.direction = 'ltr';\n\n            setTimeout(function() {\n                ripple.style.width  = radius * 2 + \"px\";\n                ripple.style.height = radius * 2 + \"px\";\n                ripple.style.marginLeft   = dx - radius + \"px\";\n                ripple.style.marginTop    = dy - radius + \"px\";\n            }, 0);\n\n            function clearRipple() {\n                setTimeout(function() {\n                    ripple.style.backgroundColor = \"rgba(0, 0, 0, 0)\";\n                }, 250);\n\n                // Timeout set to get a smooth removal of the ripple\n                setTimeout(function() {\n                    rippleContainer.parentNode.removeChild(rippleContainer);\n                }, 850);\n\n                el.removeEventListener('mouseup', clearRipple, false);\n\n                // After removing event set position to target to it's original one\n                // Timeout it's needed to avoid jerky effect of ripple jumping out parent target\n                setTimeout(function () {\n\n                    var clearPosition = true;\n                    for(var i = 0; i < target.childNodes.length; i++) {\n                        if(target.childNodes[i].className === 'ripple-container') {\n                            clearPosition = false;\n                        }\n                    }\n\n                    if(clearPosition) {\n                        if(storedTargetPosition !== 'static') {\n                            target.style.position = storedTargetPosition;\n                        } else {\n                            target.style.position = '';\n                        }\n                    }\n\n                }, props.transition + 250)\n            }\n\n            if(event.type === 'mousedown') {\n                el.addEventListener('mouseup', clearRipple, false);\n            } else {\n                clearRipple();\n            }\n        }\n    }\n};\n\nfunction setProps(modifiers,props) {\n    modifiers.forEach(function(item) {\n        if(isNaN(Number(item)))\n            props.event = item;\n        else\n            props.transition = item;\n    });\n}\n\nexport default Ripple;","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { getUniqueDomId, getDateMeta, buildNavLinkAttrs, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            textId: getUniqueDomId(),\n        };\n        return _this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options, viewApi = _a.viewApi;\n        var _b = this.props, cellId = _b.cellId, dayDate = _b.dayDate, todayRange = _b.todayRange;\n        var textId = this.state.textId;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId: textId,\n            text: text,\n            sideText: sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", __assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg, timeHeaderId = props.timeHeaderId, eventHeaderId = props.eventHeaderId, dateHeaderId = props.dateHeaderId;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: function () { return renderEventInnerContent(seg, context); } /* weird */, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { ref: innerElRef, headers: eventHeaderId + \" \" + dateHeaderId, className: \"fc-list-event-title\" }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(seg, context) {\n    var interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", __assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, headers: timeHeaderId + \" \" + dateHeaderId, className: ['fc-list-event-time'].concat(classNames).join(' ') }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this.state, timeHeaderId = _b.timeHeaderId, eventHeaderId = _b.eventHeaderId, dateHeaderIdRoot = _b.dateHeaderIdRoot;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = formatDayString(dayDates[dayIndex]);\n                    var dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n//# sourceMappingURL=main.js.map\n","var n,l,u,i,t,r,o,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return y(l,f,t,r,null)}function y(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,r,o;n.__d&&(r=(t=(l=n).__v).__e,(o=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(o,t,i,l.__n,void 0!==o.ownerSVGElement,null!=t.__h?[r]:null,u,null==r?k(t):r,t.__h),z(u,t),t.__e!=r&&b(t)))})}function w(n,l,u,i,t,r,o,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,r,o,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function C(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||H(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||H(n,r,l[r],u[r],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?T:I,r):n.removeEventListener(l,r?T:I,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,r,o,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,r,o,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,r,o,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&(s===l||(d?s.localName==d:3==s.nodeType))){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,r,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&k(i,0),c),null!=o)for(_=o.length;_--;)null!=o[_]&&h(o[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&N(t[r],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!r&&t||i).__k=v(d,null,[u]),o||e,e,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,r,o,f=a({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,r||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,A(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function A(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function F(n,t){return o=8,A(function(){return n},t)}function T(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function d(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,A as useMemo,F as useCallback,T as useContext,d as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as c,useDebugValue as f}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as d,Fragment as v,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:C(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=S({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:d(d(n).map(t))},k={map:N,forEach:N,count:function(n){return n?d(n).length:0},only:function(n){var t=d(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:d},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){return s(I,{__v:n,i:t})}(M.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=d(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=\"undefined\"!=typeof document,z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function B(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function H(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var Z=h.event;function Y(){}function $(){return this.cancelBubble}function q(){return this.defaultPrevented}h.event=function(n){return Z&&(n=Z(n)),n.persist=Y,n.isPropagationStopped=$,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];V&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!z(e.type)?o=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():u&&P.test(o)?o=o.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===i&&(i=void 0),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=d(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=d(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r}t&&e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J)),n.$$typeof=j,K&&K(n)};var Q=h.__r;h.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return s.bind(null,n)}function en(n){return!!n&&n.$$typeof===j}function rn(n){return en(n)?y.apply(null,arguments):n}function un(n){return!!n.__k&&(p(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},cn=function(n,t){return n(t)},fn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:c,useDebugValue:f,version:\"17.0.2\",Children:k,render:B,hydrate:H,unmountComponentAtNode:un,createPortal:W,createElement:s,createContext:_,createFactory:tn,cloneElement:rn,createRef:b,Fragment:v,isValidElement:en,findDOMNode:on,Component:a,PureComponent:E,memo:g,forwardRef:x,flushSync:cn,unstable_batchedUpdates:ln,StrictMode:v,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X};export{nn as version,k as Children,B as render,H as hydrate,un as unmountComponentAtNode,W as createPortal,tn as createFactory,rn as cloneElement,en as isValidElement,on as findDOMNode,E as PureComponent,g as memo,x as forwardRef,cn as flushSync,ln as unstable_batchedUpdates,fn as StrictMode,L as Suspense,M as SuspenseList,F as lazy,X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","export var OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","// TODO: add types!\nimport { __assign } from \"tslib\";\n/*\nworks with objects and arrays\n*/\nexport function shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = __assign({}, val);\n        }\n    }\n    return val;\n}\nexport function mapHash(input, func) {\n    var output = {};\n    for (var key in input) {\n        if (input.hasOwnProperty(key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n//# sourceMappingURL=utils.js.map","import Vue from 'vue';\nimport { createPlugin } from '@fullcalendar/core';\n/*\nwrap it in an object with a `vue` key, which the custom content-type handler system will look for\n*/\nexport function wrapVDomGenerator(vDomGenerator) {\n    return function (props) {\n        return { vue: vDomGenerator(props) };\n    };\n}\nexport function createVueContentTypePlugin(parent) {\n    return createPlugin({\n        contentTypeHandlers: {\n            vue: function () { return buildVDomHandler(parent); }, // looks for the `vue` key\n        }\n    });\n}\nfunction buildVDomHandler(parent) {\n    var currentEl;\n    var v; // the Vue instance\n    function render(el, vDomContent) {\n        if (currentEl !== el) {\n            if (currentEl && v) { // if changing elements, recreate the vue\n                v.$destroy();\n            }\n            currentEl = el;\n        }\n        if (!v) {\n            v = initVue(vDomContent, parent);\n            // vue's mount method *replaces* the given element. create an artificial inner el\n            var innerEl = document.createElement('span');\n            el.appendChild(innerEl);\n            v.$mount(innerEl);\n        }\n        else {\n            v.content = vDomContent;\n        }\n    }\n    function destroy() {\n        if (v) { // needed?\n            v.$destroy();\n        }\n    }\n    return { render: render, destroy: destroy };\n}\nfunction initVue(initialContent, parent) {\n    return new Vue({\n        parent: parent,\n        data: {\n            content: initialContent,\n        },\n        render: function (h) {\n            var content = this.content;\n            // the slot result can be an array, but the returned value of a vue component's\n            // render method must be a single node.\n            if (content.length === 1) {\n                return content[0];\n            }\n            else {\n                return h('span', {}, content);\n            }\n        }\n    });\n}\n//# sourceMappingURL=custom-content-type.js.map","import { __assign } from \"tslib\";\nimport Vue from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { OPTION_IS_COMPLEX } from './options';\nimport { shallowCopy, mapHash } from './utils';\nimport { wrapVDomGenerator, createVueContentTypePlugin } from './custom-content-type';\nvar FullCalendar = Vue.extend({\n    props: {\n        options: Object\n    },\n    data: initData,\n    render: function (createElement) {\n        return createElement('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        });\n    },\n    mounted: function () {\n        var internal = this.$options;\n        internal.scopedSlotOptions = mapHash(this.$scopedSlots, wrapVDomGenerator); // needed for buildOptions\n        var calendar = new Calendar(this.$el, this.buildOptions(this.options, this));\n        internal.calendar = calendar;\n        calendar.render();\n    },\n    methods: {\n        getApi: getApi,\n        buildOptions: buildOptions,\n    },\n    beforeUpdate: function () {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    beforeDestroy: function () {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nfunction initData() {\n    return {\n        renderId: 0\n    };\n}\nfunction buildOptions(suppliedOptions, parent) {\n    var internal = this.$options;\n    suppliedOptions = suppliedOptions || {};\n    return __assign(__assign(__assign({}, internal.scopedSlotOptions), suppliedOptions), { plugins: (suppliedOptions.plugins || []).concat([\n            createVueContentTypePlugin(parent)\n        ]) });\n}\nfunction getApi() {\n    var internal = this.$options;\n    return internal.calendar;\n}\nfunction buildWatchers() {\n    var watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler: function (options) {\n                var calendar = this.getApi();\n                calendar.pauseRendering();\n                calendar.resetOptions(this.buildOptions(options, this));\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    var _loop_1 = function (complexOptionName) {\n        // handlers called when nested objects change\n        watchers[\"options.\" + complexOptionName] = {\n            deep: true,\n            handler: function (val) {\n                var _a;\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    var calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions((_a = {},\n                        // the only reason we shallow-copy is to trick FC into knowing there's a nested change.\n                        // TODO: future versions of FC will more gracefully handle event option-changes that are same-reference.\n                        _a[complexOptionName] = shallowCopy(val),\n                        _a), true);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    };\n    for (var complexOptionName in OPTION_IS_COMPLEX) {\n        _loop_1(complexOptionName);\n    }\n    return watchers;\n}\nexport default FullCalendar;\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar';\n/*\nRegisters the component globally if appropriate.\nThis modules exposes the component AND an install function.\n\nDerived from:\nhttps://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\n*/\nvar installed = false;\n// declare install function executed by Vue.use()\nexport function install(Vue) {\n    if (!installed) {\n        installed = true;\n        Vue.component('FullCalendar', FullCalendarComponent);\n    }\n}\n// detect a globally availble version of Vue (eg. in browser via <script> tag)\nvar GlobalVue;\nif (typeof globalThis !== 'undefined') {\n    GlobalVue = globalThis.Vue;\n}\nelse {\n    GlobalVue = window.Vue;\n}\n// auto-install if possible\nif (GlobalVue) {\n    GlobalVue.use({\n        install: install\n    });\n}\n// to allow use as module (npm/webpack/etc.) export component\nexport default FullCalendarComponent;\n// so can access any of the utils/types from this lib\nexport * from '@fullcalendar/core';\n//# sourceMappingURL=main.js.map","module.exports = __webpack_public_path__ + \"img/9-small.30df7a62.png\";"],"sourceRoot":""}